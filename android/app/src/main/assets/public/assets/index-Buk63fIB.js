(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nw={exports:{}},ah={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2;function IW(){if(L2)return ah;L2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return ah.Fragment=e,ah.jsx=n,ah.jsxs=n,ah}var j2;function NW(){return j2||(j2=1,nw.exports=IW()),nw.exports}var g=NW(),rw={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2;function RW(){if(V2)return et;V2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function M(V,$,J){this.props=V,this.context=$,this.refs=E,this.updater=J||S}M.prototype.isReactComponent={},M.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function I(){}I.prototype=M.prototype;function N(V,$,J){this.props=V,this.context=$,this.refs=E,this.updater=J||S}var C=N.prototype=new I;C.constructor=N,A(C,M.prototype),C.isPureReactComponent=!0;var R=Array.isArray;function L(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function j(V,$,J){var te=J.ref;return{$$typeof:t,type:V,key:$,ref:te!==void 0?te:null,props:J}}function q(V,$){return j(V.type,$,V.props)}function F(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function z(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(J){return $[J]})}var B=/\/+/g;function X(V,$){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):$.toString(36)}function ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(L,L):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function W(V,$,J,te,fe){var ye=typeof V;(ye==="undefined"||ye==="boolean")&&(V=null);var Te=!1;if(V===null)Te=!0;else switch(ye){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(V.$$typeof){case t:case e:Te=!0;break;case h:return Te=V._init,W(Te(V._payload),$,J,te,fe)}}if(Te)return fe=fe(V),Te=te===""?"."+X(V,0):te,R(fe)?(J="",Te!=null&&(J=Te.replace(B,"$&/")+"/"),W(fe,$,J,"",function(Ie){return Ie})):fe!=null&&(F(fe)&&(fe=q(fe,J+(fe.key==null||V&&V.key===fe.key?"":(""+fe.key).replace(B,"$&/")+"/")+Te)),$.push(fe)),1;Te=0;var Se=te===""?".":te+":";if(R(V))for(var he=0;he<V.length;he++)te=V[he],ye=Se+X(te,he),Te+=W(te,$,J,ye,fe);else if(he=_(V),typeof he=="function")for(V=he.call(V),he=0;!(te=V.next()).done;)te=te.value,ye=Se+X(te,he++),Te+=W(te,$,J,ye,fe);else if(ye==="object"){if(typeof V.then=="function")return W(ie(V),$,J,te,fe);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ee(V,$,J){if(V==null)return V;var te=[],fe=0;return W(V,te,"","",function(ye){return $.call(J,ye,fe++)}),te}function se(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(J){(V._status===0||V._status===-1)&&(V._status=1,V._result=J)},function(J){(V._status===0||V._status===-1)&&(V._status=2,V._result=J)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var ge=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},K={map:ee,forEach:function(V,$,J){ee(V,function(){$.apply(this,arguments)},J)},count:function(V){var $=0;return ee(V,function(){$++}),$},toArray:function(V){return ee(V,function($){return $})||[]},only:function(V){if(!F(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return et.Activity=p,et.Children=K,et.Component=M,et.Fragment=n,et.Profiler=i,et.PureComponent=N,et.StrictMode=r,et.Suspense=c,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,et.__COMPILER_RUNTIME={__proto__:null,c:function(V){return P.H.useMemoCache(V)}},et.cache=function(V){return function(){return V.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(V,$,J){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var te=A({},V.props),fe=V.key;if($!=null)for(ye in $.key!==void 0&&(fe=""+$.key),$)!O.call($,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&$.ref===void 0||(te[ye]=$[ye]);var ye=arguments.length-2;if(ye===1)te.children=J;else if(1<ye){for(var Te=Array(ye),Se=0;Se<ye;Se++)Te[Se]=arguments[Se+2];te.children=Te}return j(V.type,fe,te)},et.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},et.createElement=function(V,$,J){var te,fe={},ye=null;if($!=null)for(te in $.key!==void 0&&(ye=""+$.key),$)O.call($,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(fe[te]=$[te]);var Te=arguments.length-2;if(Te===1)fe.children=J;else if(1<Te){for(var Se=Array(Te),he=0;he<Te;he++)Se[he]=arguments[he+2];fe.children=Se}if(V&&V.defaultProps)for(te in Te=V.defaultProps,Te)fe[te]===void 0&&(fe[te]=Te[te]);return j(V,ye,fe)},et.createRef=function(){return{current:null}},et.forwardRef=function(V){return{$$typeof:l,render:V}},et.isValidElement=F,et.lazy=function(V){return{$$typeof:h,_payload:{_status:-1,_result:V},_init:se}},et.memo=function(V,$){return{$$typeof:f,type:V,compare:$===void 0?null:$}},et.startTransition=function(V){var $=P.T,J={};P.T=J;try{var te=V(),fe=P.S;fe!==null&&fe(J,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(L,ge)}catch(ye){ge(ye)}finally{$!==null&&J.types!==null&&($.types=J.types),P.T=$}},et.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},et.use=function(V){return P.H.use(V)},et.useActionState=function(V,$,J){return P.H.useActionState(V,$,J)},et.useCallback=function(V,$){return P.H.useCallback(V,$)},et.useContext=function(V){return P.H.useContext(V)},et.useDebugValue=function(){},et.useDeferredValue=function(V,$){return P.H.useDeferredValue(V,$)},et.useEffect=function(V,$){return P.H.useEffect(V,$)},et.useEffectEvent=function(V){return P.H.useEffectEvent(V)},et.useId=function(){return P.H.useId()},et.useImperativeHandle=function(V,$,J){return P.H.useImperativeHandle(V,$,J)},et.useInsertionEffect=function(V,$){return P.H.useInsertionEffect(V,$)},et.useLayoutEffect=function(V,$){return P.H.useLayoutEffect(V,$)},et.useMemo=function(V,$){return P.H.useMemo(V,$)},et.useOptimistic=function(V,$){return P.H.useOptimistic(V,$)},et.useReducer=function(V,$,J){return P.H.useReducer(V,$,J)},et.useRef=function(V){return P.H.useRef(V)},et.useState=function(V){return P.H.useState(V)},et.useSyncExternalStore=function(V,$,J){return P.H.useSyncExternalStore(V,$,J)},et.useTransition=function(){return P.H.useTransition()},et.version="19.2.4",et}var U2;function vI(){return U2||(U2=1,rw.exports=RW()),rw.exports}var Y=vI();const re=Ht(Y);var iw={exports:{}},lh={},ow={exports:{}},sw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2;function kW(){return B2||(B2=1,(function(t){function e(W,ee){var se=W.length;W.push(ee);e:for(;0<se;){var ge=se-1>>>1,K=W[ge];if(0<i(K,ee))W[ge]=ee,W[se]=K,se=ge;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ee=W[0],se=W.pop();if(se!==ee){W[0]=se;e:for(var ge=0,K=W.length,V=K>>>1;ge<V;){var $=2*(ge+1)-1,J=W[$],te=$+1,fe=W[te];if(0>i(J,se))te<K&&0>i(fe,J)?(W[ge]=fe,W[te]=se,ge=te):(W[ge]=J,W[$]=se,ge=$);else if(te<K&&0>i(fe,se))W[ge]=fe,W[te]=se,ge=te;else break e}}return ee}function i(W,ee){var se=W.sortIndex-ee.sortIndex;return se!==0?se:W.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],h=1,p=null,y=3,_=!1,S=!1,A=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function C(W){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=W)r(f),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=n(f)}}function R(W){if(A=!1,C(W),!S)if(n(c)!==null)S=!0,L||(L=!0,z());else{var ee=n(f);ee!==null&&ie(R,ee.startTime-W)}}var L=!1,P=-1,O=5,j=-1;function q(){return E?!0:!(t.unstable_now()-j<O)}function F(){if(E=!1,L){var W=t.unstable_now();j=W;var ee=!0;try{e:{S=!1,A&&(A=!1,I(P),P=-1),_=!0;var se=y;try{t:{for(C(W),p=n(c);p!==null&&!(p.expirationTime>W&&q());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,y=p.priorityLevel;var K=ge(p.expirationTime<=W);if(W=t.unstable_now(),typeof K=="function"){p.callback=K,C(W),ee=!0;break t}p===n(c)&&r(c),C(W)}else r(c);p=n(c)}if(p!==null)ee=!0;else{var V=n(f);V!==null&&ie(R,V.startTime-W),ee=!1}}break e}finally{p=null,y=se,_=!1}ee=void 0}}finally{ee?z():L=!1}}}var z;if(typeof N=="function")z=function(){N(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=F,z=function(){X.postMessage(null)}}else z=function(){M(F,0)};function ie(W,ee){P=M(function(){W(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(W){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var se=y;y=ee;try{return W()}finally{y=se}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(W,ee){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var se=y;y=W;try{return ee()}finally{y=se}},t.unstable_scheduleCallback=function(W,ee,se){var ge=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ge+se:ge):se=ge,W){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=se+K,W={id:h++,callback:ee,priorityLevel:W,startTime:se,expirationTime:K,sortIndex:-1},se>ge?(W.sortIndex=se,e(f,W),n(c)===null&&W===n(f)&&(A?(I(P),P=-1):A=!0,ie(R,se-ge))):(W.sortIndex=K,e(c,W),S||_||(S=!0,L||(L=!0,z()))),W},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(W){var ee=y;return function(){var se=y;y=ee;try{return W.apply(this,arguments)}finally{y=se}}}})(sw)),sw}var F2;function PW(){return F2||(F2=1,ow.exports=kW()),ow.exports}var aw={exports:{}},cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q2;function MW(){if(q2)return cr;q2=1;var t=vI();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cr.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(c,f,null,h)},cr.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},cr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},cr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},cr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:_}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:y,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},cr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},cr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},cr.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},cr.requestFormReset=function(c){r.d.r(c)},cr.unstable_batchedUpdates=function(c,f){return c(f)},cr.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},cr.useFormStatus=function(){return s.H.useHostTransitionStatus()},cr.version="19.2.4",cr}var z2;function OW(){if(z2)return aw.exports;z2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),aw.exports=MW(),aw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function DW(){if($2)return lh;$2=1;var t=PW(),e=vI(),n=OW();function r(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function s(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function l(a){if(a.tag===31){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(r(188))}function f(a){var u=a.alternate;if(!u){if(u=o(a),u===null)throw Error(r(188));return u!==a?null:a}for(var d=a,m=u;;){var w=d.return;if(w===null)break;var T=w.alternate;if(T===null){if(m=w.return,m!==null){d=m;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===d)return c(w),a;if(T===m)return c(w),u;T=T.sibling}throw Error(r(188))}if(d.return!==m.return)d=w,m=T;else{for(var D=!1,G=w.child;G;){if(G===d){D=!0,d=w,m=T;break}if(G===m){D=!0,m=w,d=T;break}G=G.sibling}if(!D){for(G=T.child;G;){if(G===d){D=!0,d=T,m=w;break}if(G===m){D=!0,m=T,d=w;break}G=G.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:u}function h(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=h(a),u!==null)return u;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function X(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case M:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case L:return"SuspenseList";case j:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case N:return a.displayName||"Context";case I:return(a._context.displayName||"Context")+".Consumer";case C:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return u=a.displayName||null,u!==null?u:X(a.type)||"Memo";case O:u=a._payload,a=a._init;try{return X(a(u))}catch{}}return null}var ie=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ge=[],K=-1;function V(a){return{current:a}}function $(a){0>K||(a.current=ge[K],ge[K]=null,K--)}function J(a,u){K++,ge[K]=a.current,a.current=u}var te=V(null),fe=V(null),ye=V(null),Te=V(null);function Se(a,u){switch(J(ye,u),J(fe,a),J(te,null),u.nodeType){case 9:case 11:a=(a=u.documentElement)&&(a=a.namespaceURI)?o2(a):0;break;default:if(a=u.tagName,u=u.namespaceURI)u=o2(u),a=s2(u,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}$(te),J(te,a)}function he(){$(te),$(fe),$(ye)}function Ie(a){a.memoizedState!==null&&J(Te,a);var u=te.current,d=s2(u,a.type);u!==d&&(J(fe,a),J(te,d))}function Ae(a){fe.current===a&&($(te),$(fe)),Te.current===a&&($(Te),rh._currentValue=se)}var pe,$e;function Ce(a){if(pe===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);pe=u&&u[1]||"",$e=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+a+$e}var Je=!1;function nt(a,u){if(!a||Je)return"";Je=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(de){var ue=de}Reflect.construct(a,[],xe)}else{try{xe.call()}catch(de){ue=de}a.call(xe.prototype)}}else{try{throw Error()}catch(de){ue=de}(xe=a())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(de){if(de&&ue&&typeof de.stack=="string")return[de.stack,ue.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=m.DetermineComponentFrameRoot(),D=T[0],G=T[1];if(D&&G){var Q=D.split(`
`),le=G.split(`
`);for(w=m=0;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;for(;w<le.length&&!le[w].includes("DetermineComponentFrameRoot");)w++;if(m===Q.length||w===le.length)for(m=Q.length-1,w=le.length-1;1<=m&&0<=w&&Q[m]!==le[w];)w--;for(;1<=m&&0<=w;m--,w--)if(Q[m]!==le[w]){if(m!==1||w!==1)do if(m--,w--,0>w||Q[m]!==le[w]){var me=`
`+Q[m].replace(" at new "," at ");return a.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",a.displayName)),me}while(1<=m&&0<=w);break}}}finally{Je=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Ce(d):""}function yt(a,u){switch(a.tag){case 26:case 27:case 5:return Ce(a.type);case 16:return Ce("Lazy");case 13:return a.child!==u&&u!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return nt(a.type,!1);case 11:return nt(a.type.render,!1);case 1:return nt(a.type,!0);case 31:return Ce("Activity");default:return""}}function bt(a){try{var u="",d=null;do u+=yt(a,d),d=a,a=a.return;while(a);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var lt=Object.prototype.hasOwnProperty,Ze=t.unstable_scheduleCallback,mn=t.unstable_cancelCallback,gi=t.unstable_shouldYield,Yr=t.unstable_requestPaint,Kt=t.unstable_now,Gi=t.unstable_getCurrentPriorityLevel,_o=t.unstable_ImmediatePriority,wo=t.unstable_UserBlockingPriority,Re=t.unstable_NormalPriority,Ve=t.unstable_LowPriority,It=t.unstable_IdlePriority,gn=t.log,Ir=t.unstable_setDisableYieldValue,Mt=null,Ot=null;function yi(a){if(typeof gn=="function"&&Ir(a),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Mt,a)}catch{}}var yn=Math.clz32?Math.clz32:Um,Vm=Math.log,tc=Math.LN2;function Um(a){return a>>>=0,a===0?32:31-(Vm(a)/tc|0)|0}var To=256,kl=262144,Tn=4194304;function Eo(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function So(a,u,d){var m=a.pendingLanes;if(m===0)return 0;var w=0,T=a.suspendedLanes,D=a.pingedLanes;a=a.warmLanes;var G=m&134217727;return G!==0?(m=G&~T,m!==0?w=Eo(m):(D&=G,D!==0?w=Eo(D):d||(d=G&~a,d!==0&&(w=Eo(d))))):(G=m&~T,G!==0?w=Eo(G):D!==0?w=Eo(D):d||(d=m&~a,d!==0&&(w=Eo(d)))),w===0?0:u!==0&&u!==w&&(u&T)===0&&(T=w&-w,d=u&-u,T>=d||T===32&&(d&4194048)!==0)?u:w}function Hi(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function sx(a,u){switch(a){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bm(){var a=Tn;return Tn<<=1,(Tn&62914560)===0&&(Tn=4194304),a}function Ao(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function Pl(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ax(a,u,d,m,w,T){var D=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var G=a.entanglements,Q=a.expirationTimes,le=a.hiddenUpdates;for(d=D&~d;0<d;){var me=31-yn(d),xe=1<<me;G[me]=0,Q[me]=-1;var ue=le[me];if(ue!==null)for(le[me]=null,me=0;me<ue.length;me++){var de=ue[me];de!==null&&(de.lane&=-536870913)}d&=~xe}m!==0&&Ml(a,m,0),T!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=T&~(D&~u))}function Ml(a,u,d){a.pendingLanes|=u,a.suspendedLanes&=~u;var m=31-yn(u);a.entangledLanes|=u,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function ld(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var m=31-yn(d),w=1<<m;w&u|a[m]&u&&(a[m]|=u),d&=~w}}function ud(a,u){var d=u&-u;return d=(d&42)!==0?1:Ol(d),(d&(a.suspendedLanes|u))!==0?0:d}function Ol(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function fs(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Fm(){var a=ee.p;return a!==0?a:(a=window.event,a===void 0?32:N2(a.type))}function Ki(a,u){var d=ee.p;try{return ee.p=a,u()}finally{ee.p=d}}var Wi=Math.random().toString(36).slice(2),En="__reactFiber$"+Wi,zn="__reactProps$"+Wi,Co="__reactContainer$"+Wi,nc="__reactEvents$"+Wi,lx="__reactListeners$"+Wi,qm="__reactHandles$"+Wi,zm="__reactResources$"+Wi,Io="__reactMarker$"+Wi;function rc(a){delete a[En],delete a[zn],delete a[nc],delete a[lx],delete a[qm]}function No(a){var u=a[En];if(u)return u;for(var d=a.parentNode;d;){if(u=d[Co]||d[En]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(a=h2(a);a!==null;){if(d=a[En])return d;a=h2(a)}return u}a=d,d=a.parentNode}return null}function vi(a){if(a=a[En]||a[Co]){var u=a.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return a}return null}function Jr(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(r(33))}function Ro(a){var u=a[zm];return u||(u=a[zm]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Sn(a){a[Io]=!0}var cd=new Set,fd={};function ko(a,u){Po(a,u),Po(a+"Capture",u)}function Po(a,u){for(fd[a]=u,a=0;a<u.length;a++)cd.add(u[a])}var dd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hd={},pd={};function $m(a){return lt.call(pd,a)?!0:lt.call(hd,a)?!1:dd.test(a)?pd[a]=!0:(hd[a]=!0,!1)}function ic(a,u,d){if($m(u))if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+d)}}function Xr(a,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+d)}}function An(a,u,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(u,d,""+m)}}function $n(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function sa(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function md(a,u,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u);if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,T=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return w.call(this)},set:function(D){d=""+D,T.call(this,D)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Dt(a){if(!a._valueTracker){var u=sa(a)?"checked":"value";a._valueTracker=md(a,u,""+a[u])}}function Dl(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var d=u.getValue(),m="";return a&&(m=sa(a)?a.checked?"true":"false":a.value),a=m,a!==d?(u.setValue(a),!0):!1}function Mo(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ll=/[\n"\\]/g;function Nr(a){return a.replace(Ll,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function oc(a,u,d,m,w,T,D,G){a.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.type=D:a.removeAttribute("type"),u!=null?D==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+$n(u)):a.value!==""+$n(u)&&(a.value=""+$n(u)):D!=="submit"&&D!=="reset"||a.removeAttribute("value"),u!=null?gd(a,D,$n(u)):d!=null?gd(a,D,$n(d)):m!=null&&a.removeAttribute("value"),w==null&&T!=null&&(a.defaultChecked=!!T),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?a.name=""+$n(G):a.removeAttribute("name")}function Gm(a,u,d,m,w,T,D,G){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),u!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||u!=null)){Dt(a);return}d=d!=null?""+$n(d):"",u=u!=null?""+$n(u):d,G||u===a.value||(a.value=u),a.defaultValue=u}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=G?a.checked:!!m,a.defaultChecked=!!m,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.name=D),Dt(a)}function gd(a,u,d){u==="number"&&Mo(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function aa(a,u,d,m){if(a=a.options,u){u={};for(var w=0;w<d.length;w++)u["$"+d[w]]=!0;for(d=0;d<a.length;d++)w=u.hasOwnProperty("$"+a[d].value),a[d].selected!==w&&(a[d].selected=w),w&&m&&(a[d].defaultSelected=!0)}else{for(d=""+$n(d),u=null,w=0;w<a.length;w++){if(a[w].value===d){a[w].selected=!0,m&&(a[w].defaultSelected=!0);return}u!==null||a[w].disabled||(u=a[w])}u!==null&&(u.selected=!0)}}function Hm(a,u,d){if(u!=null&&(u=""+$n(u),u!==a.value&&(a.value=u),d==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=d!=null?""+$n(d):""}function la(a,u,d,m){if(u==null){if(m!=null){if(d!=null)throw Error(r(92));if(ie(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),u=d}d=$n(u),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),Dt(a)}function Rr(a,u){if(u){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=u;return}}a.textContent=u}var Km=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yd(a,u,d){var m=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":m?a.setProperty(u,d):typeof d!="number"||d===0||Km.has(u)?u==="float"?a.cssFloat=d:a[u]=(""+d).trim():a[u]=d+"px"}function vd(a,u,d){if(u!=null&&typeof u!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var w in u)m=u[w],u.hasOwnProperty(w)&&d[w]!==m&&yd(a,w,m)}else for(var T in u)u.hasOwnProperty(T)&&yd(a,T,u[T])}function sc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ua=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ac(a){return ua.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Yi(){}var bd=null;function bi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ca=null,Oo=null;function jl(a){var u=vi(a);if(u&&(a=u.stateNode)){var d=a[zn]||null;e:switch(a=u.stateNode,u.type){case"input":if(oc(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Nr(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var m=d[u];if(m!==a&&m.form===a.form){var w=m[zn]||null;if(!w)throw Error(r(90));oc(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<d.length;u++)m=d[u],m.form===a.form&&Dl(m)}break e;case"textarea":Hm(a,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&aa(a,!!d.multiple,u,!1)}}}var lc=!1;function fa(a,u,d){if(lc)return a(u,d);lc=!0;try{var m=a(u);return m}finally{if(lc=!1,(ca!==null||Oo!==null)&&(Fg(),ca&&(u=ca,a=Oo,Oo=ca=null,jl(u),a)))for(u=0;u<a.length;u++)jl(a[u])}}function Ji(a,u){var d=a.stateNode;if(d===null)return null;var m=d[zn]||null;if(m===null)return null;d=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if(xi)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{Vl=!1}var Do=null,xd=null,Ul=null;function _d(){if(Ul)return Ul;var a,u=xd,d=u.length,m,w="value"in Do?Do.value:Do.textContent,T=w.length;for(a=0;a<d&&u[a]===w[a];a++);var D=d-a;for(m=1;m<=D&&u[d-m]===w[T-m];m++);return Ul=w.slice(a,1<m?1-m:void 0)}function Bl(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function ds(){return!0}function Xi(){return!1}function er(a){function u(d,m,w,T,D){this._reactName=d,this._targetInst=w,this.type=m,this.nativeEvent=T,this.target=D,this.currentTarget=null;for(var G in a)a.hasOwnProperty(G)&&(d=a[G],this[G]=d?d(T):T[G]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ds:Xi,this.isPropagationStopped=Xi,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),u}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=er(hs),da=p({},hs,{view:0,detail:0}),wd=er(da),ha,uc,jo,cc=p({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==jo&&(jo&&a.type==="mousemove"?(ha=a.screenX-jo.screenX,uc=a.screenY-jo.screenY):uc=ha=0,jo=a),ha)},movementY:function(a){return"movementY"in a?a.movementY:uc}}),Td=er(cc),Fl=p({},cc,{dataTransfer:0}),Ym=er(Fl),Jm=p({},da,{relatedTarget:0}),ql=er(Jm),Ed=p({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Xm=er(Ed),fc=p({},hs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Qm=er(fc),Zm=p({},hs,{data:0}),Vo=er(Zm),eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rg(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=ng[a])?!!u[a]:!1}function pa(){return rg}var xr=p({},da,{key:function(a){if(a.key){var u=eg[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Bl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?tg[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(a){return a.type==="keypress"?Bl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Bl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ig=er(xr),og=p({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=er(og),x=p({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),k=er(x),U=p({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),H=er(U),oe=p({},cc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ce=er(oe),Ne=p({},hs,{newState:0,oldState:0}),rt=er(Ne),vn=[9,13,27,32],At=xi&&"CompositionEvent"in window,rn=null;xi&&"documentMode"in document&&(rn=document.documentMode);var _i=xi&&"TextEvent"in window&&!rn,Uo=xi&&(!At||rn&&8<rn&&11>=rn),Qi=" ",Zi=!1;function zl(a,u){switch(a){case"keyup":return vn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var hc=!1;function Q7(a,u){switch(a){case"compositionend":return dc(u);case"keypress":return u.which!==32?null:(Zi=!0,Qi);case"textInput":return a=u.data,a===Qi&&Zi?null:a;default:return null}}function Z7(a,u){if(hc)return a==="compositionend"||!At&&zl(a,u)?(a=_d(),Ul=xd=Do=null,hc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Uo&&u.locale!=="ko"?null:u.data;default:return null}}var eK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gk(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!eK[a.type]:u==="textarea"}function yk(a,u,d,m){ca?Oo?Oo.push(m):Oo=[m]:ca=m,u=Wg(u,"onChange"),0<u.length&&(d=new Lo("onChange","change",null,d,m),a.push({event:d,listeners:u}))}var Sd=null,Ad=null;function tK(a){ZM(a,0)}function sg(a){var u=Jr(a);if(Dl(u))return a}function vk(a,u){if(a==="change")return u}var bk=!1;if(xi){var ux;if(xi){var cx="oninput"in document;if(!cx){var xk=document.createElement("div");xk.setAttribute("oninput","return;"),cx=typeof xk.oninput=="function"}ux=cx}else ux=!1;bk=ux&&(!document.documentMode||9<document.documentMode)}function _k(){Sd&&(Sd.detachEvent("onpropertychange",wk),Ad=Sd=null)}function wk(a){if(a.propertyName==="value"&&sg(Ad)){var u=[];yk(u,Ad,a,bi(a)),fa(tK,u)}}function nK(a,u,d){a==="focusin"?(_k(),Sd=u,Ad=d,Sd.attachEvent("onpropertychange",wk)):a==="focusout"&&_k()}function rK(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return sg(Ad)}function iK(a,u){if(a==="click")return sg(u)}function oK(a,u){if(a==="input"||a==="change")return sg(u)}function sK(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Qr=typeof Object.is=="function"?Object.is:sK;function Cd(a,u){if(Qr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),m=Object.keys(u);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var w=d[m];if(!lt.call(u,w)||!Qr(a[w],u[w]))return!1}return!0}function Tk(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ek(a,u){var d=Tk(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=u&&m>=u)return{node:d,offset:u-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Tk(d)}}function Sk(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?Sk(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function Ak(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=Mo(a.document);u instanceof a.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)a=u.contentWindow;else break;u=Mo(a.document)}return u}function fx(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}var aK=xi&&"documentMode"in document&&11>=document.documentMode,pc=null,dx=null,Id=null,hx=!1;function Ck(a,u,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;hx||pc==null||pc!==Mo(m)||(m=pc,"selectionStart"in m&&fx(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Id&&Cd(Id,m)||(Id=m,m=Wg(dx,"onSelect"),0<m.length&&(u=new Lo("onSelect","select",null,u,d),a.push({event:u,listeners:m}),u.target=pc)))}function $l(a,u){var d={};return d[a.toLowerCase()]=u.toLowerCase(),d["Webkit"+a]="webkit"+u,d["Moz"+a]="moz"+u,d}var mc={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionrun:$l("Transition","TransitionRun"),transitionstart:$l("Transition","TransitionStart"),transitioncancel:$l("Transition","TransitionCancel"),transitionend:$l("Transition","TransitionEnd")},px={},Ik={};xi&&(Ik=document.createElement("div").style,"AnimationEvent"in window||(delete mc.animationend.animation,delete mc.animationiteration.animation,delete mc.animationstart.animation),"TransitionEvent"in window||delete mc.transitionend.transition);function Gl(a){if(px[a])return px[a];if(!mc[a])return a;var u=mc[a],d;for(d in u)if(u.hasOwnProperty(d)&&d in Ik)return px[a]=u[d];return a}var Nk=Gl("animationend"),Rk=Gl("animationiteration"),kk=Gl("animationstart"),lK=Gl("transitionrun"),uK=Gl("transitionstart"),cK=Gl("transitioncancel"),Pk=Gl("transitionend"),Mk=new Map,mx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mx.push("scrollEnd");function eo(a,u){Mk.set(a,u),ko(u,[a])}var ag=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},wi=[],gc=0,gx=0;function lg(){for(var a=gc,u=gx=gc=0;u<a;){var d=wi[u];wi[u++]=null;var m=wi[u];wi[u++]=null;var w=wi[u];wi[u++]=null;var T=wi[u];if(wi[u++]=null,m!==null&&w!==null){var D=m.pending;D===null?w.next=w:(w.next=D.next,D.next=w),m.pending=w}T!==0&&Ok(d,w,T)}}function ug(a,u,d,m){wi[gc++]=a,wi[gc++]=u,wi[gc++]=d,wi[gc++]=m,gx|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function yx(a,u,d,m){return ug(a,u,d,m),cg(a)}function Hl(a,u){return ug(a,null,null,u),cg(a)}function Ok(a,u,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var w=!1,T=a.return;T!==null;)T.childLanes|=d,m=T.alternate,m!==null&&(m.childLanes|=d),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(w=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,w&&u!==null&&(w=31-yn(d),a=T.hiddenUpdates,m=a[w],m===null?a[w]=[u]:m.push(u),u.lane=d|536870912),T):null}function cg(a){if(50<Jd)throw Jd=0,A_=null,Error(r(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var yc={};function fK(a,u,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(a,u,d,m){return new fK(a,u,d,m)}function vx(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ms(a,u){var d=a.alternate;return d===null?(d=Zr(a.tag,u,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Dk(a,u){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,u=d.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function fg(a,u,d,m,w,T){var D=0;if(m=a,typeof a=="function")vx(a)&&(D=1);else if(typeof a=="string")D=gW(a,d,te.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case j:return a=Zr(31,d,u,w),a.elementType=j,a.lanes=T,a;case A:return Kl(d.children,w,T,u);case E:D=8,w|=24;break;case M:return a=Zr(12,d,u,w|2),a.elementType=M,a.lanes=T,a;case R:return a=Zr(13,d,u,w),a.elementType=R,a.lanes=T,a;case L:return a=Zr(19,d,u,w),a.elementType=L,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:D=10;break e;case I:D=9;break e;case C:D=11;break e;case P:D=14;break e;case O:D=16,m=null;break e}D=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return u=Zr(D,d,u,w),u.elementType=a,u.type=m,u.lanes=T,u}function Kl(a,u,d,m){return a=Zr(7,a,m,u),a.lanes=d,a}function bx(a,u,d){return a=Zr(6,a,null,u),a.lanes=d,a}function Lk(a){var u=Zr(18,null,null,0);return u.stateNode=a,u}function xx(a,u,d){return u=Zr(4,a.children!==null?a.children:[],a.key,u),u.lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}var jk=new WeakMap;function Ti(a,u){if(typeof a=="object"&&a!==null){var d=jk.get(a);return d!==void 0?d:(u={value:a,source:u,stack:bt(u)},jk.set(a,u),u)}return{value:a,source:u,stack:bt(u)}}var vc=[],bc=0,dg=null,Nd=0,Ei=[],Si=0,ma=null,Bo=1,Fo="";function gs(a,u){vc[bc++]=Nd,vc[bc++]=dg,dg=a,Nd=u}function Vk(a,u,d){Ei[Si++]=Bo,Ei[Si++]=Fo,Ei[Si++]=ma,ma=a;var m=Bo;a=Fo;var w=32-yn(m)-1;m&=~(1<<w),d+=1;var T=32-yn(u)+w;if(30<T){var D=w-w%5;T=(m&(1<<D)-1).toString(32),m>>=D,w-=D,Bo=1<<32-yn(u)+w|d<<w|m,Fo=T+a}else Bo=1<<T|d<<w|m,Fo=a}function _x(a){a.return!==null&&(gs(a,1),Vk(a,1,0))}function wx(a){for(;a===dg;)dg=vc[--bc],vc[bc]=null,Nd=vc[--bc],vc[bc]=null;for(;a===ma;)ma=Ei[--Si],Ei[Si]=null,Fo=Ei[--Si],Ei[Si]=null,Bo=Ei[--Si],Ei[Si]=null}function Uk(a,u){Ei[Si++]=Bo,Ei[Si++]=Fo,Ei[Si++]=ma,Bo=u.id,Fo=u.overflow,ma=a}var tr=null,Zt=null,gt=!1,ga=null,Ai=!1,Tx=Error(r(519));function ya(a){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rd(Ti(u,a)),Tx}function Bk(a){var u=a.stateNode,d=a.type,m=a.memoizedProps;switch(u[En]=a,u[zn]=m,d){case"dialog":at("cancel",u),at("close",u);break;case"iframe":case"object":case"embed":at("load",u);break;case"video":case"audio":for(d=0;d<Qd.length;d++)at(Qd[d],u);break;case"source":at("error",u);break;case"img":case"image":case"link":at("error",u),at("load",u);break;case"details":at("toggle",u);break;case"input":at("invalid",u),Gm(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":at("invalid",u);break;case"textarea":at("invalid",u),la(u,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||m.suppressHydrationWarning===!0||r2(u.textContent,d)?(m.popover!=null&&(at("beforetoggle",u),at("toggle",u)),m.onScroll!=null&&at("scroll",u),m.onScrollEnd!=null&&at("scrollend",u),m.onClick!=null&&(u.onclick=Yi),u=!0):u=!1,u||ya(a,!0)}function Fk(a){for(tr=a.return;tr;)switch(tr.tag){case 5:case 31:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:tr=tr.return}}function xc(a){if(a!==tr)return!1;if(!gt)return Fk(a),gt=!0,!1;var u=a.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||F_(a.type,a.memoizedProps)),d=!d),d&&Zt&&ya(a),Fk(a),u===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Zt=d2(a)}else if(u===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Zt=d2(a)}else u===27?(u=Zt,ka(a.type)?(a=H_,H_=null,Zt=a):Zt=u):Zt=tr?Ii(a.stateNode.nextSibling):null;return!0}function Wl(){Zt=tr=null,gt=!1}function Ex(){var a=ga;return a!==null&&(Or===null?Or=a:Or.push.apply(Or,a),ga=null),a}function Rd(a){ga===null?ga=[a]:ga.push(a)}var Sx=V(null),Yl=null,ys=null;function va(a,u,d){J(Sx,u._currentValue),u._currentValue=d}function vs(a){a._currentValue=Sx.current,$(Sx)}function Ax(a,u,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),a===d)break;a=a.return}}function Cx(a,u,d,m){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var T=w.dependencies;if(T!==null){var D=w.child;T=T.firstContext;e:for(;T!==null;){var G=T;T=w;for(var Q=0;Q<u.length;Q++)if(G.context===u[Q]){T.lanes|=d,G=T.alternate,G!==null&&(G.lanes|=d),Ax(T.return,d,a),m||(D=null);break e}T=G.next}}else if(w.tag===18){if(D=w.return,D===null)throw Error(r(341));D.lanes|=d,T=D.alternate,T!==null&&(T.lanes|=d),Ax(D,d,a),D=null}else D=w.child;if(D!==null)D.return=w;else for(D=w;D!==null;){if(D===a){D=null;break}if(w=D.sibling,w!==null){w.return=D.return,D=w;break}D=D.return}w=D}}function _c(a,u,d,m){a=null;for(var w=u,T=!1;w!==null;){if(!T){if((w.flags&524288)!==0)T=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var D=w.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var G=w.type;Qr(w.pendingProps.value,D.value)||(a!==null?a.push(G):a=[G])}}else if(w===Te.current){if(D=w.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(rh):a=[rh])}w=w.return}a!==null&&Cx(u,a,d,m),u.flags|=262144}function hg(a){for(a=a.firstContext;a!==null;){if(!Qr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Jl(a){Yl=a,ys=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function nr(a){return qk(Yl,a)}function pg(a,u){return Yl===null&&Jl(a),qk(a,u)}function qk(a,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},ys===null){if(a===null)throw Error(r(308));ys=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else ys=ys.next=u;return d}var dK=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){u.aborted=!0,a.forEach(function(d){return d()})}},hK=t.unstable_scheduleCallback,pK=t.unstable_NormalPriority,Cn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ix(){return{controller:new dK,data:new Map,refCount:0}}function kd(a){a.refCount--,a.refCount===0&&hK(pK,function(){a.controller.abort()})}var Pd=null,Nx=0,wc=0,Tc=null;function mK(a,u){if(Pd===null){var d=Pd=[];Nx=0,wc=P_(),Tc={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Nx++,u.then(zk,zk),u}function zk(){if(--Nx===0&&Pd!==null){Tc!==null&&(Tc.status="fulfilled");var a=Pd;Pd=null,wc=0,Tc=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function gK(a,u){var d=[],m={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return a.then(function(){m.status="fulfilled",m.value=u;for(var w=0;w<d.length;w++)(0,d[w])(u)},function(w){for(m.status="rejected",m.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),m}var $k=W.S;W.S=function(a,u){CM=Kt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&mK(a,u),$k!==null&&$k(a,u)};var Xl=V(null);function Rx(){var a=Xl.current;return a!==null?a:Wt.pooledCache}function mg(a,u){u===null?J(Xl,Xl.current):J(Xl,u.pool)}function Gk(){var a=Rx();return a===null?null:{parent:Cn._currentValue,pool:a}}var Ec=Error(r(460)),kx=Error(r(474)),gg=Error(r(542)),yg={then:function(){}};function Hk(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Kk(a,u,d){switch(d=a[d],d===void 0?a.push(u):d!==u&&(u.then(Yi,Yi),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,Yk(a),a;default:if(typeof u.status=="string")u.then(Yi,Yi);else{if(a=Wt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=u,a.status="pending",a.then(function(m){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=m}},function(m){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,Yk(a),a}throw Zl=u,Ec}}function Ql(a){try{var u=a._init;return u(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Zl=d,Ec):d}}var Zl=null;function Wk(){if(Zl===null)throw Error(r(459));var a=Zl;return Zl=null,a}function Yk(a){if(a===Ec||a===gg)throw Error(r(483))}var Sc=null,Md=0;function vg(a){var u=Md;return Md+=1,Sc===null&&(Sc=[]),Kk(Sc,a,u)}function Od(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function bg(a,u){throw u.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function Jk(a){function u(ne,Z){if(a){var ae=ne.deletions;ae===null?(ne.deletions=[Z],ne.flags|=16):ae.push(Z)}}function d(ne,Z){if(!a)return null;for(;Z!==null;)u(ne,Z),Z=Z.sibling;return null}function m(ne){for(var Z=new Map;ne!==null;)ne.key!==null?Z.set(ne.key,ne):Z.set(ne.index,ne),ne=ne.sibling;return Z}function w(ne,Z){return ne=ms(ne,Z),ne.index=0,ne.sibling=null,ne}function T(ne,Z,ae){return ne.index=ae,a?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<Z?(ne.flags|=67108866,Z):ae):(ne.flags|=67108866,Z)):(ne.flags|=1048576,Z)}function D(ne){return a&&ne.alternate===null&&(ne.flags|=67108866),ne}function G(ne,Z,ae,ve){return Z===null||Z.tag!==6?(Z=bx(ae,ne.mode,ve),Z.return=ne,Z):(Z=w(Z,ae),Z.return=ne,Z)}function Q(ne,Z,ae,ve){var Be=ae.type;return Be===A?me(ne,Z,ae.props.children,ve,ae.key):Z!==null&&(Z.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===O&&Ql(Be)===Z.type)?(Z=w(Z,ae.props),Od(Z,ae),Z.return=ne,Z):(Z=fg(ae.type,ae.key,ae.props,null,ne.mode,ve),Od(Z,ae),Z.return=ne,Z)}function le(ne,Z,ae,ve){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ae.containerInfo||Z.stateNode.implementation!==ae.implementation?(Z=xx(ae,ne.mode,ve),Z.return=ne,Z):(Z=w(Z,ae.children||[]),Z.return=ne,Z)}function me(ne,Z,ae,ve,Be){return Z===null||Z.tag!==7?(Z=Kl(ae,ne.mode,ve,Be),Z.return=ne,Z):(Z=w(Z,ae),Z.return=ne,Z)}function xe(ne,Z,ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=bx(""+Z,ne.mode,ae),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return ae=fg(Z.type,Z.key,Z.props,null,ne.mode,ae),Od(ae,Z),ae.return=ne,ae;case S:return Z=xx(Z,ne.mode,ae),Z.return=ne,Z;case O:return Z=Ql(Z),xe(ne,Z,ae)}if(ie(Z)||z(Z))return Z=Kl(Z,ne.mode,ae,null),Z.return=ne,Z;if(typeof Z.then=="function")return xe(ne,vg(Z),ae);if(Z.$$typeof===N)return xe(ne,pg(ne,Z),ae);bg(ne,Z)}return null}function ue(ne,Z,ae,ve){var Be=Z!==null?Z.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Be!==null?null:G(ne,Z,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:return ae.key===Be?Q(ne,Z,ae,ve):null;case S:return ae.key===Be?le(ne,Z,ae,ve):null;case O:return ae=Ql(ae),ue(ne,Z,ae,ve)}if(ie(ae)||z(ae))return Be!==null?null:me(ne,Z,ae,ve,null);if(typeof ae.then=="function")return ue(ne,Z,vg(ae),ve);if(ae.$$typeof===N)return ue(ne,Z,pg(ne,ae),ve);bg(ne,ae)}return null}function de(ne,Z,ae,ve,Be){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ne=ne.get(ae)||null,G(Z,ne,""+ve,Be);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:return ne=ne.get(ve.key===null?ae:ve.key)||null,Q(Z,ne,ve,Be);case S:return ne=ne.get(ve.key===null?ae:ve.key)||null,le(Z,ne,ve,Be);case O:return ve=Ql(ve),de(ne,Z,ae,ve,Be)}if(ie(ve)||z(ve))return ne=ne.get(ae)||null,me(Z,ne,ve,Be,null);if(typeof ve.then=="function")return de(ne,Z,ae,vg(ve),Be);if(ve.$$typeof===N)return de(ne,Z,ae,pg(Z,ve),Be);bg(Z,ve)}return null}function Le(ne,Z,ae,ve){for(var Be=null,wt=null,je=Z,ot=Z=0,ct=null;je!==null&&ot<ae.length;ot++){je.index>ot?(ct=je,je=null):ct=je.sibling;var Tt=ue(ne,je,ae[ot],ve);if(Tt===null){je===null&&(je=ct);break}a&&je&&Tt.alternate===null&&u(ne,je),Z=T(Tt,Z,ot),wt===null?Be=Tt:wt.sibling=Tt,wt=Tt,je=ct}if(ot===ae.length)return d(ne,je),gt&&gs(ne,ot),Be;if(je===null){for(;ot<ae.length;ot++)je=xe(ne,ae[ot],ve),je!==null&&(Z=T(je,Z,ot),wt===null?Be=je:wt.sibling=je,wt=je);return gt&&gs(ne,ot),Be}for(je=m(je);ot<ae.length;ot++)ct=de(je,ne,ot,ae[ot],ve),ct!==null&&(a&&ct.alternate!==null&&je.delete(ct.key===null?ot:ct.key),Z=T(ct,Z,ot),wt===null?Be=ct:wt.sibling=ct,wt=ct);return a&&je.forEach(function(La){return u(ne,La)}),gt&&gs(ne,ot),Be}function ze(ne,Z,ae,ve){if(ae==null)throw Error(r(151));for(var Be=null,wt=null,je=Z,ot=Z=0,ct=null,Tt=ae.next();je!==null&&!Tt.done;ot++,Tt=ae.next()){je.index>ot?(ct=je,je=null):ct=je.sibling;var La=ue(ne,je,Tt.value,ve);if(La===null){je===null&&(je=ct);break}a&&je&&La.alternate===null&&u(ne,je),Z=T(La,Z,ot),wt===null?Be=La:wt.sibling=La,wt=La,je=ct}if(Tt.done)return d(ne,je),gt&&gs(ne,ot),Be;if(je===null){for(;!Tt.done;ot++,Tt=ae.next())Tt=xe(ne,Tt.value,ve),Tt!==null&&(Z=T(Tt,Z,ot),wt===null?Be=Tt:wt.sibling=Tt,wt=Tt);return gt&&gs(ne,ot),Be}for(je=m(je);!Tt.done;ot++,Tt=ae.next())Tt=de(je,ne,ot,Tt.value,ve),Tt!==null&&(a&&Tt.alternate!==null&&je.delete(Tt.key===null?ot:Tt.key),Z=T(Tt,Z,ot),wt===null?Be=Tt:wt.sibling=Tt,wt=Tt);return a&&je.forEach(function(CW){return u(ne,CW)}),gt&&gs(ne,ot),Be}function qt(ne,Z,ae,ve){if(typeof ae=="object"&&ae!==null&&ae.type===A&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:e:{for(var Be=ae.key;Z!==null;){if(Z.key===Be){if(Be=ae.type,Be===A){if(Z.tag===7){d(ne,Z.sibling),ve=w(Z,ae.props.children),ve.return=ne,ne=ve;break e}}else if(Z.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===O&&Ql(Be)===Z.type){d(ne,Z.sibling),ve=w(Z,ae.props),Od(ve,ae),ve.return=ne,ne=ve;break e}d(ne,Z);break}else u(ne,Z);Z=Z.sibling}ae.type===A?(ve=Kl(ae.props.children,ne.mode,ve,ae.key),ve.return=ne,ne=ve):(ve=fg(ae.type,ae.key,ae.props,null,ne.mode,ve),Od(ve,ae),ve.return=ne,ne=ve)}return D(ne);case S:e:{for(Be=ae.key;Z!==null;){if(Z.key===Be)if(Z.tag===4&&Z.stateNode.containerInfo===ae.containerInfo&&Z.stateNode.implementation===ae.implementation){d(ne,Z.sibling),ve=w(Z,ae.children||[]),ve.return=ne,ne=ve;break e}else{d(ne,Z);break}else u(ne,Z);Z=Z.sibling}ve=xx(ae,ne.mode,ve),ve.return=ne,ne=ve}return D(ne);case O:return ae=Ql(ae),qt(ne,Z,ae,ve)}if(ie(ae))return Le(ne,Z,ae,ve);if(z(ae)){if(Be=z(ae),typeof Be!="function")throw Error(r(150));return ae=Be.call(ae),ze(ne,Z,ae,ve)}if(typeof ae.then=="function")return qt(ne,Z,vg(ae),ve);if(ae.$$typeof===N)return qt(ne,Z,pg(ne,ae),ve);bg(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Z!==null&&Z.tag===6?(d(ne,Z.sibling),ve=w(Z,ae),ve.return=ne,ne=ve):(d(ne,Z),ve=bx(ae,ne.mode,ve),ve.return=ne,ne=ve),D(ne)):d(ne,Z)}return function(ne,Z,ae,ve){try{Md=0;var Be=qt(ne,Z,ae,ve);return Sc=null,Be}catch(je){if(je===Ec||je===gg)throw je;var wt=Zr(29,je,null,ne.mode);return wt.lanes=ve,wt.return=ne,wt}finally{}}}var eu=Jk(!0),Xk=Jk(!1),ba=!1;function Px(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mx(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function xa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function _a(a,u,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Ct&2)!==0){var w=m.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),m.pending=u,u=cg(a),Ok(a,null,d),u}return ug(a,m,u,d),cg(a)}function Dd(a,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var m=u.lanes;m&=a.pendingLanes,d|=m,u.lanes=d,ld(a,d)}}function Ox(a,u){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var w=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?w=T=D:T=T.next=D,d=d.next}while(d!==null);T===null?w=T=u:T=T.next=u}else w=T=u;d={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}var Dx=!1;function Ld(){if(Dx){var a=Tc;if(a!==null)throw a}}function jd(a,u,d,m){Dx=!1;var w=a.updateQueue;ba=!1;var T=w.firstBaseUpdate,D=w.lastBaseUpdate,G=w.shared.pending;if(G!==null){w.shared.pending=null;var Q=G,le=Q.next;Q.next=null,D===null?T=le:D.next=le,D=Q;var me=a.alternate;me!==null&&(me=me.updateQueue,G=me.lastBaseUpdate,G!==D&&(G===null?me.firstBaseUpdate=le:G.next=le,me.lastBaseUpdate=Q))}if(T!==null){var xe=w.baseState;D=0,me=le=Q=null,G=T;do{var ue=G.lane&-536870913,de=ue!==G.lane;if(de?(ut&ue)===ue:(m&ue)===ue){ue!==0&&ue===wc&&(Dx=!0),me!==null&&(me=me.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Le=a,ze=G;ue=u;var qt=d;switch(ze.tag){case 1:if(Le=ze.payload,typeof Le=="function"){xe=Le.call(qt,xe,ue);break e}xe=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=ze.payload,ue=typeof Le=="function"?Le.call(qt,xe,ue):Le,ue==null)break e;xe=p({},xe,ue);break e;case 2:ba=!0}}ue=G.callback,ue!==null&&(a.flags|=64,de&&(a.flags|=8192),de=w.callbacks,de===null?w.callbacks=[ue]:de.push(ue))}else de={lane:ue,tag:G.tag,payload:G.payload,callback:G.callback,next:null},me===null?(le=me=de,Q=xe):me=me.next=de,D|=ue;if(G=G.next,G===null){if(G=w.shared.pending,G===null)break;de=G,G=de.next,de.next=null,w.lastBaseUpdate=de,w.shared.pending=null}}while(!0);me===null&&(Q=xe),w.baseState=Q,w.firstBaseUpdate=le,w.lastBaseUpdate=me,T===null&&(w.shared.lanes=0),Aa|=D,a.lanes=D,a.memoizedState=xe}}function Qk(a,u){if(typeof a!="function")throw Error(r(191,a));a.call(u)}function Zk(a,u){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Qk(d[a],u)}var Ac=V(null),xg=V(0);function eP(a,u){a=Cs,J(xg,a),J(Ac,u),Cs=a|u.baseLanes}function Lx(){J(xg,Cs),J(Ac,Ac.current)}function jx(){Cs=xg.current,$(Ac),$(xg)}var ei=V(null),Ci=null;function wa(a){var u=a.alternate;J(bn,bn.current&1),J(ei,a),Ci===null&&(u===null||Ac.current!==null||u.memoizedState!==null)&&(Ci=a)}function Vx(a){J(bn,bn.current),J(ei,a),Ci===null&&(Ci=a)}function tP(a){a.tag===22?(J(bn,bn.current),J(ei,a),Ci===null&&(Ci=a)):Ta()}function Ta(){J(bn,bn.current),J(ei,ei.current)}function ti(a){$(ei),Ci===a&&(Ci=null),$(bn)}var bn=V(0);function _g(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||$_(d)||G_(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var bs=0,it=null,Bt=null,In=null,wg=!1,Cc=!1,tu=!1,Tg=0,Vd=0,Ic=null,yK=0;function cn(){throw Error(r(321))}function Ux(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!Qr(a[d],u[d]))return!1;return!0}function Bx(a,u,d,m,w,T){return bs=T,it=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=a===null||a.memoizedState===null?VP:t_,tu=!1,T=d(m,w),tu=!1,Cc&&(T=rP(u,d,m,w)),nP(a),T}function nP(a){W.H=Fd;var u=Bt!==null&&Bt.next!==null;if(bs=0,In=Bt=it=null,wg=!1,Vd=0,Ic=null,u)throw Error(r(300));a===null||Nn||(a=a.dependencies,a!==null&&hg(a)&&(Nn=!0))}function rP(a,u,d,m){it=a;var w=0;do{if(Cc&&(Ic=null),Vd=0,Cc=!1,25<=w)throw Error(r(301));if(w+=1,In=Bt=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}W.H=UP,T=u(d,m)}while(Cc);return T}function vK(){var a=W.H,u=a.useState()[0];return u=typeof u.then=="function"?Ud(u):u,a=a.useState()[0],(Bt!==null?Bt.memoizedState:null)!==a&&(it.flags|=1024),u}function Fx(){var a=Tg!==0;return Tg=0,a}function qx(a,u,d){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~d}function zx(a){if(wg){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}wg=!1}bs=0,In=Bt=it=null,Cc=!1,Vd=Tg=0,Ic=null}function _r(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?it.memoizedState=In=a:In=In.next=a,In}function xn(){if(Bt===null){var a=it.alternate;a=a!==null?a.memoizedState:null}else a=Bt.next;var u=In===null?it.memoizedState:In.next;if(u!==null)In=u,Bt=a;else{if(a===null)throw it.alternate===null?Error(r(467)):Error(r(310));Bt=a,a={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},In===null?it.memoizedState=In=a:In=In.next=a}return In}function Eg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ud(a){var u=Vd;return Vd+=1,Ic===null&&(Ic=[]),a=Kk(Ic,a,u),u=it,(In===null?u.memoizedState:In.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?VP:t_),a}function Sg(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ud(a);if(a.$$typeof===N)return nr(a)}throw Error(r(438,String(a)))}function $x(a){var u=null,d=it.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var m=it.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=Eg(),it.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(a),m=0;m<a;m++)d[m]=q;return u.index++,d}function xs(a,u){return typeof u=="function"?u(a):u}function Ag(a){var u=xn();return Gx(u,Bt,a)}function Gx(a,u,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var w=a.baseQueue,T=m.pending;if(T!==null){if(w!==null){var D=w.next;w.next=T.next,T.next=D}u.baseQueue=w=T,m.pending=null}if(T=a.baseState,w===null)a.memoizedState=T;else{u=w.next;var G=D=null,Q=null,le=u,me=!1;do{var xe=le.lane&-536870913;if(xe!==le.lane?(ut&xe)===xe:(bs&xe)===xe){var ue=le.revertLane;if(ue===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),xe===wc&&(me=!0);else if((bs&ue)===ue){le=le.next,ue===wc&&(me=!0);continue}else xe={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Q===null?(G=Q=xe,D=T):Q=Q.next=xe,it.lanes|=ue,Aa|=ue;xe=le.action,tu&&d(T,xe),T=le.hasEagerState?le.eagerState:d(T,xe)}else ue={lane:xe,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Q===null?(G=Q=ue,D=T):Q=Q.next=ue,it.lanes|=xe,Aa|=xe;le=le.next}while(le!==null&&le!==u);if(Q===null?D=T:Q.next=G,!Qr(T,a.memoizedState)&&(Nn=!0,me&&(d=Tc,d!==null)))throw d;a.memoizedState=T,a.baseState=D,a.baseQueue=Q,m.lastRenderedState=T}return w===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Hx(a){var u=xn(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,w=d.pending,T=u.memoizedState;if(w!==null){d.pending=null;var D=w=w.next;do T=a(T,D.action),D=D.next;while(D!==w);Qr(T,u.memoizedState)||(Nn=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),d.lastRenderedState=T}return[T,m]}function iP(a,u,d){var m=it,w=xn(),T=gt;if(T){if(d===void 0)throw Error(r(407));d=d()}else d=u();var D=!Qr((Bt||w).memoizedState,d);if(D&&(w.memoizedState=d,Nn=!0),w=w.queue,Yx(aP.bind(null,m,w,a),[a]),w.getSnapshot!==u||D||In!==null&&In.memoizedState.tag&1){if(m.flags|=2048,Nc(9,{destroy:void 0},sP.bind(null,m,w,d,u),null),Wt===null)throw Error(r(349));T||(bs&127)!==0||oP(m,u,d)}return d}function oP(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},u=it.updateQueue,u===null?(u=Eg(),it.updateQueue=u,u.stores=[a]):(d=u.stores,d===null?u.stores=[a]:d.push(a))}function sP(a,u,d,m){u.value=d,u.getSnapshot=m,lP(u)&&uP(a)}function aP(a,u,d){return d(function(){lP(u)&&uP(a)})}function lP(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!Qr(a,d)}catch{return!0}}function uP(a){var u=Hl(a,2);u!==null&&Dr(u,a,2)}function Kx(a){var u=_r();if(typeof a=="function"){var d=a;if(a=d(),tu){yi(!0);try{d()}finally{yi(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:a},u}function cP(a,u,d,m){return a.baseState=d,Gx(a,Bt,typeof m=="function"?m:xs)}function bK(a,u,d,m,w){if(Ng(a))throw Error(r(485));if(a=u.action,a!==null){var T={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){T.listeners.push(D)}};W.T!==null?d(!0):T.isTransition=!1,m(T),d=u.pending,d===null?(T.next=u.pending=T,fP(u,T)):(T.next=d.next,u.pending=d.next=T)}}function fP(a,u){var d=u.action,m=u.payload,w=a.state;if(u.isTransition){var T=W.T,D={};W.T=D;try{var G=d(w,m),Q=W.S;Q!==null&&Q(D,G),dP(a,u,G)}catch(le){Wx(a,u,le)}finally{T!==null&&D.types!==null&&(T.types=D.types),W.T=T}}else try{T=d(w,m),dP(a,u,T)}catch(le){Wx(a,u,le)}}function dP(a,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){hP(a,u,m)},function(m){return Wx(a,u,m)}):hP(a,u,d)}function hP(a,u,d){u.status="fulfilled",u.value=d,pP(u),a.state=d,u=a.pending,u!==null&&(d=u.next,d===u?a.pending=null:(d=d.next,u.next=d,fP(a,d)))}function Wx(a,u,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=d,pP(u),u=u.next;while(u!==m)}a.action=null}function pP(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function mP(a,u){return u}function gP(a,u){if(gt){var d=Wt.formState;if(d!==null){e:{var m=it;if(gt){if(Zt){t:{for(var w=Zt,T=Ai;w.nodeType!==8;){if(!T){w=null;break t}if(w=Ii(w.nextSibling),w===null){w=null;break t}}T=w.data,w=T==="F!"||T==="F"?w:null}if(w){Zt=Ii(w.nextSibling),m=w.data==="F!";break e}}ya(m)}m=!1}m&&(u=d[0])}}return d=_r(),d.memoizedState=d.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mP,lastRenderedState:u},d.queue=m,d=DP.bind(null,it,m),m.dispatch=d,m=Kx(!1),T=e_.bind(null,it,!1,m.queue),m=_r(),w={state:u,dispatch:null,action:a,pending:null},m.queue=w,d=bK.bind(null,it,w,T,d),w.dispatch=d,m.memoizedState=a,[u,d,!1]}function yP(a){var u=xn();return vP(u,Bt,a)}function vP(a,u,d){if(u=Gx(a,u,mP)[0],a=Ag(xs)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=Ud(u)}catch(D){throw D===Ec?gg:D}else m=u;u=xn();var w=u.queue,T=w.dispatch;return d!==u.memoizedState&&(it.flags|=2048,Nc(9,{destroy:void 0},xK.bind(null,w,d),null)),[m,T,a]}function xK(a,u){a.action=u}function bP(a){var u=xn(),d=Bt;if(d!==null)return vP(u,d,a);xn(),u=u.memoizedState,d=xn();var m=d.queue.dispatch;return d.memoizedState=a,[u,m,!1]}function Nc(a,u,d,m){return a={tag:a,create:d,deps:m,inst:u,next:null},u=it.updateQueue,u===null&&(u=Eg(),it.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,u.lastEffect=a),a}function xP(){return xn().memoizedState}function Cg(a,u,d,m){var w=_r();it.flags|=a,w.memoizedState=Nc(1|u,{destroy:void 0},d,m===void 0?null:m)}function Ig(a,u,d,m){var w=xn();m=m===void 0?null:m;var T=w.memoizedState.inst;Bt!==null&&m!==null&&Ux(m,Bt.memoizedState.deps)?w.memoizedState=Nc(u,T,d,m):(it.flags|=a,w.memoizedState=Nc(1|u,T,d,m))}function _P(a,u){Cg(8390656,8,a,u)}function Yx(a,u){Ig(2048,8,a,u)}function _K(a){it.flags|=4;var u=it.updateQueue;if(u===null)u=Eg(),it.updateQueue=u,u.events=[a];else{var d=u.events;d===null?u.events=[a]:d.push(a)}}function wP(a){var u=xn().memoizedState;return _K({ref:u,nextImpl:a}),function(){if((Ct&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function TP(a,u){return Ig(4,2,a,u)}function EP(a,u){return Ig(4,4,a,u)}function SP(a,u){if(typeof u=="function"){a=a();var d=u(a);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function AP(a,u,d){d=d!=null?d.concat([a]):null,Ig(4,4,SP.bind(null,u,a),d)}function Jx(){}function CP(a,u){var d=xn();u=u===void 0?null:u;var m=d.memoizedState;return u!==null&&Ux(u,m[1])?m[0]:(d.memoizedState=[a,u],a)}function IP(a,u){var d=xn();u=u===void 0?null:u;var m=d.memoizedState;if(u!==null&&Ux(u,m[1]))return m[0];if(m=a(),tu){yi(!0);try{a()}finally{yi(!1)}}return d.memoizedState=[m,u],m}function Xx(a,u,d){return d===void 0||(bs&1073741824)!==0&&(ut&261930)===0?a.memoizedState=u:(a.memoizedState=d,a=NM(),it.lanes|=a,Aa|=a,d)}function NP(a,u,d,m){return Qr(d,u)?d:Ac.current!==null?(a=Xx(a,d,m),Qr(a,u)||(Nn=!0),a):(bs&42)===0||(bs&1073741824)!==0&&(ut&261930)===0?(Nn=!0,a.memoizedState=d):(a=NM(),it.lanes|=a,Aa|=a,u)}function RP(a,u,d,m,w){var T=ee.p;ee.p=T!==0&&8>T?T:8;var D=W.T,G={};W.T=G,e_(a,!1,u,d);try{var Q=w(),le=W.S;if(le!==null&&le(G,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var me=gK(Q,m);Bd(a,u,me,ii(a))}else Bd(a,u,m,ii(a))}catch(xe){Bd(a,u,{then:function(){},status:"rejected",reason:xe},ii())}finally{ee.p=T,D!==null&&G.types!==null&&(D.types=G.types),W.T=D}}function wK(){}function Qx(a,u,d,m){if(a.tag!==5)throw Error(r(476));var w=kP(a).queue;RP(a,w,u,se,d===null?wK:function(){return PP(a),d(m)})}function kP(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:se},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:d},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function PP(a){var u=kP(a);u.next===null&&(u=a.alternate.memoizedState),Bd(a,u.next.queue,{},ii())}function Zx(){return nr(rh)}function MP(){return xn().memoizedState}function OP(){return xn().memoizedState}function TK(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var d=ii();a=xa(d);var m=_a(u,a,d);m!==null&&(Dr(m,u,d),Dd(m,u,d)),u={cache:Ix()},a.payload=u;return}u=u.return}}function EK(a,u,d){var m=ii();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ng(a)?LP(u,d):(d=yx(a,u,d,m),d!==null&&(Dr(d,a,m),jP(d,u,m)))}function DP(a,u,d){var m=ii();Bd(a,u,d,m)}function Bd(a,u,d,m){var w={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ng(a))LP(u,w);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var D=u.lastRenderedState,G=T(D,d);if(w.hasEagerState=!0,w.eagerState=G,Qr(G,D))return ug(a,u,w,0),Wt===null&&lg(),!1}catch{}finally{}if(d=yx(a,u,w,m),d!==null)return Dr(d,a,m),jP(d,u,m),!0}return!1}function e_(a,u,d,m){if(m={lane:2,revertLane:P_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ng(a)){if(u)throw Error(r(479))}else u=yx(a,d,m,2),u!==null&&Dr(u,a,2)}function Ng(a){var u=a.alternate;return a===it||u!==null&&u===it}function LP(a,u){Cc=wg=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function jP(a,u,d){if((d&4194048)!==0){var m=u.lanes;m&=a.pendingLanes,d|=m,u.lanes=d,ld(a,d)}}var Fd={readContext:nr,use:Sg,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};Fd.useEffectEvent=cn;var VP={readContext:nr,use:Sg,useCallback:function(a,u){return _r().memoizedState=[a,u===void 0?null:u],a},useContext:nr,useEffect:_P,useImperativeHandle:function(a,u,d){d=d!=null?d.concat([a]):null,Cg(4194308,4,SP.bind(null,u,a),d)},useLayoutEffect:function(a,u){return Cg(4194308,4,a,u)},useInsertionEffect:function(a,u){Cg(4,2,a,u)},useMemo:function(a,u){var d=_r();u=u===void 0?null:u;var m=a();if(tu){yi(!0);try{a()}finally{yi(!1)}}return d.memoizedState=[m,u],m},useReducer:function(a,u,d){var m=_r();if(d!==void 0){var w=d(u);if(tu){yi(!0);try{d(u)}finally{yi(!1)}}}else w=u;return m.memoizedState=m.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},m.queue=a,a=a.dispatch=EK.bind(null,it,a),[m.memoizedState,a]},useRef:function(a){var u=_r();return a={current:a},u.memoizedState=a},useState:function(a){a=Kx(a);var u=a.queue,d=DP.bind(null,it,u);return u.dispatch=d,[a.memoizedState,d]},useDebugValue:Jx,useDeferredValue:function(a,u){var d=_r();return Xx(d,a,u)},useTransition:function(){var a=Kx(!1);return a=RP.bind(null,it,a.queue,!0,!1),_r().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,d){var m=it,w=_r();if(gt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),Wt===null)throw Error(r(349));(ut&127)!==0||oP(m,u,d)}w.memoizedState=d;var T={value:d,getSnapshot:u};return w.queue=T,_P(aP.bind(null,m,T,a),[a]),m.flags|=2048,Nc(9,{destroy:void 0},sP.bind(null,m,T,d,u),null),d},useId:function(){var a=_r(),u=Wt.identifierPrefix;if(gt){var d=Fo,m=Bo;d=(m&~(1<<32-yn(m)-1)).toString(32)+d,u="_"+u+"R_"+d,d=Tg++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=yK++,u="_"+u+"r_"+d.toString(32)+"_";return a.memoizedState=u},useHostTransitionStatus:Zx,useFormState:gP,useActionState:gP,useOptimistic:function(a){var u=_r();u.memoizedState=u.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=e_.bind(null,it,!0,d),d.dispatch=u,[a,u]},useMemoCache:$x,useCacheRefresh:function(){return _r().memoizedState=TK.bind(null,it)},useEffectEvent:function(a){var u=_r(),d={impl:a};return u.memoizedState=d,function(){if((Ct&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},t_={readContext:nr,use:Sg,useCallback:CP,useContext:nr,useEffect:Yx,useImperativeHandle:AP,useInsertionEffect:TP,useLayoutEffect:EP,useMemo:IP,useReducer:Ag,useRef:xP,useState:function(){return Ag(xs)},useDebugValue:Jx,useDeferredValue:function(a,u){var d=xn();return NP(d,Bt.memoizedState,a,u)},useTransition:function(){var a=Ag(xs)[0],u=xn().memoizedState;return[typeof a=="boolean"?a:Ud(a),u]},useSyncExternalStore:iP,useId:MP,useHostTransitionStatus:Zx,useFormState:yP,useActionState:yP,useOptimistic:function(a,u){var d=xn();return cP(d,Bt,a,u)},useMemoCache:$x,useCacheRefresh:OP};t_.useEffectEvent=wP;var UP={readContext:nr,use:Sg,useCallback:CP,useContext:nr,useEffect:Yx,useImperativeHandle:AP,useInsertionEffect:TP,useLayoutEffect:EP,useMemo:IP,useReducer:Hx,useRef:xP,useState:function(){return Hx(xs)},useDebugValue:Jx,useDeferredValue:function(a,u){var d=xn();return Bt===null?Xx(d,a,u):NP(d,Bt.memoizedState,a,u)},useTransition:function(){var a=Hx(xs)[0],u=xn().memoizedState;return[typeof a=="boolean"?a:Ud(a),u]},useSyncExternalStore:iP,useId:MP,useHostTransitionStatus:Zx,useFormState:bP,useActionState:bP,useOptimistic:function(a,u){var d=xn();return Bt!==null?cP(d,Bt,a,u):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:$x,useCacheRefresh:OP};UP.useEffectEvent=wP;function n_(a,u,d,m){u=a.memoizedState,d=d(m,u),d=d==null?u:p({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var r_={enqueueSetState:function(a,u,d){a=a._reactInternals;var m=ii(),w=xa(m);w.payload=u,d!=null&&(w.callback=d),u=_a(a,w,m),u!==null&&(Dr(u,a,m),Dd(u,a,m))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var m=ii(),w=xa(m);w.tag=1,w.payload=u,d!=null&&(w.callback=d),u=_a(a,w,m),u!==null&&(Dr(u,a,m),Dd(u,a,m))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=ii(),m=xa(d);m.tag=2,u!=null&&(m.callback=u),u=_a(a,m,d),u!==null&&(Dr(u,a,d),Dd(u,a,d))}};function BP(a,u,d,m,w,T,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,T,D):u.prototype&&u.prototype.isPureReactComponent?!Cd(d,m)||!Cd(w,T):!0}function FP(a,u,d,m){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,m),u.state!==a&&r_.enqueueReplaceState(u,u.state,null)}function nu(a,u){var d=u;if("ref"in u){d={};for(var m in u)m!=="ref"&&(d[m]=u[m])}if(a=a.defaultProps){d===u&&(d=p({},d));for(var w in a)d[w]===void 0&&(d[w]=a[w])}return d}function qP(a){ag(a)}function zP(a){console.error(a)}function $P(a){ag(a)}function Rg(a,u){try{var d=a.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function GP(a,u,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function i_(a,u,d){return d=xa(d),d.tag=3,d.payload={element:null},d.callback=function(){Rg(a,u)},d}function HP(a){return a=xa(a),a.tag=3,a}function KP(a,u,d,m){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var T=m.value;a.payload=function(){return w(T)},a.callback=function(){GP(u,d,m)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(a.callback=function(){GP(u,d,m),typeof w!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var G=m.stack;this.componentDidCatch(m.value,{componentStack:G!==null?G:""})})}function SK(a,u,d,m,w){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=d.alternate,u!==null&&_c(u,d,w,!0),d=ei.current,d!==null){switch(d.tag){case 31:case 13:return Ci===null?qg():d.alternate===null&&fn===0&&(fn=3),d.flags&=-257,d.flags|=65536,d.lanes=w,m===yg?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([m]):u.add(m),N_(a,m,w)),!1;case 22:return d.flags|=65536,m===yg?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([m]):d.add(m)),N_(a,m,w)),!1}throw Error(r(435,d.tag))}return N_(a,m,w),qg(),!1}if(gt)return u=ei.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,m!==Tx&&(a=Error(r(422),{cause:m}),Rd(Ti(a,d)))):(m!==Tx&&(u=Error(r(423),{cause:m}),Rd(Ti(u,d))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,m=Ti(m,d),w=i_(a.stateNode,m,w),Ox(a,w),fn!==4&&(fn=2)),!1;var T=Error(r(520),{cause:m});if(T=Ti(T,d),Yd===null?Yd=[T]:Yd.push(T),fn!==4&&(fn=2),u===null)return!0;m=Ti(m,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,a=w&-w,d.lanes|=a,a=i_(d.stateNode,m,a),Ox(d,a),!1;case 1:if(u=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ca===null||!Ca.has(T))))return d.flags|=65536,w&=-w,d.lanes|=w,w=HP(w),KP(w,a,d,m),Ox(d,w),!1}d=d.return}while(d!==null);return!1}var o_=Error(r(461)),Nn=!1;function rr(a,u,d,m){u.child=a===null?Xk(u,null,d,m):eu(u,a.child,d,m)}function WP(a,u,d,m,w){d=d.render;var T=u.ref;if("ref"in m){var D={};for(var G in m)G!=="ref"&&(D[G]=m[G])}else D=m;return Jl(u),m=Bx(a,u,d,D,T,w),G=Fx(),a!==null&&!Nn?(qx(a,u,w),_s(a,u,w)):(gt&&G&&_x(u),u.flags|=1,rr(a,u,m,w),u.child)}function YP(a,u,d,m,w){if(a===null){var T=d.type;return typeof T=="function"&&!vx(T)&&T.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=T,JP(a,u,T,m,w)):(a=fg(d.type,null,m,u,u.mode,w),a.ref=u.ref,a.return=u,u.child=a)}if(T=a.child,!h_(a,w)){var D=T.memoizedProps;if(d=d.compare,d=d!==null?d:Cd,d(D,m)&&a.ref===u.ref)return _s(a,u,w)}return u.flags|=1,a=ms(T,m),a.ref=u.ref,a.return=u,u.child=a}function JP(a,u,d,m,w){if(a!==null){var T=a.memoizedProps;if(Cd(T,m)&&a.ref===u.ref)if(Nn=!1,u.pendingProps=m=T,h_(a,w))(a.flags&131072)!==0&&(Nn=!0);else return u.lanes=a.lanes,_s(a,u,w)}return s_(a,u,d,m,w)}function XP(a,u,d,m){var w=m.children,T=a!==null?a.memoizedState:null;if(a===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(T=T!==null?T.baseLanes|d:d,a!==null){for(m=u.child=a.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~T}else m=0,u.child=null;return QP(a,u,T,d,m)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&mg(u,T!==null?T.cachePool:null),T!==null?eP(u,T):Lx(),tP(u);else return m=u.lanes=536870912,QP(a,u,T!==null?T.baseLanes|d:d,d,m)}else T!==null?(mg(u,T.cachePool),eP(u,T),Ta(),u.memoizedState=null):(a!==null&&mg(u,null),Lx(),Ta());return rr(a,u,w,d),u.child}function qd(a,u){return a!==null&&a.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function QP(a,u,d,m,w){var T=Rx();return T=T===null?null:{parent:Cn._currentValue,pool:T},u.memoizedState={baseLanes:d,cachePool:T},a!==null&&mg(u,null),Lx(),tP(u),a!==null&&_c(a,u,m,!0),u.childLanes=w,null}function kg(a,u){return u=Mg({mode:u.mode,children:u.children},a.mode),u.ref=a.ref,a.child=u,u.return=a,u}function ZP(a,u,d){return eu(u,a.child,null,d),a=kg(u,u.pendingProps),a.flags|=2,ti(u),u.memoizedState=null,a}function AK(a,u,d){var m=u.pendingProps,w=(u.flags&128)!==0;if(u.flags&=-129,a===null){if(gt){if(m.mode==="hidden")return a=kg(u,m),u.lanes=536870912,qd(null,a);if(Vx(u),(a=Zt)?(a=f2(a,Ai),a=a!==null&&a.data==="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:ma!==null?{id:Bo,overflow:Fo}:null,retryLane:536870912,hydrationErrors:null},d=Lk(a),d.return=u,u.child=d,tr=u,Zt=null)):a=null,a===null)throw ya(u);return u.lanes=536870912,null}return kg(u,m)}var T=a.memoizedState;if(T!==null){var D=T.dehydrated;if(Vx(u),w)if(u.flags&256)u.flags&=-257,u=ZP(a,u,d);else if(u.memoizedState!==null)u.child=a.child,u.flags|=128,u=null;else throw Error(r(558));else if(Nn||_c(a,u,d,!1),w=(d&a.childLanes)!==0,Nn||w){if(m=Wt,m!==null&&(D=ud(m,d),D!==0&&D!==T.retryLane))throw T.retryLane=D,Hl(a,D),Dr(m,a,D),o_;qg(),u=ZP(a,u,d)}else a=T.treeContext,Zt=Ii(D.nextSibling),tr=u,gt=!0,ga=null,Ai=!1,a!==null&&Uk(u,a),u=kg(u,m),u.flags|=4096;return u}return a=ms(a.child,{mode:m.mode,children:m.children}),a.ref=u.ref,u.child=a,a.return=u,a}function Pg(a,u){var d=u.ref;if(d===null)a!==null&&a.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(u.flags|=4194816)}}function s_(a,u,d,m,w){return Jl(u),d=Bx(a,u,d,m,void 0,w),m=Fx(),a!==null&&!Nn?(qx(a,u,w),_s(a,u,w)):(gt&&m&&_x(u),u.flags|=1,rr(a,u,d,w),u.child)}function eM(a,u,d,m,w,T){return Jl(u),u.updateQueue=null,d=rP(u,m,d,w),nP(a),m=Fx(),a!==null&&!Nn?(qx(a,u,T),_s(a,u,T)):(gt&&m&&_x(u),u.flags|=1,rr(a,u,d,T),u.child)}function tM(a,u,d,m,w){if(Jl(u),u.stateNode===null){var T=yc,D=d.contextType;typeof D=="object"&&D!==null&&(T=nr(D)),T=new d(m,T),u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=r_,u.stateNode=T,T._reactInternals=u,T=u.stateNode,T.props=m,T.state=u.memoizedState,T.refs={},Px(u),D=d.contextType,T.context=typeof D=="object"&&D!==null?nr(D):yc,T.state=u.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(n_(u,d,D,m),T.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(D=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),D!==T.state&&r_.enqueueReplaceState(T,T.state,null),jd(u,m,T,w),Ld(),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(a===null){T=u.stateNode;var G=u.memoizedProps,Q=nu(d,G);T.props=Q;var le=T.context,me=d.contextType;D=yc,typeof me=="object"&&me!==null&&(D=nr(me));var xe=d.getDerivedStateFromProps;me=typeof xe=="function"||typeof T.getSnapshotBeforeUpdate=="function",G=u.pendingProps!==G,me||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(G||le!==D)&&FP(u,T,m,D),ba=!1;var ue=u.memoizedState;T.state=ue,jd(u,m,T,w),Ld(),le=u.memoizedState,G||ue!==le||ba?(typeof xe=="function"&&(n_(u,d,xe,m),le=u.memoizedState),(Q=ba||BP(u,d,Q,m,ue,le,D))?(me||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(u.flags|=4194308)):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=le),T.props=m,T.state=le,T.context=D,m=Q):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{T=u.stateNode,Mx(a,u),D=u.memoizedProps,me=nu(d,D),T.props=me,xe=u.pendingProps,ue=T.context,le=d.contextType,Q=yc,typeof le=="object"&&le!==null&&(Q=nr(le)),G=d.getDerivedStateFromProps,(le=typeof G=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==xe||ue!==Q)&&FP(u,T,m,Q),ba=!1,ue=u.memoizedState,T.state=ue,jd(u,m,T,w),Ld();var de=u.memoizedState;D!==xe||ue!==de||ba||a!==null&&a.dependencies!==null&&hg(a.dependencies)?(typeof G=="function"&&(n_(u,d,G,m),de=u.memoizedState),(me=ba||BP(u,d,me,m,ue,de,Q)||a!==null&&a.dependencies!==null&&hg(a.dependencies))?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,de,Q),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,de,Q)),typeof T.componentDidUpdate=="function"&&(u.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=de),T.props=m,T.state=de,T.context=Q,m=me):(typeof T.componentDidUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),m=!1)}return T=m,Pg(a,u),m=(u.flags&128)!==0,T||m?(T=u.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:T.render(),u.flags|=1,a!==null&&m?(u.child=eu(u,a.child,null,w),u.child=eu(u,null,d,w)):rr(a,u,d,w),u.memoizedState=T.state,a=u.child):a=_s(a,u,w),a}function nM(a,u,d,m){return Wl(),u.flags|=256,rr(a,u,d,m),u.child}var a_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l_(a){return{baseLanes:a,cachePool:Gk()}}function u_(a,u,d){return a=a!==null?a.childLanes&~d:0,u&&(a|=ri),a}function rM(a,u,d){var m=u.pendingProps,w=!1,T=(u.flags&128)!==0,D;if((D=T)||(D=a!==null&&a.memoizedState===null?!1:(bn.current&2)!==0),D&&(w=!0,u.flags&=-129),D=(u.flags&32)!==0,u.flags&=-33,a===null){if(gt){if(w?wa(u):Ta(),(a=Zt)?(a=f2(a,Ai),a=a!==null&&a.data!=="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:ma!==null?{id:Bo,overflow:Fo}:null,retryLane:536870912,hydrationErrors:null},d=Lk(a),d.return=u,u.child=d,tr=u,Zt=null)):a=null,a===null)throw ya(u);return G_(a)?u.lanes=32:u.lanes=536870912,null}var G=m.children;return m=m.fallback,w?(Ta(),w=u.mode,G=Mg({mode:"hidden",children:G},w),m=Kl(m,w,d,null),G.return=u,m.return=u,G.sibling=m,u.child=G,m=u.child,m.memoizedState=l_(d),m.childLanes=u_(a,D,d),u.memoizedState=a_,qd(null,m)):(wa(u),c_(u,G))}var Q=a.memoizedState;if(Q!==null&&(G=Q.dehydrated,G!==null)){if(T)u.flags&256?(wa(u),u.flags&=-257,u=f_(a,u,d)):u.memoizedState!==null?(Ta(),u.child=a.child,u.flags|=128,u=null):(Ta(),G=m.fallback,w=u.mode,m=Mg({mode:"visible",children:m.children},w),G=Kl(G,w,d,null),G.flags|=2,m.return=u,G.return=u,m.sibling=G,u.child=m,eu(u,a.child,null,d),m=u.child,m.memoizedState=l_(d),m.childLanes=u_(a,D,d),u.memoizedState=a_,u=qd(null,m));else if(wa(u),G_(G)){if(D=G.nextSibling&&G.nextSibling.dataset,D)var le=D.dgst;D=le,m=Error(r(419)),m.stack="",m.digest=D,Rd({value:m,source:null,stack:null}),u=f_(a,u,d)}else if(Nn||_c(a,u,d,!1),D=(d&a.childLanes)!==0,Nn||D){if(D=Wt,D!==null&&(m=ud(D,d),m!==0&&m!==Q.retryLane))throw Q.retryLane=m,Hl(a,m),Dr(D,a,m),o_;$_(G)||qg(),u=f_(a,u,d)}else $_(G)?(u.flags|=192,u.child=a.child,u=null):(a=Q.treeContext,Zt=Ii(G.nextSibling),tr=u,gt=!0,ga=null,Ai=!1,a!==null&&Uk(u,a),u=c_(u,m.children),u.flags|=4096);return u}return w?(Ta(),G=m.fallback,w=u.mode,Q=a.child,le=Q.sibling,m=ms(Q,{mode:"hidden",children:m.children}),m.subtreeFlags=Q.subtreeFlags&65011712,le!==null?G=ms(le,G):(G=Kl(G,w,d,null),G.flags|=2),G.return=u,m.return=u,m.sibling=G,u.child=m,qd(null,m),m=u.child,G=a.child.memoizedState,G===null?G=l_(d):(w=G.cachePool,w!==null?(Q=Cn._currentValue,w=w.parent!==Q?{parent:Q,pool:Q}:w):w=Gk(),G={baseLanes:G.baseLanes|d,cachePool:w}),m.memoizedState=G,m.childLanes=u_(a,D,d),u.memoizedState=a_,qd(a.child,m)):(wa(u),d=a.child,a=d.sibling,d=ms(d,{mode:"visible",children:m.children}),d.return=u,d.sibling=null,a!==null&&(D=u.deletions,D===null?(u.deletions=[a],u.flags|=16):D.push(a)),u.child=d,u.memoizedState=null,d)}function c_(a,u){return u=Mg({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function Mg(a,u){return a=Zr(22,a,null,u),a.lanes=0,a}function f_(a,u,d){return eu(u,a.child,null,d),a=c_(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function iM(a,u,d){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u),Ax(a.return,u,d)}function d_(a,u,d,m,w,T){var D=a.memoizedState;D===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:w,treeForkCount:T}:(D.isBackwards=u,D.rendering=null,D.renderingStartTime=0,D.last=m,D.tail=d,D.tailMode=w,D.treeForkCount=T)}function oM(a,u,d){var m=u.pendingProps,w=m.revealOrder,T=m.tail;m=m.children;var D=bn.current,G=(D&2)!==0;if(G?(D=D&1|2,u.flags|=128):D&=1,J(bn,D),rr(a,u,m,d),m=gt?Nd:0,!G&&a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&iM(a,d,u);else if(a.tag===19)iM(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(d=u.child,w=null;d!==null;)a=d.alternate,a!==null&&_g(a)===null&&(w=d),d=d.sibling;d=w,d===null?(w=u.child,u.child=null):(w=d.sibling,d.sibling=null),d_(u,!1,w,d,T,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,w=u.child,u.child=null;w!==null;){if(a=w.alternate,a!==null&&_g(a)===null){u.child=w;break}a=w.sibling,w.sibling=d,d=w,w=a}d_(u,!0,d,null,T,m);break;case"together":d_(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function _s(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),Aa|=u.lanes,(d&u.childLanes)===0)if(a!==null){if(_c(a,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,d=ms(a,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,d=d.sibling=ms(a,a.pendingProps),d.return=u;d.sibling=null}return u.child}function h_(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&hg(a)))}function CK(a,u,d){switch(u.tag){case 3:Se(u,u.stateNode.containerInfo),va(u,Cn,a.memoizedState.cache),Wl();break;case 27:case 5:Ie(u);break;case 4:Se(u,u.stateNode.containerInfo);break;case 10:va(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Vx(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(wa(u),u.flags|=128,null):(d&u.child.childLanes)!==0?rM(a,u,d):(wa(u),a=_s(a,u,d),a!==null?a.sibling:null);wa(u);break;case 19:var w=(a.flags&128)!==0;if(m=(d&u.childLanes)!==0,m||(_c(a,u,d,!1),m=(d&u.childLanes)!==0),w){if(m)return oM(a,u,d);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),J(bn,bn.current),m)break;return null;case 22:return u.lanes=0,XP(a,u,d,u.pendingProps);case 24:va(u,Cn,a.memoizedState.cache)}return _s(a,u,d)}function sM(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps)Nn=!0;else{if(!h_(a,d)&&(u.flags&128)===0)return Nn=!1,CK(a,u,d);Nn=(a.flags&131072)!==0}else Nn=!1,gt&&(u.flags&1048576)!==0&&Vk(u,Nd,u.index);switch(u.lanes=0,u.tag){case 16:e:{var m=u.pendingProps;if(a=Ql(u.elementType),u.type=a,typeof a=="function")vx(a)?(m=nu(a,m),u.tag=1,u=tM(null,u,a,m,d)):(u.tag=0,u=s_(null,u,a,m,d));else{if(a!=null){var w=a.$$typeof;if(w===C){u.tag=11,u=WP(null,u,a,m,d);break e}else if(w===P){u.tag=14,u=YP(null,u,a,m,d);break e}}throw u=X(a)||a,Error(r(306,u,""))}}return u;case 0:return s_(a,u,u.type,u.pendingProps,d);case 1:return m=u.type,w=nu(m,u.pendingProps),tM(a,u,m,w,d);case 3:e:{if(Se(u,u.stateNode.containerInfo),a===null)throw Error(r(387));m=u.pendingProps;var T=u.memoizedState;w=T.element,Mx(a,u),jd(u,m,null,d);var D=u.memoizedState;if(m=D.cache,va(u,Cn,m),m!==T.cache&&Cx(u,[Cn],d,!0),Ld(),m=D.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:D.cache},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){u=nM(a,u,m,d);break e}else if(m!==w){w=Ti(Error(r(424)),u),Rd(w),u=nM(a,u,m,d);break e}else{switch(a=u.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Zt=Ii(a.firstChild),tr=u,gt=!0,ga=null,Ai=!0,d=Xk(u,null,m,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Wl(),m===w){u=_s(a,u,d);break e}rr(a,u,m,d)}u=u.child}return u;case 26:return Pg(a,u),a===null?(d=y2(u.type,null,u.pendingProps,null))?u.memoizedState=d:gt||(d=u.type,a=u.pendingProps,m=Yg(ye.current).createElement(d),m[En]=u,m[zn]=a,ir(m,d,a),Sn(m),u.stateNode=m):u.memoizedState=y2(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return Ie(u),a===null&&gt&&(m=u.stateNode=p2(u.type,u.pendingProps,ye.current),tr=u,Ai=!0,w=Zt,ka(u.type)?(H_=w,Zt=Ii(m.firstChild)):Zt=w),rr(a,u,u.pendingProps.children,d),Pg(a,u),a===null&&(u.flags|=4194304),u.child;case 5:return a===null&&gt&&((w=m=Zt)&&(m=rW(m,u.type,u.pendingProps,Ai),m!==null?(u.stateNode=m,tr=u,Zt=Ii(m.firstChild),Ai=!1,w=!0):w=!1),w||ya(u)),Ie(u),w=u.type,T=u.pendingProps,D=a!==null?a.memoizedProps:null,m=T.children,F_(w,T)?m=null:D!==null&&F_(w,D)&&(u.flags|=32),u.memoizedState!==null&&(w=Bx(a,u,vK,null,null,d),rh._currentValue=w),Pg(a,u),rr(a,u,m,d),u.child;case 6:return a===null&&gt&&((a=d=Zt)&&(d=iW(d,u.pendingProps,Ai),d!==null?(u.stateNode=d,tr=u,Zt=null,a=!0):a=!1),a||ya(u)),null;case 13:return rM(a,u,d);case 4:return Se(u,u.stateNode.containerInfo),m=u.pendingProps,a===null?u.child=eu(u,null,m,d):rr(a,u,m,d),u.child;case 11:return WP(a,u,u.type,u.pendingProps,d);case 7:return rr(a,u,u.pendingProps,d),u.child;case 8:return rr(a,u,u.pendingProps.children,d),u.child;case 12:return rr(a,u,u.pendingProps.children,d),u.child;case 10:return m=u.pendingProps,va(u,u.type,m.value),rr(a,u,m.children,d),u.child;case 9:return w=u.type._context,m=u.pendingProps.children,Jl(u),w=nr(w),m=m(w),u.flags|=1,rr(a,u,m,d),u.child;case 14:return YP(a,u,u.type,u.pendingProps,d);case 15:return JP(a,u,u.type,u.pendingProps,d);case 19:return oM(a,u,d);case 31:return AK(a,u,d);case 22:return XP(a,u,d,u.pendingProps);case 24:return Jl(u),m=nr(Cn),a===null?(w=Rx(),w===null&&(w=Wt,T=Ix(),w.pooledCache=T,T.refCount++,T!==null&&(w.pooledCacheLanes|=d),w=T),u.memoizedState={parent:m,cache:w},Px(u),va(u,Cn,w)):((a.lanes&d)!==0&&(Mx(a,u),jd(u,null,null,d),Ld()),w=a.memoizedState,T=u.memoizedState,w.parent!==m?(w={parent:m,cache:m},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),va(u,Cn,m)):(m=T.cache,va(u,Cn,m),m!==w.cache&&Cx(u,[Cn],d,!0))),rr(a,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function ws(a){a.flags|=4}function p_(a,u,d,m,w){if((u=(a.mode&32)!==0)&&(u=!1),u){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if(MM())a.flags|=8192;else throw Zl=yg,kx}else a.flags&=-16777217}function aM(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!w2(u))if(MM())a.flags|=8192;else throw Zl=yg,kx}function Og(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?Bm():536870912,a.lanes|=u,Mc|=u)}function zd(a,u){if(!gt)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function en(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(u)for(var w=a.child;w!==null;)d|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)d|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=m,a.childLanes=d,u}function IK(a,u,d){var m=u.pendingProps;switch(wx(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(u),null;case 1:return en(u),null;case 3:return d=u.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),vs(Cn),he(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(xc(u)?ws(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ex())),en(u),null;case 26:var w=u.type,T=u.memoizedState;return a===null?(ws(u),T!==null?(en(u),aM(u,T)):(en(u),p_(u,w,null,m,d))):T?T!==a.memoizedState?(ws(u),en(u),aM(u,T)):(en(u),u.flags&=-16777217):(a=a.memoizedProps,a!==m&&ws(u),en(u),p_(u,w,a,m,d)),null;case 27:if(Ae(u),d=ye.current,w=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==m&&ws(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return en(u),null}a=te.current,xc(u)?Bk(u):(a=p2(w,m,d),u.stateNode=a,ws(u))}return en(u),null;case 5:if(Ae(u),w=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==m&&ws(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return en(u),null}if(T=te.current,xc(u))Bk(u);else{var D=Yg(ye.current);switch(T){case 1:T=D.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:T=D.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":T=D.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":T=D.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":T=D.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof m.is=="string"?D.createElement("select",{is:m.is}):D.createElement("select"),m.multiple?T.multiple=!0:m.size&&(T.size=m.size);break;default:T=typeof m.is=="string"?D.createElement(w,{is:m.is}):D.createElement(w)}}T[En]=u,T[zn]=m;e:for(D=u.child;D!==null;){if(D.tag===5||D.tag===6)T.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===u)break e;for(;D.sibling===null;){if(D.return===null||D.return===u)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}u.stateNode=T;e:switch(ir(T,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ws(u)}}return en(u),p_(u,u.type,a===null?null:a.memoizedProps,u.pendingProps,d),null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==m&&ws(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(a=ye.current,xc(u)){if(a=u.stateNode,d=u.memoizedProps,m=null,w=tr,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}a[En]=u,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||r2(a.nodeValue,d)),a||ya(u,!0)}else a=Yg(a).createTextNode(m),a[En]=u,u.stateNode=a}return en(u),null;case 31:if(d=u.memoizedState,a===null||a.memoizedState!==null){if(m=xc(u),d!==null){if(a===null){if(!m)throw Error(r(318));if(a=u.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[En]=u}else Wl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;en(u),a=!1}else d=Ex(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return u.flags&256?(ti(u),u):(ti(u),null);if((u.flags&128)!==0)throw Error(r(558))}return en(u),null;case 13:if(m=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=xc(u),m!==null&&m.dehydrated!==null){if(a===null){if(!w)throw Error(r(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[En]=u}else Wl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;en(u),w=!1}else w=Ex(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(ti(u),u):(ti(u),null)}return ti(u),(u.flags&128)!==0?(u.lanes=d,u):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=u.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),T=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),T!==w&&(m.flags|=2048)),d!==a&&d&&(u.child.flags|=8192),Og(u,u.updateQueue),en(u),null);case 4:return he(),a===null&&L_(u.stateNode.containerInfo),en(u),null;case 10:return vs(u.type),en(u),null;case 19:if($(bn),m=u.memoizedState,m===null)return en(u),null;if(w=(u.flags&128)!==0,T=m.rendering,T===null)if(w)zd(m,!1);else{if(fn!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(T=_g(a),T!==null){for(u.flags|=128,zd(m,!1),a=T.updateQueue,u.updateQueue=a,Og(u,a),u.subtreeFlags=0,a=d,d=u.child;d!==null;)Dk(d,a),d=d.sibling;return J(bn,bn.current&1|2),gt&&gs(u,m.treeForkCount),u.child}a=a.sibling}m.tail!==null&&Kt()>Ug&&(u.flags|=128,w=!0,zd(m,!1),u.lanes=4194304)}else{if(!w)if(a=_g(T),a!==null){if(u.flags|=128,w=!0,a=a.updateQueue,u.updateQueue=a,Og(u,a),zd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!gt)return en(u),null}else 2*Kt()-m.renderingStartTime>Ug&&d!==536870912&&(u.flags|=128,w=!0,zd(m,!1),u.lanes=4194304);m.isBackwards?(T.sibling=u.child,u.child=T):(a=m.last,a!==null?a.sibling=T:u.child=T,m.last=T)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Kt(),a.sibling=null,d=bn.current,J(bn,w?d&1|2:d&1),gt&&gs(u,m.treeForkCount),a):(en(u),null);case 22:case 23:return ti(u),jx(),m=u.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(d&536870912)!==0&&(u.flags&128)===0&&(en(u),u.subtreeFlags&6&&(u.flags|=8192)):en(u),d=u.updateQueue,d!==null&&Og(u,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048),a!==null&&$(Xl),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),vs(Cn),en(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function NK(a,u){switch(wx(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return vs(Cn),he(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return Ae(u),null;case 31:if(u.memoizedState!==null){if(ti(u),u.alternate===null)throw Error(r(340));Wl()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 13:if(ti(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Wl()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return $(bn),null;case 4:return he(),null;case 10:return vs(u.type),null;case 22:case 23:return ti(u),jx(),a!==null&&$(Xl),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return vs(Cn),null;case 25:return null;default:return null}}function lM(a,u){switch(wx(u),u.tag){case 3:vs(Cn),he();break;case 26:case 27:case 5:Ae(u);break;case 4:he();break;case 31:u.memoizedState!==null&&ti(u);break;case 13:ti(u);break;case 19:$(bn);break;case 10:vs(u.type);break;case 22:case 23:ti(u),jx(),a!==null&&$(Xl);break;case 24:vs(Cn)}}function $d(a,u){try{var d=u.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var w=m.next;d=w;do{if((d.tag&a)===a){m=void 0;var T=d.create,D=d.inst;m=T(),D.destroy=m}d=d.next}while(d!==w)}}catch(G){jt(u,u.return,G)}}function Ea(a,u,d){try{var m=u.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var T=w.next;m=T;do{if((m.tag&a)===a){var D=m.inst,G=D.destroy;if(G!==void 0){D.destroy=void 0,w=u;var Q=d,le=G;try{le()}catch(me){jt(w,Q,me)}}}m=m.next}while(m!==T)}}catch(me){jt(u,u.return,me)}}function uM(a){var u=a.updateQueue;if(u!==null){var d=a.stateNode;try{Zk(u,d)}catch(m){jt(a,a.return,m)}}}function cM(a,u,d){d.props=nu(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){jt(a,u,m)}}function Gd(a,u){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(w){jt(a,u,w)}}function qo(a,u){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(w){jt(a,u,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){jt(a,u,w)}else d.current=null}function fM(a){var u=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(w){jt(a,a.return,w)}}function m_(a,u,d){try{var m=a.stateNode;XK(m,a.type,d,u),m[zn]=u}catch(w){jt(a,a.return,w)}}function dM(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ka(a.type)||a.tag===4}function g_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||dM(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ka(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function y_(a,u,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(a),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Yi));else if(m!==4&&(m===27&&ka(a.type)&&(d=a.stateNode,u=null),a=a.child,a!==null))for(y_(a,u,d),a=a.sibling;a!==null;)y_(a,u,d),a=a.sibling}function Dg(a,u,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?d.insertBefore(a,u):d.appendChild(a);else if(m!==4&&(m===27&&ka(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Dg(a,u,d),a=a.sibling;a!==null;)Dg(a,u,d),a=a.sibling}function hM(a){var u=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);ir(u,m,d),u[En]=a,u[zn]=d}catch(T){jt(a,a.return,T)}}var Ts=!1,Rn=!1,v_=!1,pM=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function RK(a,u){if(a=a.containerInfo,U_=ny,a=Ak(a),fx(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var w=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var D=0,G=-1,Q=-1,le=0,me=0,xe=a,ue=null;t:for(;;){for(var de;xe!==d||w!==0&&xe.nodeType!==3||(G=D+w),xe!==T||m!==0&&xe.nodeType!==3||(Q=D+m),xe.nodeType===3&&(D+=xe.nodeValue.length),(de=xe.firstChild)!==null;)ue=xe,xe=de;for(;;){if(xe===a)break t;if(ue===d&&++le===w&&(G=D),ue===T&&++me===m&&(Q=D),(de=xe.nextSibling)!==null)break;xe=ue,ue=xe.parentNode}xe=de}d=G===-1||Q===-1?null:{start:G,end:Q}}else d=null}d=d||{start:0,end:0}}else d=null;for(B_={focusedElem:a,selectionRange:d},ny=!1,Gn=u;Gn!==null;)if(u=Gn,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Gn=a;else for(;Gn!==null;){switch(u=Gn,T=u.alternate,a=u.flags,u.tag){case 0:if((a&4)!==0&&(a=u.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)w=a[d],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,d=u,w=T.memoizedProps,T=T.memoizedState,m=d.stateNode;try{var Le=nu(d.type,w);a=m.getSnapshotBeforeUpdate(Le,T),m.__reactInternalSnapshotBeforeUpdate=a}catch(ze){jt(d,d.return,ze)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,d=a.nodeType,d===9)z_(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":z_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=u.sibling,a!==null){a.return=u.return,Gn=a;break}Gn=u.return}}function mM(a,u,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Ss(a,d),m&4&&$d(5,d);break;case 1:if(Ss(a,d),m&4)if(a=d.stateNode,u===null)try{a.componentDidMount()}catch(D){jt(d,d.return,D)}else{var w=nu(d.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(w,u,a.__reactInternalSnapshotBeforeUpdate)}catch(D){jt(d,d.return,D)}}m&64&&uM(d),m&512&&Gd(d,d.return);break;case 3:if(Ss(a,d),m&64&&(a=d.updateQueue,a!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{Zk(a,u)}catch(D){jt(d,d.return,D)}}break;case 27:u===null&&m&4&&hM(d);case 26:case 5:Ss(a,d),u===null&&m&4&&fM(d),m&512&&Gd(d,d.return);break;case 12:Ss(a,d);break;case 31:Ss(a,d),m&4&&vM(a,d);break;case 13:Ss(a,d),m&4&&bM(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=UK.bind(null,d),oW(a,d))));break;case 22:if(m=d.memoizedState!==null||Ts,!m){u=u!==null&&u.memoizedState!==null||Rn,w=Ts;var T=Rn;Ts=m,(Rn=u)&&!T?As(a,d,(d.subtreeFlags&8772)!==0):Ss(a,d),Ts=w,Rn=T}break;case 30:break;default:Ss(a,d)}}function gM(a){var u=a.alternate;u!==null&&(a.alternate=null,gM(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&rc(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var on=null,kr=!1;function Es(a,u,d){for(d=d.child;d!==null;)yM(a,u,d),d=d.sibling}function yM(a,u,d){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Mt,d)}catch{}switch(d.tag){case 26:Rn||qo(d,u),Es(a,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Rn||qo(d,u);var m=on,w=kr;ka(d.type)&&(on=d.stateNode,kr=!1),Es(a,u,d),eh(d.stateNode),on=m,kr=w;break;case 5:Rn||qo(d,u);case 6:if(m=on,w=kr,on=null,Es(a,u,d),on=m,kr=w,on!==null)if(kr)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(d.stateNode)}catch(T){jt(d,u,T)}else try{on.removeChild(d.stateNode)}catch(T){jt(d,u,T)}break;case 18:on!==null&&(kr?(a=on,u2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Fc(a)):u2(on,d.stateNode));break;case 4:m=on,w=kr,on=d.stateNode.containerInfo,kr=!0,Es(a,u,d),on=m,kr=w;break;case 0:case 11:case 14:case 15:Ea(2,d,u),Rn||Ea(4,d,u),Es(a,u,d);break;case 1:Rn||(qo(d,u),m=d.stateNode,typeof m.componentWillUnmount=="function"&&cM(d,u,m)),Es(a,u,d);break;case 21:Es(a,u,d);break;case 22:Rn=(m=Rn)||d.memoizedState!==null,Es(a,u,d),Rn=m;break;default:Es(a,u,d)}}function vM(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Fc(a)}catch(d){jt(u,u.return,d)}}}function bM(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Fc(a)}catch(d){jt(u,u.return,d)}}function kK(a){switch(a.tag){case 31:case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new pM),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new pM),u;default:throw Error(r(435,a.tag))}}function Lg(a,u){var d=kK(a);u.forEach(function(m){if(!d.has(m)){d.add(m);var w=BK.bind(null,a,m);m.then(w,w)}})}function Pr(a,u){var d=u.deletions;if(d!==null)for(var m=0;m<d.length;m++){var w=d[m],T=a,D=u,G=D;e:for(;G!==null;){switch(G.tag){case 27:if(ka(G.type)){on=G.stateNode,kr=!1;break e}break;case 5:on=G.stateNode,kr=!1;break e;case 3:case 4:on=G.stateNode.containerInfo,kr=!0;break e}G=G.return}if(on===null)throw Error(r(160));yM(T,D,w),on=null,kr=!1,T=w.alternate,T!==null&&(T.return=null),w.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)xM(u,a),u=u.sibling}var to=null;function xM(a,u){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Pr(u,a),Mr(a),m&4&&(Ea(3,a,a.return),$d(3,a),Ea(5,a,a.return));break;case 1:Pr(u,a),Mr(a),m&512&&(Rn||d===null||qo(d,d.return)),m&64&&Ts&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var w=to;if(Pr(u,a),Mr(a),m&512&&(Rn||d===null||qo(d,d.return)),m&4){var T=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":T=w.getElementsByTagName("title")[0],(!T||T[Io]||T[En]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=w.createElement(m),w.head.insertBefore(T,w.querySelector("head > title"))),ir(T,m,d),T[En]=a,Sn(T),m=T;break e;case"link":var D=x2("link","href",w).get(m+(d.href||""));if(D){for(var G=0;G<D.length;G++)if(T=D[G],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(G,1);break t}}T=w.createElement(m),ir(T,m,d),w.head.appendChild(T);break;case"meta":if(D=x2("meta","content",w).get(m+(d.content||""))){for(G=0;G<D.length;G++)if(T=D[G],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(G,1);break t}}T=w.createElement(m),ir(T,m,d),w.head.appendChild(T);break;default:throw Error(r(468,m))}T[En]=a,Sn(T),m=T}a.stateNode=m}else _2(w,a.type,a.stateNode);else a.stateNode=b2(w,m,a.memoizedProps);else T!==m?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,m===null?_2(w,a.type,a.stateNode):b2(w,m,a.memoizedProps)):m===null&&a.stateNode!==null&&m_(a,a.memoizedProps,d.memoizedProps)}break;case 27:Pr(u,a),Mr(a),m&512&&(Rn||d===null||qo(d,d.return)),d!==null&&m&4&&m_(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Pr(u,a),Mr(a),m&512&&(Rn||d===null||qo(d,d.return)),a.flags&32){w=a.stateNode;try{Rr(w,"")}catch(Le){jt(a,a.return,Le)}}m&4&&a.stateNode!=null&&(w=a.memoizedProps,m_(a,w,d!==null?d.memoizedProps:w)),m&1024&&(v_=!0);break;case 6:if(Pr(u,a),Mr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(Le){jt(a,a.return,Le)}}break;case 3:if(Qg=null,w=to,to=Jg(u.containerInfo),Pr(u,a),to=w,Mr(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Fc(u.containerInfo)}catch(Le){jt(a,a.return,Le)}v_&&(v_=!1,_M(a));break;case 4:m=to,to=Jg(a.stateNode.containerInfo),Pr(u,a),Mr(a),to=m;break;case 12:Pr(u,a),Mr(a);break;case 31:Pr(u,a),Mr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Lg(a,m)));break;case 13:Pr(u,a),Mr(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Vg=Kt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Lg(a,m)));break;case 22:w=a.memoizedState!==null;var Q=d!==null&&d.memoizedState!==null,le=Ts,me=Rn;if(Ts=le||w,Rn=me||Q,Pr(u,a),Rn=me,Ts=le,Mr(a),m&8192)e:for(u=a.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(d===null||Q||Ts||Rn||ru(a)),d=null,u=a;;){if(u.tag===5||u.tag===26){if(d===null){Q=d=u;try{if(T=Q.stateNode,w)D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{G=Q.stateNode;var xe=Q.memoizedProps.style,ue=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;G.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Le){jt(Q,Q.return,Le)}}}else if(u.tag===6){if(d===null){Q=u;try{Q.stateNode.nodeValue=w?"":Q.memoizedProps}catch(Le){jt(Q,Q.return,Le)}}}else if(u.tag===18){if(d===null){Q=u;try{var de=Q.stateNode;w?c2(de,!0):c2(Q.stateNode,!1)}catch(Le){jt(Q,Q.return,Le)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Lg(a,d))));break;case 19:Pr(u,a),Mr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Lg(a,m)));break;case 30:break;case 21:break;default:Pr(u,a),Mr(a)}}function Mr(a){var u=a.flags;if(u&2){try{for(var d,m=a.return;m!==null;){if(dM(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var w=d.stateNode,T=g_(a);Dg(a,T,w);break;case 5:var D=d.stateNode;d.flags&32&&(Rr(D,""),d.flags&=-33);var G=g_(a);Dg(a,G,D);break;case 3:case 4:var Q=d.stateNode.containerInfo,le=g_(a);y_(a,le,Q);break;default:throw Error(r(161))}}catch(me){jt(a,a.return,me)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function _M(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;_M(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function Ss(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)mM(a,u.alternate,u),u=u.sibling}function ru(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:Ea(4,u,u.return),ru(u);break;case 1:qo(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&cM(u,u.return,d),ru(u);break;case 27:eh(u.stateNode);case 26:case 5:qo(u,u.return),ru(u);break;case 22:u.memoizedState===null&&ru(u);break;case 30:ru(u);break;default:ru(u)}a=a.sibling}}function As(a,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,w=a,T=u,D=T.flags;switch(T.tag){case 0:case 11:case 15:As(w,T,d),$d(4,T);break;case 1:if(As(w,T,d),m=T,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(le){jt(m,m.return,le)}if(m=T,w=m.updateQueue,w!==null){var G=m.stateNode;try{var Q=w.shared.hiddenCallbacks;if(Q!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Q.length;w++)Qk(Q[w],G)}catch(le){jt(m,m.return,le)}}d&&D&64&&uM(T),Gd(T,T.return);break;case 27:hM(T);case 26:case 5:As(w,T,d),d&&m===null&&D&4&&fM(T),Gd(T,T.return);break;case 12:As(w,T,d);break;case 31:As(w,T,d),d&&D&4&&vM(w,T);break;case 13:As(w,T,d),d&&D&4&&bM(w,T);break;case 22:T.memoizedState===null&&As(w,T,d),Gd(T,T.return);break;case 30:break;default:As(w,T,d)}u=u.sibling}}function b_(a,u){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&kd(d))}function x_(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&kd(a))}function no(a,u,d,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)wM(a,u,d,m),u=u.sibling}function wM(a,u,d,m){var w=u.flags;switch(u.tag){case 0:case 11:case 15:no(a,u,d,m),w&2048&&$d(9,u);break;case 1:no(a,u,d,m);break;case 3:no(a,u,d,m),w&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&kd(a)));break;case 12:if(w&2048){no(a,u,d,m),a=u.stateNode;try{var T=u.memoizedProps,D=T.id,G=T.onPostCommit;typeof G=="function"&&G(D,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Q){jt(u,u.return,Q)}}else no(a,u,d,m);break;case 31:no(a,u,d,m);break;case 13:no(a,u,d,m);break;case 23:break;case 22:T=u.stateNode,D=u.alternate,u.memoizedState!==null?T._visibility&2?no(a,u,d,m):Hd(a,u):T._visibility&2?no(a,u,d,m):(T._visibility|=2,Rc(a,u,d,m,(u.subtreeFlags&10256)!==0||!1)),w&2048&&b_(D,u);break;case 24:no(a,u,d,m),w&2048&&x_(u.alternate,u);break;default:no(a,u,d,m)}}function Rc(a,u,d,m,w){for(w=w&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var T=a,D=u,G=d,Q=m,le=D.flags;switch(D.tag){case 0:case 11:case 15:Rc(T,D,G,Q,w),$d(8,D);break;case 23:break;case 22:var me=D.stateNode;D.memoizedState!==null?me._visibility&2?Rc(T,D,G,Q,w):Hd(T,D):(me._visibility|=2,Rc(T,D,G,Q,w)),w&&le&2048&&b_(D.alternate,D);break;case 24:Rc(T,D,G,Q,w),w&&le&2048&&x_(D.alternate,D);break;default:Rc(T,D,G,Q,w)}u=u.sibling}}function Hd(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=a,m=u,w=m.flags;switch(m.tag){case 22:Hd(d,m),w&2048&&b_(m.alternate,m);break;case 24:Hd(d,m),w&2048&&x_(m.alternate,m);break;default:Hd(d,m)}u=u.sibling}}var Kd=8192;function kc(a,u,d){if(a.subtreeFlags&Kd)for(a=a.child;a!==null;)TM(a,u,d),a=a.sibling}function TM(a,u,d){switch(a.tag){case 26:kc(a,u,d),a.flags&Kd&&a.memoizedState!==null&&yW(d,to,a.memoizedState,a.memoizedProps);break;case 5:kc(a,u,d);break;case 3:case 4:var m=to;to=Jg(a.stateNode.containerInfo),kc(a,u,d),to=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Kd,Kd=16777216,kc(a,u,d),Kd=m):kc(a,u,d));break;default:kc(a,u,d)}}function EM(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function Wd(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];Gn=m,AM(m,a)}EM(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)SM(a),a=a.sibling}function SM(a){switch(a.tag){case 0:case 11:case 15:Wd(a),a.flags&2048&&Ea(9,a,a.return);break;case 3:Wd(a);break;case 12:Wd(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&2&&(a.return===null||a.return.tag!==13)?(u._visibility&=-3,jg(a)):Wd(a);break;default:Wd(a)}}function jg(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];Gn=m,AM(m,a)}EM(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:Ea(8,u,u.return),jg(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,jg(u));break;default:jg(u)}a=a.sibling}}function AM(a,u){for(;Gn!==null;){var d=Gn;switch(d.tag){case 0:case 11:case 15:Ea(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:kd(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Gn=m;else e:for(d=a;Gn!==null;){m=Gn;var w=m.sibling,T=m.return;if(gM(m),m===d){Gn=null;break e}if(w!==null){w.return=T,Gn=w;break e}Gn=T}}}var PK={getCacheForType:function(a){var u=nr(Cn),d=u.data.get(a);return d===void 0&&(d=a(),u.data.set(a,d)),d},cacheSignal:function(){return nr(Cn).controller.signal}},MK=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Wt=null,st=null,ut=0,Lt=0,ni=null,Sa=!1,Pc=!1,__=!1,Cs=0,fn=0,Aa=0,iu=0,w_=0,ri=0,Mc=0,Yd=null,Or=null,T_=!1,Vg=0,CM=0,Ug=1/0,Bg=null,Ca=null,Ln=0,Ia=null,Oc=null,Is=0,E_=0,S_=null,IM=null,Jd=0,A_=null;function ii(){return(Ct&2)!==0&&ut!==0?ut&-ut:W.T!==null?P_():Fm()}function NM(){if(ri===0)if((ut&536870912)===0||gt){var a=kl;kl<<=1,(kl&3932160)===0&&(kl=262144),ri=a}else ri=536870912;return a=ei.current,a!==null&&(a.flags|=32),ri}function Dr(a,u,d){(a===Wt&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)&&(Dc(a,0),Na(a,ut,ri,!1)),Pl(a,d),((Ct&2)===0||a!==Wt)&&(a===Wt&&((Ct&2)===0&&(iu|=d),fn===4&&Na(a,ut,ri,!1)),zo(a))}function RM(a,u,d){if((Ct&6)!==0)throw Error(r(327));var m=!d&&(u&127)===0&&(u&a.expiredLanes)===0||Hi(a,u),w=m?LK(a,u):I_(a,u,!0),T=m;do{if(w===0){Pc&&!m&&Na(a,u,0,!1);break}else{if(d=a.current.alternate,T&&!OK(d)){w=I_(a,u,!1),T=!1;continue}if(w===2){if(T=u,a.errorRecoveryDisabledLanes&T)var D=0;else D=a.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){u=D;e:{var G=a;w=Yd;var Q=G.current.memoizedState.isDehydrated;if(Q&&(Dc(G,D).flags|=256),D=I_(G,D,!1),D!==2){if(__&&!Q){G.errorRecoveryDisabledLanes|=T,iu|=T,w=4;break e}T=Or,Or=w,T!==null&&(Or===null?Or=T:Or.push.apply(Or,T))}w=D}if(T=!1,w!==2)continue}}if(w===1){Dc(a,0),Na(a,u,0,!0);break}e:{switch(m=a,T=w,T){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Na(m,u,ri,!Sa);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(w=Vg+300-Kt(),10<w)){if(Na(m,u,ri,!Sa),So(m,0,!0)!==0)break e;Is=u,m.timeoutHandle=a2(kM.bind(null,m,d,Or,Bg,T_,u,ri,iu,Mc,Sa,T,"Throttled",-0,0),w);break e}kM(m,d,Or,Bg,T_,u,ri,iu,Mc,Sa,T,null,-0,0)}}break}while(!0);zo(a)}function kM(a,u,d,m,w,T,D,G,Q,le,me,xe,ue,de){if(a.timeoutHandle=-1,xe=u.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yi},TM(u,T,xe);var Le=(T&62914560)===T?Vg-Kt():(T&4194048)===T?CM-Kt():0;if(Le=vW(xe,Le),Le!==null){Is=T,a.cancelPendingCommit=Le(UM.bind(null,a,u,T,d,m,w,D,G,Q,me,xe,null,ue,de)),Na(a,T,D,!le);return}}UM(a,u,T,d,m,w,D,G,Q)}function OK(a){for(var u=a;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var w=d[m],T=w.getSnapshot;w=w.value;try{if(!Qr(T(),w))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Na(a,u,d,m){u&=~w_,u&=~iu,a.suspendedLanes|=u,a.pingedLanes&=~u,m&&(a.warmLanes|=u),m=a.expirationTimes;for(var w=u;0<w;){var T=31-yn(w),D=1<<T;m[T]=-1,w&=~D}d!==0&&Ml(a,d,u)}function Fg(){return(Ct&6)===0?(Xd(0),!1):!0}function C_(){if(st!==null){if(Lt===0)var a=st.return;else a=st,ys=Yl=null,zx(a),Sc=null,Md=0,a=st;for(;a!==null;)lM(a.alternate,a),a=a.return;st=null}}function Dc(a,u){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,eW(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Is=0,C_(),Wt=a,st=d=ms(a.current,null),ut=u,Lt=0,ni=null,Sa=!1,Pc=Hi(a,u),__=!1,Mc=ri=w_=iu=Aa=fn=0,Or=Yd=null,T_=!1,(u&8)!==0&&(u|=u&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=u;0<m;){var w=31-yn(m),T=1<<w;u|=a[w],m&=~T}return Cs=u,lg(),d}function PM(a,u){it=null,W.H=Fd,u===Ec||u===gg?(u=Wk(),Lt=3):u===kx?(u=Wk(),Lt=4):Lt=u===o_?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ni=u,st===null&&(fn=1,Rg(a,Ti(u,a.current)))}function MM(){var a=ei.current;return a===null?!0:(ut&4194048)===ut?Ci===null:(ut&62914560)===ut||(ut&536870912)!==0?a===Ci:!1}function OM(){var a=W.H;return W.H=Fd,a===null?Fd:a}function DM(){var a=W.A;return W.A=PK,a}function qg(){fn=4,Sa||(ut&4194048)!==ut&&ei.current!==null||(Pc=!0),(Aa&134217727)===0&&(iu&134217727)===0||Wt===null||Na(Wt,ut,ri,!1)}function I_(a,u,d){var m=Ct;Ct|=2;var w=OM(),T=DM();(Wt!==a||ut!==u)&&(Bg=null,Dc(a,u)),u=!1;var D=fn;e:do try{if(Lt!==0&&st!==null){var G=st,Q=ni;switch(Lt){case 8:C_(),D=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(u=!0);var le=Lt;if(Lt=0,ni=null,Lc(a,G,Q,le),d&&Pc){D=0;break e}break;default:le=Lt,Lt=0,ni=null,Lc(a,G,Q,le)}}DK(),D=fn;break}catch(me){PM(a,me)}while(!0);return u&&a.shellSuspendCounter++,ys=Yl=null,Ct=m,W.H=w,W.A=T,st===null&&(Wt=null,ut=0,lg()),D}function DK(){for(;st!==null;)LM(st)}function LK(a,u){var d=Ct;Ct|=2;var m=OM(),w=DM();Wt!==a||ut!==u?(Bg=null,Ug=Kt()+500,Dc(a,u)):Pc=Hi(a,u);e:do try{if(Lt!==0&&st!==null){u=st;var T=ni;t:switch(Lt){case 1:Lt=0,ni=null,Lc(a,u,T,1);break;case 2:case 9:if(Hk(T)){Lt=0,ni=null,jM(u);break}u=function(){Lt!==2&&Lt!==9||Wt!==a||(Lt=7),zo(a)},T.then(u,u);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:Hk(T)?(Lt=0,ni=null,jM(u)):(Lt=0,ni=null,Lc(a,u,T,7));break;case 5:var D=null;switch(st.tag){case 26:D=st.memoizedState;case 5:case 27:var G=st;if(D?w2(D):G.stateNode.complete){Lt=0,ni=null;var Q=G.sibling;if(Q!==null)st=Q;else{var le=G.return;le!==null?(st=le,zg(le)):st=null}break t}}Lt=0,ni=null,Lc(a,u,T,5);break;case 6:Lt=0,ni=null,Lc(a,u,T,6);break;case 8:C_(),fn=6;break e;default:throw Error(r(462))}}jK();break}catch(me){PM(a,me)}while(!0);return ys=Yl=null,W.H=m,W.A=w,Ct=d,st!==null?0:(Wt=null,ut=0,lg(),fn)}function jK(){for(;st!==null&&!gi();)LM(st)}function LM(a){var u=sM(a.alternate,a,Cs);a.memoizedProps=a.pendingProps,u===null?zg(a):st=u}function jM(a){var u=a,d=u.alternate;switch(u.tag){case 15:case 0:u=eM(d,u,u.pendingProps,u.type,void 0,ut);break;case 11:u=eM(d,u,u.pendingProps,u.type.render,u.ref,ut);break;case 5:zx(u);default:lM(d,u),u=st=Dk(u,Cs),u=sM(d,u,Cs)}a.memoizedProps=a.pendingProps,u===null?zg(a):st=u}function Lc(a,u,d,m){ys=Yl=null,zx(u),Sc=null,Md=0;var w=u.return;try{if(SK(a,w,u,d,ut)){fn=1,Rg(a,Ti(d,a.current)),st=null;return}}catch(T){if(w!==null)throw st=w,T;fn=1,Rg(a,Ti(d,a.current)),st=null;return}u.flags&32768?(gt||m===1?a=!0:Pc||(ut&536870912)!==0?a=!1:(Sa=a=!0,(m===2||m===9||m===3||m===6)&&(m=ei.current,m!==null&&m.tag===13&&(m.flags|=16384))),VM(u,a)):zg(u)}function zg(a){var u=a;do{if((u.flags&32768)!==0){VM(u,Sa);return}a=u.return;var d=IK(u.alternate,u,Cs);if(d!==null){st=d;return}if(u=u.sibling,u!==null){st=u;return}st=u=a}while(u!==null);fn===0&&(fn=5)}function VM(a,u){do{var d=NK(a.alternate,a);if(d!==null){d.flags&=32767,st=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(a=a.sibling,a!==null)){st=a;return}st=a=d}while(a!==null);fn=6,st=null}function UM(a,u,d,m,w,T,D,G,Q){a.cancelPendingCommit=null;do $g();while(Ln!==0);if((Ct&6)!==0)throw Error(r(327));if(u!==null){if(u===a.current)throw Error(r(177));if(T=u.lanes|u.childLanes,T|=gx,ax(a,d,T,D,G,Q),a===Wt&&(st=Wt=null,ut=0),Oc=u,Ia=a,Is=d,E_=T,S_=w,IM=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,FK(Re,function(){return $M(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=W.T,W.T=null,w=ee.p,ee.p=2,D=Ct,Ct|=4;try{RK(a,u,d)}finally{Ct=D,ee.p=w,W.T=m}}Ln=1,BM(),FM(),qM()}}function BM(){if(Ln===1){Ln=0;var a=Ia,u=Oc,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=W.T,W.T=null;var m=ee.p;ee.p=2;var w=Ct;Ct|=4;try{xM(u,a);var T=B_,D=Ak(a.containerInfo),G=T.focusedElem,Q=T.selectionRange;if(D!==G&&G&&G.ownerDocument&&Sk(G.ownerDocument.documentElement,G)){if(Q!==null&&fx(G)){var le=Q.start,me=Q.end;if(me===void 0&&(me=le),"selectionStart"in G)G.selectionStart=le,G.selectionEnd=Math.min(me,G.value.length);else{var xe=G.ownerDocument||document,ue=xe&&xe.defaultView||window;if(ue.getSelection){var de=ue.getSelection(),Le=G.textContent.length,ze=Math.min(Q.start,Le),qt=Q.end===void 0?ze:Math.min(Q.end,Le);!de.extend&&ze>qt&&(D=qt,qt=ze,ze=D);var ne=Ek(G,ze),Z=Ek(G,qt);if(ne&&Z&&(de.rangeCount!==1||de.anchorNode!==ne.node||de.anchorOffset!==ne.offset||de.focusNode!==Z.node||de.focusOffset!==Z.offset)){var ae=xe.createRange();ae.setStart(ne.node,ne.offset),de.removeAllRanges(),ze>qt?(de.addRange(ae),de.extend(Z.node,Z.offset)):(ae.setEnd(Z.node,Z.offset),de.addRange(ae))}}}}for(xe=[],de=G;de=de.parentNode;)de.nodeType===1&&xe.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<xe.length;G++){var ve=xe[G];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}ny=!!U_,B_=U_=null}finally{Ct=w,ee.p=m,W.T=d}}a.current=u,Ln=2}}function FM(){if(Ln===2){Ln=0;var a=Ia,u=Oc,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=W.T,W.T=null;var m=ee.p;ee.p=2;var w=Ct;Ct|=4;try{mM(a,u.alternate,u)}finally{Ct=w,ee.p=m,W.T=d}}Ln=3}}function qM(){if(Ln===4||Ln===3){Ln=0,Yr();var a=Ia,u=Oc,d=Is,m=IM;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Ln=5:(Ln=0,Oc=Ia=null,zM(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(Ca=null),fs(d),u=u.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Mt,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=W.T,w=ee.p,ee.p=2,W.T=null;try{for(var T=a.onRecoverableError,D=0;D<m.length;D++){var G=m[D];T(G.value,{componentStack:G.stack})}}finally{W.T=u,ee.p=w}}(Is&3)!==0&&$g(),zo(a),w=a.pendingLanes,(d&261930)!==0&&(w&42)!==0?a===A_?Jd++:(Jd=0,A_=a):Jd=0,Xd(0)}}function zM(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,kd(u)))}function $g(){return BM(),FM(),qM(),$M()}function $M(){if(Ln!==5)return!1;var a=Ia,u=E_;E_=0;var d=fs(Is),m=W.T,w=ee.p;try{ee.p=32>d?32:d,W.T=null,d=S_,S_=null;var T=Ia,D=Is;if(Ln=0,Oc=Ia=null,Is=0,(Ct&6)!==0)throw Error(r(331));var G=Ct;if(Ct|=4,SM(T.current),wM(T,T.current,D,d),Ct=G,Xd(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Mt,T)}catch{}return!0}finally{ee.p=w,W.T=m,zM(a,u)}}function GM(a,u,d){u=Ti(d,u),u=i_(a.stateNode,u,2),a=_a(a,u,2),a!==null&&(Pl(a,2),zo(a))}function jt(a,u,d){if(a.tag===3)GM(a,a,d);else for(;u!==null;){if(u.tag===3){GM(u,a,d);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ca===null||!Ca.has(m))){a=Ti(d,a),d=HP(2),m=_a(u,d,2),m!==null&&(KP(d,m,u,a),Pl(m,2),zo(m));break}}u=u.return}}function N_(a,u,d){var m=a.pingCache;if(m===null){m=a.pingCache=new MK;var w=new Set;m.set(u,w)}else w=m.get(u),w===void 0&&(w=new Set,m.set(u,w));w.has(d)||(__=!0,w.add(d),a=VK.bind(null,a,u,d),u.then(a,a))}function VK(a,u,d){var m=a.pingCache;m!==null&&m.delete(u),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Wt===a&&(ut&d)===d&&(fn===4||fn===3&&(ut&62914560)===ut&&300>Kt()-Vg?(Ct&2)===0&&Dc(a,0):w_|=d,Mc===ut&&(Mc=0)),zo(a)}function HM(a,u){u===0&&(u=Bm()),a=Hl(a,u),a!==null&&(Pl(a,u),zo(a))}function UK(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),HM(a,d)}function BK(a,u){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,w=a.memoizedState;w!==null&&(d=w.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),HM(a,d)}function FK(a,u){return Ze(a,u)}var Gg=null,jc=null,R_=!1,Hg=!1,k_=!1,Ra=0;function zo(a){a!==jc&&a.next===null&&(jc===null?Gg=jc=a:jc=jc.next=a),Hg=!0,R_||(R_=!0,zK())}function Xd(a,u){if(!k_&&Hg){k_=!0;do for(var d=!1,m=Gg;m!==null;){if(a!==0){var w=m.pendingLanes;if(w===0)var T=0;else{var D=m.suspendedLanes,G=m.pingedLanes;T=(1<<31-yn(42|a)+1)-1,T&=w&~(D&~G),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,JM(m,T))}else T=ut,T=So(m,m===Wt?T:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(T&3)===0||Hi(m,T)||(d=!0,JM(m,T));m=m.next}while(d);k_=!1}}function qK(){KM()}function KM(){Hg=R_=!1;var a=0;Ra!==0&&ZK()&&(a=Ra);for(var u=Kt(),d=null,m=Gg;m!==null;){var w=m.next,T=WM(m,u);T===0?(m.next=null,d===null?Gg=w:d.next=w,w===null&&(jc=d)):(d=m,(a!==0||(T&3)!==0)&&(Hg=!0)),m=w}Ln!==0&&Ln!==5||Xd(a),Ra!==0&&(Ra=0)}function WM(a,u){for(var d=a.suspendedLanes,m=a.pingedLanes,w=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var D=31-yn(T),G=1<<D,Q=w[D];Q===-1?((G&d)===0||(G&m)!==0)&&(w[D]=sx(G,u)):Q<=u&&(a.expiredLanes|=G),T&=~G}if(u=Wt,d=ut,d=So(a,a===u?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===u&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&mn(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Hi(a,d)){if(u=d&-d,u===a.callbackPriority)return u;switch(m!==null&&mn(m),fs(d)){case 2:case 8:d=wo;break;case 32:d=Re;break;case 268435456:d=It;break;default:d=Re}return m=YM.bind(null,a),d=Ze(d,m),a.callbackPriority=u,a.callbackNode=d,u}return m!==null&&m!==null&&mn(m),a.callbackPriority=2,a.callbackNode=null,2}function YM(a,u){if(Ln!==0&&Ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if($g()&&a.callbackNode!==d)return null;var m=ut;return m=So(a,a===Wt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(RM(a,m,u),WM(a,Kt()),a.callbackNode!=null&&a.callbackNode===d?YM.bind(null,a):null)}function JM(a,u){if($g())return null;RM(a,u,!0)}function zK(){tW(function(){(Ct&6)!==0?Ze(_o,qK):KM()})}function P_(){if(Ra===0){var a=wc;a===0&&(a=To,To<<=1,(To&261888)===0&&(To=256)),Ra=a}return Ra}function XM(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ac(""+a)}function QM(a,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,a.id&&d.setAttribute("form",a.id),u.parentNode.insertBefore(d,u),a=new FormData(a),d.parentNode.removeChild(d),a}function $K(a,u,d,m,w){if(u==="submit"&&d&&d.stateNode===w){var T=XM((w[zn]||null).action),D=m.submitter;D&&(u=(u=D[zn]||null)?XM(u.formAction):D.getAttribute("formAction"),u!==null&&(T=u,D=null));var G=new Lo("action","action",null,m,w);a.push({event:G,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ra!==0){var Q=D?QM(w,D):new FormData(w);Qx(d,{pending:!0,data:Q,method:w.method,action:T},null,Q)}}else typeof T=="function"&&(G.preventDefault(),Q=D?QM(w,D):new FormData(w),Qx(d,{pending:!0,data:Q,method:w.method,action:T},T,Q))},currentTarget:w}]})}}for(var M_=0;M_<mx.length;M_++){var O_=mx[M_],GK=O_.toLowerCase(),HK=O_[0].toUpperCase()+O_.slice(1);eo(GK,"on"+HK)}eo(Nk,"onAnimationEnd"),eo(Rk,"onAnimationIteration"),eo(kk,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(lK,"onTransitionRun"),eo(uK,"onTransitionStart"),eo(cK,"onTransitionCancel"),eo(Pk,"onTransitionEnd"),Po("onMouseEnter",["mouseout","mouseover"]),Po("onMouseLeave",["mouseout","mouseover"]),Po("onPointerEnter",["pointerout","pointerover"]),Po("onPointerLeave",["pointerout","pointerover"]),ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ko("onBeforeInput",["compositionend","keypress","textInput","paste"]),ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qd));function ZM(a,u){u=(u&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],w=m.event;m=m.listeners;e:{var T=void 0;if(u)for(var D=m.length-1;0<=D;D--){var G=m[D],Q=G.instance,le=G.currentTarget;if(G=G.listener,Q!==T&&w.isPropagationStopped())break e;T=G,w.currentTarget=le;try{T(w)}catch(me){ag(me)}w.currentTarget=null,T=Q}else for(D=0;D<m.length;D++){if(G=m[D],Q=G.instance,le=G.currentTarget,G=G.listener,Q!==T&&w.isPropagationStopped())break e;T=G,w.currentTarget=le;try{T(w)}catch(me){ag(me)}w.currentTarget=null,T=Q}}}}function at(a,u){var d=u[nc];d===void 0&&(d=u[nc]=new Set);var m=a+"__bubble";d.has(m)||(e2(u,a,2,!1),d.add(m))}function D_(a,u,d){var m=0;u&&(m|=4),e2(d,a,m,u)}var Kg="_reactListening"+Math.random().toString(36).slice(2);function L_(a){if(!a[Kg]){a[Kg]=!0,cd.forEach(function(d){d!=="selectionchange"&&(KK.has(d)||D_(d,!1,a),D_(d,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Kg]||(u[Kg]=!0,D_("selectionchange",!1,u))}}function e2(a,u,d,m){switch(N2(u)){case 2:var w=_W;break;case 8:w=wW;break;default:w=X_}d=w.bind(null,u,d,a),w=void 0,!Vl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),m?w!==void 0?a.addEventListener(u,d,{capture:!0,passive:w}):a.addEventListener(u,d,!0):w!==void 0?a.addEventListener(u,d,{passive:w}):a.addEventListener(u,d,!1)}function j_(a,u,d,m,w){var T=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var G=m.stateNode.containerInfo;if(G===w)break;if(D===4)for(D=m.return;D!==null;){var Q=D.tag;if((Q===3||Q===4)&&D.stateNode.containerInfo===w)return;D=D.return}for(;G!==null;){if(D=No(G),D===null)return;if(Q=D.tag,Q===5||Q===6||Q===26||Q===27){m=T=D;continue e}G=G.parentNode}}m=m.return}fa(function(){var le=T,me=bi(d),xe=[];e:{var ue=Mk.get(a);if(ue!==void 0){var de=Lo,Le=a;switch(a){case"keypress":if(Bl(d)===0)break e;case"keydown":case"keyup":de=ig;break;case"focusin":Le="focus",de=ql;break;case"focusout":Le="blur",de=ql;break;case"beforeblur":case"afterblur":de=ql;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=k;break;case Nk:case Rk:case kk:de=Xm;break;case Pk:de=H;break;case"scroll":case"scrollend":de=wd;break;case"wheel":de=ce;break;case"copy":case"cut":case"paste":de=Qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=ps;break;case"toggle":case"beforetoggle":de=rt}var ze=(u&4)!==0,qt=!ze&&(a==="scroll"||a==="scrollend"),ne=ze?ue!==null?ue+"Capture":null:ue;ze=[];for(var Z=le,ae;Z!==null;){var ve=Z;if(ae=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ae===null||ne===null||(ve=Ji(Z,ne),ve!=null&&ze.push(Zd(Z,ve,ae))),qt)break;Z=Z.return}0<ze.length&&(ue=new de(ue,Le,null,d,me),xe.push({event:ue,listeners:ze}))}}if((u&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",de=a==="mouseout"||a==="pointerout",ue&&d!==bd&&(Le=d.relatedTarget||d.fromElement)&&(No(Le)||Le[Co]))break e;if((de||ue)&&(ue=me.window===me?me:(ue=me.ownerDocument)?ue.defaultView||ue.parentWindow:window,de?(Le=d.relatedTarget||d.toElement,de=le,Le=Le?No(Le):null,Le!==null&&(qt=o(Le),ze=Le.tag,Le!==qt||ze!==5&&ze!==27&&ze!==6)&&(Le=null)):(de=null,Le=le),de!==Le)){if(ze=Td,ve="onMouseLeave",ne="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(ze=ps,ve="onPointerLeave",ne="onPointerEnter",Z="pointer"),qt=de==null?ue:Jr(de),ae=Le==null?ue:Jr(Le),ue=new ze(ve,Z+"leave",de,d,me),ue.target=qt,ue.relatedTarget=ae,ve=null,No(me)===le&&(ze=new ze(ne,Z+"enter",Le,d,me),ze.target=ae,ze.relatedTarget=qt,ve=ze),qt=ve,de&&Le)t:{for(ze=WK,ne=de,Z=Le,ae=0,ve=ne;ve;ve=ze(ve))ae++;ve=0;for(var Be=Z;Be;Be=ze(Be))ve++;for(;0<ae-ve;)ne=ze(ne),ae--;for(;0<ve-ae;)Z=ze(Z),ve--;for(;ae--;){if(ne===Z||Z!==null&&ne===Z.alternate){ze=ne;break t}ne=ze(ne),Z=ze(Z)}ze=null}else ze=null;de!==null&&t2(xe,ue,de,ze,!1),Le!==null&&qt!==null&&t2(xe,qt,Le,ze,!0)}}e:{if(ue=le?Jr(le):window,de=ue.nodeName&&ue.nodeName.toLowerCase(),de==="select"||de==="input"&&ue.type==="file")var wt=vk;else if(gk(ue))if(bk)wt=oK;else{wt=rK;var je=nK}else de=ue.nodeName,!de||de.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?le&&sc(le.elementType)&&(wt=vk):wt=iK;if(wt&&(wt=wt(a,le))){yk(xe,wt,d,me);break e}je&&je(a,ue,le),a==="focusout"&&le&&ue.type==="number"&&le.memoizedProps.value!=null&&gd(ue,"number",ue.value)}switch(je=le?Jr(le):window,a){case"focusin":(gk(je)||je.contentEditable==="true")&&(pc=je,dx=le,Id=null);break;case"focusout":Id=dx=pc=null;break;case"mousedown":hx=!0;break;case"contextmenu":case"mouseup":case"dragend":hx=!1,Ck(xe,d,me);break;case"selectionchange":if(aK)break;case"keydown":case"keyup":Ck(xe,d,me)}var ot;if(At)e:{switch(a){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else hc?zl(a,d)&&(ct="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(ct="onCompositionStart");ct&&(Uo&&d.locale!=="ko"&&(hc||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&hc&&(ot=_d()):(Do=me,xd="value"in Do?Do.value:Do.textContent,hc=!0)),je=Wg(le,ct),0<je.length&&(ct=new Vo(ct,a,null,d,me),xe.push({event:ct,listeners:je}),ot?ct.data=ot:(ot=dc(d),ot!==null&&(ct.data=ot)))),(ot=_i?Q7(a,d):Z7(a,d))&&(ct=Wg(le,"onBeforeInput"),0<ct.length&&(je=new Vo("onBeforeInput","beforeinput",null,d,me),xe.push({event:je,listeners:ct}),je.data=ot)),$K(xe,a,le,d,me)}ZM(xe,u)})}function Zd(a,u,d){return{instance:a,listener:u,currentTarget:d}}function Wg(a,u){for(var d=u+"Capture",m=[];a!==null;){var w=a,T=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||T===null||(w=Ji(a,d),w!=null&&m.unshift(Zd(a,w,T)),w=Ji(a,u),w!=null&&m.push(Zd(a,w,T))),a.tag===3)return m;a=a.return}return[]}function WK(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function t2(a,u,d,m,w){for(var T=u._reactName,D=[];d!==null&&d!==m;){var G=d,Q=G.alternate,le=G.stateNode;if(G=G.tag,Q!==null&&Q===m)break;G!==5&&G!==26&&G!==27||le===null||(Q=le,w?(le=Ji(d,T),le!=null&&D.unshift(Zd(d,le,Q))):w||(le=Ji(d,T),le!=null&&D.push(Zd(d,le,Q)))),d=d.return}D.length!==0&&a.push({event:u,listeners:D})}var YK=/\r\n?/g,JK=/\u0000|\uFFFD/g;function n2(a){return(typeof a=="string"?a:""+a).replace(YK,`
`).replace(JK,"")}function r2(a,u){return u=n2(u),n2(a)===u}function Ft(a,u,d,m,w,T){switch(d){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||Rr(a,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&Rr(a,""+m);break;case"className":Xr(a,"class",m);break;case"tabIndex":Xr(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(a,d,m);break;case"style":vd(a,m,T);break;case"data":if(u!=="object"){Xr(a,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=ac(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(u!=="input"&&Ft(a,u,"name",w.name,w,null),Ft(a,u,"formEncType",w.formEncType,w,null),Ft(a,u,"formMethod",w.formMethod,w,null),Ft(a,u,"formTarget",w.formTarget,w,null)):(Ft(a,u,"encType",w.encType,w,null),Ft(a,u,"method",w.method,w,null),Ft(a,u,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=ac(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Yi);break;case"onScroll":m!=null&&at("scroll",a);break;case"onScrollEnd":m!=null&&at("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=ac(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":at("beforetoggle",a),at("toggle",a),ic(a,"popover",m);break;case"xlinkActuate":An(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":An(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":An(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":An(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":An(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":An(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":An(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":An(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":An(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ic(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Wm.get(d)||d,ic(a,d,m))}}function V_(a,u,d,m,w,T){switch(d){case"style":vd(a,m,T);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?Rr(a,m):(typeof m=="number"||typeof m=="bigint")&&Rr(a,""+m);break;case"onScroll":m!=null&&at("scroll",a);break;case"onScrollEnd":m!=null&&at("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fd.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),u=d.slice(2,w?d.length-7:void 0),T=a[zn]||null,T=T!=null?T[d]:null,typeof T=="function"&&a.removeEventListener(u,T,w),typeof m=="function")){typeof T!="function"&&T!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(u,m,w);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):ic(a,d,m)}}}function ir(a,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",a),at("load",a);var m=!1,w=!1,T;for(T in d)if(d.hasOwnProperty(T)){var D=d[T];if(D!=null)switch(T){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ft(a,u,T,D,d,null)}}w&&Ft(a,u,"srcSet",d.srcSet,d,null),m&&Ft(a,u,"src",d.src,d,null);return;case"input":at("invalid",a);var G=T=D=w=null,Q=null,le=null;for(m in d)if(d.hasOwnProperty(m)){var me=d[m];if(me!=null)switch(m){case"name":w=me;break;case"type":D=me;break;case"checked":Q=me;break;case"defaultChecked":le=me;break;case"value":T=me;break;case"defaultValue":G=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,u));break;default:Ft(a,u,m,me,d,null)}}Gm(a,T,G,Q,le,D,w,!1);return;case"select":at("invalid",a),m=D=T=null;for(w in d)if(d.hasOwnProperty(w)&&(G=d[w],G!=null))switch(w){case"value":T=G;break;case"defaultValue":D=G;break;case"multiple":m=G;default:Ft(a,u,w,G,d,null)}u=T,d=D,a.multiple=!!m,u!=null?aa(a,!!m,u,!1):d!=null&&aa(a,!!m,d,!0);return;case"textarea":at("invalid",a),T=w=m=null;for(D in d)if(d.hasOwnProperty(D)&&(G=d[D],G!=null))switch(D){case"value":m=G;break;case"defaultValue":w=G;break;case"children":T=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Ft(a,u,D,G,d,null)}la(a,m,w,T);return;case"option":for(Q in d)if(d.hasOwnProperty(Q)&&(m=d[Q],m!=null))switch(Q){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ft(a,u,Q,m,d,null)}return;case"dialog":at("beforetoggle",a),at("toggle",a),at("cancel",a),at("close",a);break;case"iframe":case"object":at("load",a);break;case"video":case"audio":for(m=0;m<Qd.length;m++)at(Qd[m],a);break;case"image":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"embed":case"source":case"link":at("error",a),at("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in d)if(d.hasOwnProperty(le)&&(m=d[le],m!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ft(a,u,le,m,d,null)}return;default:if(sc(u)){for(me in d)d.hasOwnProperty(me)&&(m=d[me],m!==void 0&&V_(a,u,me,m,d,void 0));return}}for(G in d)d.hasOwnProperty(G)&&(m=d[G],m!=null&&Ft(a,u,G,m,d,null))}function XK(a,u,d,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,T=null,D=null,G=null,Q=null,le=null,me=null;for(de in d){var xe=d[de];if(d.hasOwnProperty(de)&&xe!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":Q=xe;default:m.hasOwnProperty(de)||Ft(a,u,de,null,m,xe)}}for(var ue in m){var de=m[ue];if(xe=d[ue],m.hasOwnProperty(ue)&&(de!=null||xe!=null))switch(ue){case"type":T=de;break;case"name":w=de;break;case"checked":le=de;break;case"defaultChecked":me=de;break;case"value":D=de;break;case"defaultValue":G=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,u));break;default:de!==xe&&Ft(a,u,ue,de,m,xe)}}oc(a,D,G,Q,le,me,T,w);return;case"select":de=D=G=ue=null;for(T in d)if(Q=d[T],d.hasOwnProperty(T)&&Q!=null)switch(T){case"value":break;case"multiple":de=Q;default:m.hasOwnProperty(T)||Ft(a,u,T,null,m,Q)}for(w in m)if(T=m[w],Q=d[w],m.hasOwnProperty(w)&&(T!=null||Q!=null))switch(w){case"value":ue=T;break;case"defaultValue":G=T;break;case"multiple":D=T;default:T!==Q&&Ft(a,u,w,T,m,Q)}u=G,d=D,m=de,ue!=null?aa(a,!!d,ue,!1):!!m!=!!d&&(u!=null?aa(a,!!d,u,!0):aa(a,!!d,d?[]:"",!1));return;case"textarea":de=ue=null;for(G in d)if(w=d[G],d.hasOwnProperty(G)&&w!=null&&!m.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Ft(a,u,G,null,m,w)}for(D in m)if(w=m[D],T=d[D],m.hasOwnProperty(D)&&(w!=null||T!=null))switch(D){case"value":ue=w;break;case"defaultValue":de=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==T&&Ft(a,u,D,w,m,T)}Hm(a,ue,de);return;case"option":for(var Le in d)if(ue=d[Le],d.hasOwnProperty(Le)&&ue!=null&&!m.hasOwnProperty(Le))switch(Le){case"selected":a.selected=!1;break;default:Ft(a,u,Le,null,m,ue)}for(Q in m)if(ue=m[Q],de=d[Q],m.hasOwnProperty(Q)&&ue!==de&&(ue!=null||de!=null))switch(Q){case"selected":a.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:Ft(a,u,Q,ue,m,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in d)ue=d[ze],d.hasOwnProperty(ze)&&ue!=null&&!m.hasOwnProperty(ze)&&Ft(a,u,ze,null,m,ue);for(le in m)if(ue=m[le],de=d[le],m.hasOwnProperty(le)&&ue!==de&&(ue!=null||de!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,u));break;default:Ft(a,u,le,ue,m,de)}return;default:if(sc(u)){for(var qt in d)ue=d[qt],d.hasOwnProperty(qt)&&ue!==void 0&&!m.hasOwnProperty(qt)&&V_(a,u,qt,void 0,m,ue);for(me in m)ue=m[me],de=d[me],!m.hasOwnProperty(me)||ue===de||ue===void 0&&de===void 0||V_(a,u,me,ue,m,de);return}}for(var ne in d)ue=d[ne],d.hasOwnProperty(ne)&&ue!=null&&!m.hasOwnProperty(ne)&&Ft(a,u,ne,null,m,ue);for(xe in m)ue=m[xe],de=d[xe],!m.hasOwnProperty(xe)||ue===de||ue==null&&de==null||Ft(a,u,xe,ue,m,de)}function i2(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QK(){if(typeof performance.getEntriesByType=="function"){for(var a=0,u=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var w=d[m],T=w.transferSize,D=w.initiatorType,G=w.duration;if(T&&G&&i2(D)){for(D=0,G=w.responseEnd,m+=1;m<d.length;m++){var Q=d[m],le=Q.startTime;if(le>G)break;var me=Q.transferSize,xe=Q.initiatorType;me&&i2(xe)&&(Q=Q.responseEnd,D+=me*(Q<G?1:(G-le)/(Q-le)))}if(--m,u+=8*(T+D)/(w.duration/1e3),a++,10<a)break}}if(0<a)return u/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var U_=null,B_=null;function Yg(a){return a.nodeType===9?a:a.ownerDocument}function o2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s2(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function F_(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var q_=null;function ZK(){var a=window.event;return a&&a.type==="popstate"?a===q_?!1:(q_=a,!0):(q_=null,!1)}var a2=typeof setTimeout=="function"?setTimeout:void 0,eW=typeof clearTimeout=="function"?clearTimeout:void 0,l2=typeof Promise=="function"?Promise:void 0,tW=typeof queueMicrotask=="function"?queueMicrotask:typeof l2<"u"?function(a){return l2.resolve(null).then(a).catch(nW)}:a2;function nW(a){setTimeout(function(){throw a})}function ka(a){return a==="head"}function u2(a,u){var d=u,m=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(w),Fc(u);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")eh(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,eh(d);for(var T=d.firstChild;T;){var D=T.nextSibling,G=T.nodeName;T[Io]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=D}}else d==="body"&&eh(a.ownerDocument.body);d=w}while(d);Fc(u)}function c2(a,u){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function z_(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":z_(d),rc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function rW(a,u,d,m){for(;a.nodeType===1;){var w=d;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Io])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var T=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=Ii(a.nextSibling),a===null)break}return null}function iW(a,u,d){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Ii(a.nextSibling),a===null))return null;return a}function f2(a,u){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ii(a.nextSibling),a===null))return null;return a}function $_(a){return a.data==="$?"||a.data==="$~"}function G_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function oW(a,u){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=u;else if(a.data!=="$?"||d.readyState!=="loading")u();else{var m=function(){u(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Ii(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return a}var H_=null;function d2(a){a=a.nextSibling;for(var u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(u===0)return Ii(a.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}a=a.nextSibling}return null}function h2(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return a;u--}else d!=="/$"&&d!=="/&"||u++}a=a.previousSibling}return null}function p2(a,u,d){switch(u=Yg(d),a){case"html":if(a=u.documentElement,!a)throw Error(r(452));return a;case"head":if(a=u.head,!a)throw Error(r(453));return a;case"body":if(a=u.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function eh(a){for(var u=a.attributes;u.length;)a.removeAttributeNode(u[0]);rc(a)}var Ni=new Map,m2=new Set;function Jg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ns=ee.d;ee.d={f:sW,r:aW,D:lW,C:uW,L:cW,m:fW,X:hW,S:dW,M:pW};function sW(){var a=Ns.f(),u=Fg();return a||u}function aW(a){var u=vi(a);u!==null&&u.tag===5&&u.type==="form"?PP(u):Ns.r(a)}var Vc=typeof document>"u"?null:document;function g2(a,u,d){var m=Vc;if(m&&typeof u=="string"&&u){var w=Nr(u);w='link[rel="'+a+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),m2.has(w)||(m2.add(w),a={rel:a,crossOrigin:d,href:u},m.querySelector(w)===null&&(u=m.createElement("link"),ir(u,"link",a),Sn(u),m.head.appendChild(u)))}}function lW(a){Ns.D(a),g2("dns-prefetch",a,null)}function uW(a,u){Ns.C(a,u),g2("preconnect",a,u)}function cW(a,u,d){Ns.L(a,u,d);var m=Vc;if(m&&a&&u){var w='link[rel="preload"][as="'+Nr(u)+'"]';u==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+Nr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+Nr(d.imageSizes)+'"]')):w+='[href="'+Nr(a)+'"]';var T=w;switch(u){case"style":T=Uc(a);break;case"script":T=Bc(a)}Ni.has(T)||(a=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:a,as:u},d),Ni.set(T,a),m.querySelector(w)!==null||u==="style"&&m.querySelector(th(T))||u==="script"&&m.querySelector(nh(T))||(u=m.createElement("link"),ir(u,"link",a),Sn(u),m.head.appendChild(u)))}}function fW(a,u){Ns.m(a,u);var d=Vc;if(d&&a){var m=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+Nr(m)+'"][href="'+Nr(a)+'"]',T=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Bc(a)}if(!Ni.has(T)&&(a=p({rel:"modulepreload",href:a},u),Ni.set(T,a),d.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(nh(T)))return}m=d.createElement("link"),ir(m,"link",a),Sn(m),d.head.appendChild(m)}}}function dW(a,u,d){Ns.S(a,u,d);var m=Vc;if(m&&a){var w=Ro(m).hoistableStyles,T=Uc(a);u=u||"default";var D=w.get(T);if(!D){var G={loading:0,preload:null};if(D=m.querySelector(th(T)))G.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":u},d),(d=Ni.get(T))&&K_(a,d);var Q=D=m.createElement("link");Sn(Q),ir(Q,"link",a),Q._p=new Promise(function(le,me){Q.onload=le,Q.onerror=me}),Q.addEventListener("load",function(){G.loading|=1}),Q.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Xg(D,u,m)}D={type:"stylesheet",instance:D,count:1,state:G},w.set(T,D)}}}function hW(a,u){Ns.X(a,u);var d=Vc;if(d&&a){var m=Ro(d).hoistableScripts,w=Bc(a),T=m.get(w);T||(T=d.querySelector(nh(w)),T||(a=p({src:a,async:!0},u),(u=Ni.get(w))&&W_(a,u),T=d.createElement("script"),Sn(T),ir(T,"link",a),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(w,T))}}function pW(a,u){Ns.M(a,u);var d=Vc;if(d&&a){var m=Ro(d).hoistableScripts,w=Bc(a),T=m.get(w);T||(T=d.querySelector(nh(w)),T||(a=p({src:a,async:!0,type:"module"},u),(u=Ni.get(w))&&W_(a,u),T=d.createElement("script"),Sn(T),ir(T,"link",a),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(w,T))}}function y2(a,u,d,m){var w=(w=ye.current)?Jg(w):null;if(!w)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=Uc(d.href),d=Ro(w).hoistableStyles,m=d.get(u),m||(m={type:"style",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Uc(d.href);var T=Ro(w).hoistableStyles,D=T.get(a);if(D||(w=w.ownerDocument||w,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,D),(T=w.querySelector(th(a)))&&!T._p&&(D.instance=T,D.state.loading=5),Ni.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ni.set(a,d),T||mW(w,a,d,D.state))),u&&m===null)throw Error(r(528,""));return D}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Bc(d),d=Ro(w).hoistableScripts,m=d.get(u),m||(m={type:"script",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Uc(a){return'href="'+Nr(a)+'"'}function th(a){return'link[rel="stylesheet"]['+a+"]"}function v2(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function mW(a,u,d,m){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=a.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),ir(u,"link",d),Sn(u),a.head.appendChild(u))}function Bc(a){return'[src="'+Nr(a)+'"]'}function nh(a){return"script[async]"+a}function b2(a,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var m=a.querySelector('style[data-href~="'+Nr(d.href)+'"]');if(m)return u.instance=m,Sn(m),m;var w=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Sn(m),ir(m,"style",w),Xg(m,d.precedence,a),u.instance=m;case"stylesheet":w=Uc(d.href);var T=a.querySelector(th(w));if(T)return u.state.loading|=4,u.instance=T,Sn(T),T;m=v2(d),(w=Ni.get(w))&&K_(m,w),T=(a.ownerDocument||a).createElement("link"),Sn(T);var D=T;return D._p=new Promise(function(G,Q){D.onload=G,D.onerror=Q}),ir(T,"link",m),u.state.loading|=4,Xg(T,d.precedence,a),u.instance=T;case"script":return T=Bc(d.src),(w=a.querySelector(nh(T)))?(u.instance=w,Sn(w),w):(m=d,(w=Ni.get(T))&&(m=p({},d),W_(m,w)),a=a.ownerDocument||a,w=a.createElement("script"),Sn(w),ir(w,"link",m),a.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,Xg(m,d.precedence,a));return u.instance}function Xg(a,u,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,T=w,D=0;D<m.length;D++){var G=m[D];if(G.dataset.precedence===u)T=G;else if(T!==w)break}T?T.parentNode.insertBefore(a,T.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(a,u.firstChild))}function K_(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function W_(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var Qg=null;function x2(a,u,d){if(Qg===null){var m=new Map,w=Qg=new Map;w.set(d,m)}else w=Qg,m=w.get(d),m||(m=new Map,w.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),w=0;w<d.length;w++){var T=d[w];if(!(T[Io]||T[En]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var D=T.getAttribute(u)||"";D=a+D;var G=m.get(D);G?G.push(T):m.set(D,[T])}}return m}function _2(a,u,d){a=a.ownerDocument||a,a.head.insertBefore(d,u==="title"?a.querySelector("head > title"):null)}function gW(a,u,d){if(d===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function w2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function yW(a,u,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=Uc(m.href),T=u.querySelector(th(w));if(T){u=T._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(a.count++,a=Zg.bind(a),u.then(a,a)),d.state.loading|=4,d.instance=T,Sn(T);return}T=u.ownerDocument||u,m=v2(m),(w=Ni.get(w))&&K_(m,w),T=T.createElement("link"),Sn(T);var D=T;D._p=new Promise(function(G,Q){D.onload=G,D.onerror=Q}),ir(T,"link",m),d.instance=T}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Zg.bind(a),u.addEventListener("load",d),u.addEventListener("error",d))}}var Y_=0;function vW(a,u){return a.stylesheets&&a.count===0&&ty(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&ty(a,a.stylesheets),a.unsuspend){var T=a.unsuspend;a.unsuspend=null,T()}},6e4+u);0<a.imgBytes&&Y_===0&&(Y_=62500*QK());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&ty(a,a.stylesheets),a.unsuspend)){var T=a.unsuspend;a.unsuspend=null,T()}},(a.imgBytes>Y_?50:800)+u);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function Zg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ty(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ey=null;function ty(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ey=new Map,u.forEach(bW,a),ey=null,Zg.call(a))}function bW(a,u){if(!(u.state.loading&4)){var d=ey.get(a);if(d)var m=d.get(null);else{d=new Map,ey.set(a,d);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<w.length;T++){var D=w[T];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),m=D)}m&&d.set(null,m)}w=u.instance,D=w.getAttribute("data-precedence"),T=d.get(D)||m,T===m&&d.set(null,w),d.set(D,w),this.count++,m=Zg.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),T?T.parentNode.insertBefore(w,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),u.state.loading|=4}}var rh={$$typeof:N,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function xW(a,u,d,m,w,T,D,G,Q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.hiddenUpdates=Ao(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=T,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function T2(a,u,d,m,w,T,D,G,Q,le,me,xe){return a=new xW(a,u,d,D,Q,le,me,xe,G),u=1,T===!0&&(u|=24),T=Zr(3,null,null,u),a.current=T,T.stateNode=a,u=Ix(),u.refCount++,a.pooledCache=u,u.refCount++,T.memoizedState={element:m,isDehydrated:d,cache:u},Px(T),a}function E2(a){return a?(a=yc,a):yc}function S2(a,u,d,m,w,T){w=E2(w),m.context===null?m.context=w:m.pendingContext=w,m=xa(u),m.payload={element:d},T=T===void 0?null:T,T!==null&&(m.callback=T),d=_a(a,m,u),d!==null&&(Dr(d,a,u),Dd(d,a,u))}function A2(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function J_(a,u){A2(a,u),(a=a.alternate)&&A2(a,u)}function C2(a){if(a.tag===13||a.tag===31){var u=Hl(a,67108864);u!==null&&Dr(u,a,67108864),J_(a,67108864)}}function I2(a){if(a.tag===13||a.tag===31){var u=ii();u=Ol(u);var d=Hl(a,u);d!==null&&Dr(d,a,u),J_(a,u)}}var ny=!0;function _W(a,u,d,m){var w=W.T;W.T=null;var T=ee.p;try{ee.p=2,X_(a,u,d,m)}finally{ee.p=T,W.T=w}}function wW(a,u,d,m){var w=W.T;W.T=null;var T=ee.p;try{ee.p=8,X_(a,u,d,m)}finally{ee.p=T,W.T=w}}function X_(a,u,d,m){if(ny){var w=Q_(m);if(w===null)j_(a,u,m,ry,d),R2(a,m);else if(EW(w,a,u,d,m))m.stopPropagation();else if(R2(a,m),u&4&&-1<TW.indexOf(a)){for(;w!==null;){var T=vi(w);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var D=Eo(T.pendingLanes);if(D!==0){var G=T;for(G.pendingLanes|=2,G.entangledLanes|=2;D;){var Q=1<<31-yn(D);G.entanglements[1]|=Q,D&=~Q}zo(T),(Ct&6)===0&&(Ug=Kt()+500,Xd(0))}}break;case 31:case 13:G=Hl(T,2),G!==null&&Dr(G,T,2),Fg(),J_(T,2)}if(T=Q_(m),T===null&&j_(a,u,m,ry,d),T===w)break;w=T}w!==null&&m.stopPropagation()}else j_(a,u,m,null,d)}}function Q_(a){return a=bi(a),Z_(a)}var ry=null;function Z_(a){if(ry=null,a=No(a),a!==null){var u=o(a);if(u===null)a=null;else{var d=u.tag;if(d===13){if(a=s(u),a!==null)return a;a=null}else if(d===31){if(a=l(u),a!==null)return a;a=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return ry=a,null}function N2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gi()){case _o:return 2;case wo:return 8;case Re:case Ve:return 32;case It:return 268435456;default:return 32}default:return 32}}var ew=!1,Pa=null,Ma=null,Oa=null,ih=new Map,oh=new Map,Da=[],TW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R2(a,u){switch(a){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":ih.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":oh.delete(u.pointerId)}}function sh(a,u,d,m,w,T){return a===null||a.nativeEvent!==T?(a={blockedOn:u,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[w]},u!==null&&(u=vi(u),u!==null&&C2(u)),a):(a.eventSystemFlags|=m,u=a.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),a)}function EW(a,u,d,m,w){switch(u){case"focusin":return Pa=sh(Pa,a,u,d,m,w),!0;case"dragenter":return Ma=sh(Ma,a,u,d,m,w),!0;case"mouseover":return Oa=sh(Oa,a,u,d,m,w),!0;case"pointerover":var T=w.pointerId;return ih.set(T,sh(ih.get(T)||null,a,u,d,m,w)),!0;case"gotpointercapture":return T=w.pointerId,oh.set(T,sh(oh.get(T)||null,a,u,d,m,w)),!0}return!1}function k2(a){var u=No(a.target);if(u!==null){var d=o(u);if(d!==null){if(u=d.tag,u===13){if(u=s(d),u!==null){a.blockedOn=u,Ki(a.priority,function(){I2(d)});return}}else if(u===31){if(u=l(d),u!==null){a.blockedOn=u,Ki(a.priority,function(){I2(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function iy(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var d=Q_(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);bd=m,d.target.dispatchEvent(m),bd=null}else return u=vi(d),u!==null&&C2(u),a.blockedOn=d,!1;u.shift()}return!0}function P2(a,u,d){iy(a)&&d.delete(u)}function SW(){ew=!1,Pa!==null&&iy(Pa)&&(Pa=null),Ma!==null&&iy(Ma)&&(Ma=null),Oa!==null&&iy(Oa)&&(Oa=null),ih.forEach(P2),oh.forEach(P2)}function oy(a,u){a.blockedOn===u&&(a.blockedOn=null,ew||(ew=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,SW)))}var sy=null;function M2(a){sy!==a&&(sy=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sy===a&&(sy=null);for(var u=0;u<a.length;u+=3){var d=a[u],m=a[u+1],w=a[u+2];if(typeof m!="function"){if(Z_(m||d)===null)continue;break}var T=vi(d);T!==null&&(a.splice(u,3),u-=3,Qx(T,{pending:!0,data:w,method:d.method,action:m},m,w))}}))}function Fc(a){function u(Q){return oy(Q,a)}Pa!==null&&oy(Pa,a),Ma!==null&&oy(Ma,a),Oa!==null&&oy(Oa,a),ih.forEach(u),oh.forEach(u);for(var d=0;d<Da.length;d++){var m=Da[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Da.length&&(d=Da[0],d.blockedOn===null);)k2(d),d.blockedOn===null&&Da.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var w=d[m],T=d[m+1],D=w[zn]||null;if(typeof T=="function")D||M2(d);else if(D){var G=null;if(T&&T.hasAttribute("formAction")){if(w=T,D=T[zn]||null)G=D.formAction;else if(Z_(w)!==null)continue}else G=D.action;typeof G=="function"?d[m+1]=G:(d.splice(m,3),m-=3),M2(d)}}}function O2(){function a(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(D){return w=D})},focusReset:"manual",scroll:"manual"})}function u(){w!==null&&(w(),w=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),w!==null&&(w(),w=null)}}}function tw(a){this._internalRoot=a}ay.prototype.render=tw.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));var d=u.current,m=ii();S2(d,m,a,u,null,null)},ay.prototype.unmount=tw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;S2(a.current,2,null,a,null,null),Fg(),u[Co]=null}};function ay(a){this._internalRoot=a}ay.prototype.unstable_scheduleHydration=function(a){if(a){var u=Fm();a={blockedOn:null,target:a,priority:u};for(var d=0;d<Da.length&&u!==0&&u<Da[d].priority;d++);Da.splice(d,0,a),d===0&&k2(a)}};var D2=e.version;if(D2!=="19.2.4")throw Error(r(527,D2,"19.2.4"));ee.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(u),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var AW={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ly=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ly.isDisabled&&ly.supportsFiber)try{Mt=ly.inject(AW),Ot=ly}catch{}}return lh.createRoot=function(a,u){if(!i(a))throw Error(r(299));var d=!1,m="",w=qP,T=zP,D=$P;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),u=T2(a,1,!1,null,null,d,m,null,w,T,D,O2),a[Co]=u.current,L_(a),new tw(u)},lh.hydrateRoot=function(a,u,d){if(!i(a))throw Error(r(299));var m=!1,w="",T=qP,D=zP,G=$P,Q=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(G=d.onRecoverableError),d.formState!==void 0&&(Q=d.formState)),u=T2(a,1,!0,u,d??null,m,w,Q,T,D,G,O2),u.context=E2(null),d=u.current,m=ii(),m=Ol(m),w=xa(m),w.callback=null,_a(d,w,m),d=m,u.current.lanes=d,Pl(u,d),zo(u),a[Co]=u.current,L_(a),new ay(u)},lh.version="19.2.4",lh}var G2;function LW(){if(G2)return iw.exports;G2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iw.exports=DW(),iw.exports}var jW=LW();const VW=Ht(jW);var Ke=(t=>(t.BUSINESS="BUSINESS",t.INFLUENCER="INFLUENCER",t.ADMIN="ADMIN",t))(Ke||{}),Br=(t=>(t.ACTIVE="ACTIVE",t.BANNED="BANNED",t.SHADOW_BANNED="SHADOW_BANNED",t))(Br||{}),ai=(t=>(t.VERIFIED="VERIFIED",t.PENDING="PENDING",t.UNVERIFIED="UNVERIFIED",t.REJECTED="REJECTED",t))(ai||{});const UW=()=>{};var H2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},pF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|l>>4;let y=(l&15)<<2|f>>6,_=f&63;c||(_=64,s||(y=64)),r.push(n[h],n[p],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||p==null)throw new FW;const y=o<<2|l>>4;if(r.push(y),f!==64){const _=l<<4&240|f>>2;if(r.push(_),p!==64){const S=f<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qW=function(t){const e=hF(t);return pF.encodeByteArray(e,!0)},sv=function(t){return qW(t).replace(/\./g,"")},mF=function(t){try{return pF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=()=>zW().__FIREBASE_DEFAULTS__,GW=()=>{if(typeof process>"u"||typeof H2>"u")return;const t=H2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mF(t[1]);return e&&JSON.parse(e)},B0=()=>{try{return UW()||$W()||GW()||HW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gF=t=>{var e,n;return(n=(e=B0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yF=t=>{const e=gF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vF=()=>{var t;return(t=B0())==null?void 0:t.config},bF=t=>{var e;return(e=B0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sv(JSON.stringify(n)),sv(JSON.stringify(s)),""].join(".")}const Bh={};function WW(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bh))Bh[e]?t.emulator.push(e):t.prod.push(e);return t}function YW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let K2=!1;function xI(t,e){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||Bh[t]===e||Bh[t]||K2)return;Bh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=WW().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{K2=!0,s()},y}function h(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=YW(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),A=n("learnmore"),E=document.getElementById(A)||document.createElement("a"),M=n("preprendIcon"),I=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const N=y.element;l(N),h(E,A);const C=f();c(I,M),N.append(I,S,E,C),document.body.appendChild(N)}o?(S.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}function XW(){var e;const t=(e=B0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _I(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eY(){const t=vr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tY(){return!XW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wI(){try{return typeof indexedDB=="object"}catch{return!1}}function TI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function _F(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nY,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?rY(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new zi(i,l,r)}}function rY(t,e){return t.replace(iY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iY=/\{\$([^}]+)}/g;function oY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function al(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(W2(o)&&W2(s)){if(!al(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function W2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ch(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ih(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sY(t,e){const n=new aY(t,e);return n.subscribe.bind(n)}class aY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lw),i.error===void 0&&(i.error=lw),i.complete===void 0&&(i.complete=lw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY=1e3,cY=2,fY=14400*1e3,dY=.5;function Y2(t,e=uY,n=cY){const r=e*Math.pow(n,t),i=Math.round(dY*r*(Math.random()-.5)*2);return Math.min(fY,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class Bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mY(e))try{this.getOrInitializeService({instanceIdentifier:au})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=au){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=au){return this.instances.has(e)}getOptions(e=au){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=au){return this.component?this.component.multipleInstances?e:au:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pY(t){return t===au?void 0:t}function mY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const yY={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},vY=ft.INFO,bY={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},xY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F0{constructor(e){this.name=e,this._logLevel=vY,this._logHandler=xY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const _Y=(t,e)=>e.some(n=>t instanceof n);let J2,X2;function wY(){return J2||(J2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TY(){return X2||(X2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wF=new WeakMap,ZS=new WeakMap,TF=new WeakMap,uw=new WeakMap,EI=new WeakMap;function EY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(el(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&wF.set(n,t)}).catch(()=>{}),EI.set(e,t),e}function SY(t){if(ZS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ZS.set(t,e)}let eA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ZS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return el(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AY(t){eA=t(eA)}function CY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cw(this),e,...n);return TF.set(r,e.sort?e.sort():[e]),el(r)}:TY().includes(t)?function(...e){return t.apply(cw(this),e),el(wF.get(this))}:function(...e){return el(t.apply(cw(this),e))}}function IY(t){return typeof t=="function"?CY(t):(t instanceof IDBTransaction&&SY(t),_Y(t,wY())?new Proxy(t,eA):t)}function el(t){if(t instanceof IDBRequest)return EY(t);if(uw.has(t))return uw.get(t);const e=IY(t);return e!==t&&(uw.set(t,e),EI.set(e,t)),e}const cw=t=>EI.get(t);function EF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=el(s);return r&&s.addEventListener("upgradeneeded",c=>{r(el(s.result),c.oldVersion,c.newVersion,el(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const NY=["get","getKey","getAll","getAllKeys","count"],RY=["put","add","delete","clear"],fw=new Map;function Q2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fw.get(e))return fw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NY.includes(n)))return;const o=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return fw.set(e,o),o}AY(t=>({...t,get:(e,n,r)=>Q2(e,n)||t.get(e,n,r),has:(e,n)=>!!Q2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PY(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PY(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tA="@firebase/app",Z2="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new F0("@firebase/app"),MY="@firebase/app-compat",OY="@firebase/analytics-compat",DY="@firebase/analytics",LY="@firebase/app-check-compat",jY="@firebase/app-check",VY="@firebase/auth",UY="@firebase/auth-compat",BY="@firebase/database",FY="@firebase/data-connect",qY="@firebase/database-compat",zY="@firebase/functions",$Y="@firebase/functions-compat",GY="@firebase/installations",HY="@firebase/installations-compat",KY="@firebase/messaging",WY="@firebase/messaging-compat",YY="@firebase/performance",JY="@firebase/performance-compat",XY="@firebase/remote-config",QY="@firebase/remote-config-compat",ZY="@firebase/storage",eJ="@firebase/storage-compat",tJ="@firebase/firestore",nJ="@firebase/ai",rJ="@firebase/firestore-compat",iJ="firebase",oJ="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="[DEFAULT]",sJ={[tA]:"fire-core",[MY]:"fire-core-compat",[DY]:"fire-analytics",[OY]:"fire-analytics-compat",[jY]:"fire-app-check",[LY]:"fire-app-check-compat",[VY]:"fire-auth",[UY]:"fire-auth-compat",[BY]:"fire-rtdb",[FY]:"fire-data-connect",[qY]:"fire-rtdb-compat",[zY]:"fire-fn",[$Y]:"fire-fn-compat",[GY]:"fire-iid",[HY]:"fire-iid-compat",[KY]:"fire-fcm",[WY]:"fire-fcm-compat",[YY]:"fire-perf",[JY]:"fire-perf-compat",[XY]:"fire-rc",[QY]:"fire-rc-compat",[ZY]:"fire-gcs",[eJ]:"fire-gcs-compat",[tJ]:"fire-fst",[rJ]:"fire-fst-compat",[nJ]:"fire-vertex","fire-js":"fire-js",[iJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=new Map,aJ=new Map,rA=new Map;function eO(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mo(t){const e=t.name;if(rA.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;rA.set(e,t);for(const n of ip.values())eO(n,t);for(const n of aJ.values())eO(n,t);return!0}function vl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tl=new $u("app","Firebase",lJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=oJ;function SF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:nA,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw tl.create("bad-app-name",{appName:String(i)});if(n||(n=vF()),!n)throw tl.create("no-options");const o=ip.get(i);if(o){if(al(n,o.options)&&al(r,o.config))return o;throw tl.create("duplicate-app",{appName:i})}const s=new gY(i);for(const c of rA.values())s.addComponent(c);const l=new uJ(n,r,s);return ip.set(i,l),l}function q0(t=nA){const e=ip.get(t);if(!e&&t===nA&&vF())return SF();if(!e)throw tl.create("no-app",{appName:t});return e}function tO(){return Array.from(ip.values())}function Gr(t,e,n){let r=sJ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(s.join(" "));return}mo(new Bi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cJ="firebase-heartbeat-database",fJ=1,op="firebase-heartbeat-store";let dw=null;function AF(){return dw||(dw=EF(cJ,fJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(op)}catch(n){console.warn(n)}}}}).catch(t=>{throw tl.create("idb-open",{originalErrorMessage:t.message})})),dw}async function dJ(t){try{const n=(await AF()).transaction(op),r=await n.objectStore(op).get(CF(t));return await n.done,r}catch(e){if(e instanceof zi)qs.warn(e.message);else{const n=tl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function nO(t,e){try{const r=(await AF()).transaction(op,"readwrite");await r.objectStore(op).put(e,CF(t)),await r.done}catch(n){if(n instanceof zi)qs.warn(n.message);else{const r=tl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(r.message)}}}function CF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hJ=1024,pJ=30;class mJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rO();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>pJ){const s=vJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rO(),{heartbeatsToSend:r,unsentEntries:i}=gJ(this._heartbeatsCache.heartbeats),o=sv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return qs.warn(n),""}}}function rO(){return new Date().toISOString().substring(0,10)}function gJ(t,e=hJ){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),iO(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wI()?TI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iO(t){return sv(JSON.stringify({version:2,heartbeats:t})).length}function vJ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bJ(t){mo(new Bi("platform-logger",e=>new kY(e),"PRIVATE")),mo(new Bi("heartbeat",e=>new mJ(e),"PRIVATE")),Gr(tA,Z2,t),Gr(tA,Z2,"esm2020"),Gr("fire-js","")}bJ("");var oO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nl,IF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,O){function j(){}j.prototype=O.prototype,P.F=O.prototype,P.prototype=new j,P.prototype.constructor=P,P.D=function(q,F,z){for(var B=Array(arguments.length-2),X=2;X<arguments.length;X++)B[X-2]=arguments[X];return O.prototype[F].apply(q,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,O,j){j||(j=0);const q=Array(16);if(typeof O=="string")for(var F=0;F<16;++F)q[F]=O.charCodeAt(j++)|O.charCodeAt(j++)<<8|O.charCodeAt(j++)<<16|O.charCodeAt(j++)<<24;else for(F=0;F<16;++F)q[F]=O[j++]|O[j++]<<8|O[j++]<<16|O[j++]<<24;O=P.g[0],j=P.g[1],F=P.g[2];let z=P.g[3],B;B=O+(z^j&(F^z))+q[0]+3614090360&4294967295,O=j+(B<<7&4294967295|B>>>25),B=z+(F^O&(j^F))+q[1]+3905402710&4294967295,z=O+(B<<12&4294967295|B>>>20),B=F+(j^z&(O^j))+q[2]+606105819&4294967295,F=z+(B<<17&4294967295|B>>>15),B=j+(O^F&(z^O))+q[3]+3250441966&4294967295,j=F+(B<<22&4294967295|B>>>10),B=O+(z^j&(F^z))+q[4]+4118548399&4294967295,O=j+(B<<7&4294967295|B>>>25),B=z+(F^O&(j^F))+q[5]+1200080426&4294967295,z=O+(B<<12&4294967295|B>>>20),B=F+(j^z&(O^j))+q[6]+2821735955&4294967295,F=z+(B<<17&4294967295|B>>>15),B=j+(O^F&(z^O))+q[7]+4249261313&4294967295,j=F+(B<<22&4294967295|B>>>10),B=O+(z^j&(F^z))+q[8]+1770035416&4294967295,O=j+(B<<7&4294967295|B>>>25),B=z+(F^O&(j^F))+q[9]+2336552879&4294967295,z=O+(B<<12&4294967295|B>>>20),B=F+(j^z&(O^j))+q[10]+4294925233&4294967295,F=z+(B<<17&4294967295|B>>>15),B=j+(O^F&(z^O))+q[11]+2304563134&4294967295,j=F+(B<<22&4294967295|B>>>10),B=O+(z^j&(F^z))+q[12]+1804603682&4294967295,O=j+(B<<7&4294967295|B>>>25),B=z+(F^O&(j^F))+q[13]+4254626195&4294967295,z=O+(B<<12&4294967295|B>>>20),B=F+(j^z&(O^j))+q[14]+2792965006&4294967295,F=z+(B<<17&4294967295|B>>>15),B=j+(O^F&(z^O))+q[15]+1236535329&4294967295,j=F+(B<<22&4294967295|B>>>10),B=O+(F^z&(j^F))+q[1]+4129170786&4294967295,O=j+(B<<5&4294967295|B>>>27),B=z+(j^F&(O^j))+q[6]+3225465664&4294967295,z=O+(B<<9&4294967295|B>>>23),B=F+(O^j&(z^O))+q[11]+643717713&4294967295,F=z+(B<<14&4294967295|B>>>18),B=j+(z^O&(F^z))+q[0]+3921069994&4294967295,j=F+(B<<20&4294967295|B>>>12),B=O+(F^z&(j^F))+q[5]+3593408605&4294967295,O=j+(B<<5&4294967295|B>>>27),B=z+(j^F&(O^j))+q[10]+38016083&4294967295,z=O+(B<<9&4294967295|B>>>23),B=F+(O^j&(z^O))+q[15]+3634488961&4294967295,F=z+(B<<14&4294967295|B>>>18),B=j+(z^O&(F^z))+q[4]+3889429448&4294967295,j=F+(B<<20&4294967295|B>>>12),B=O+(F^z&(j^F))+q[9]+568446438&4294967295,O=j+(B<<5&4294967295|B>>>27),B=z+(j^F&(O^j))+q[14]+3275163606&4294967295,z=O+(B<<9&4294967295|B>>>23),B=F+(O^j&(z^O))+q[3]+4107603335&4294967295,F=z+(B<<14&4294967295|B>>>18),B=j+(z^O&(F^z))+q[8]+1163531501&4294967295,j=F+(B<<20&4294967295|B>>>12),B=O+(F^z&(j^F))+q[13]+2850285829&4294967295,O=j+(B<<5&4294967295|B>>>27),B=z+(j^F&(O^j))+q[2]+4243563512&4294967295,z=O+(B<<9&4294967295|B>>>23),B=F+(O^j&(z^O))+q[7]+1735328473&4294967295,F=z+(B<<14&4294967295|B>>>18),B=j+(z^O&(F^z))+q[12]+2368359562&4294967295,j=F+(B<<20&4294967295|B>>>12),B=O+(j^F^z)+q[5]+4294588738&4294967295,O=j+(B<<4&4294967295|B>>>28),B=z+(O^j^F)+q[8]+2272392833&4294967295,z=O+(B<<11&4294967295|B>>>21),B=F+(z^O^j)+q[11]+1839030562&4294967295,F=z+(B<<16&4294967295|B>>>16),B=j+(F^z^O)+q[14]+4259657740&4294967295,j=F+(B<<23&4294967295|B>>>9),B=O+(j^F^z)+q[1]+2763975236&4294967295,O=j+(B<<4&4294967295|B>>>28),B=z+(O^j^F)+q[4]+1272893353&4294967295,z=O+(B<<11&4294967295|B>>>21),B=F+(z^O^j)+q[7]+4139469664&4294967295,F=z+(B<<16&4294967295|B>>>16),B=j+(F^z^O)+q[10]+3200236656&4294967295,j=F+(B<<23&4294967295|B>>>9),B=O+(j^F^z)+q[13]+681279174&4294967295,O=j+(B<<4&4294967295|B>>>28),B=z+(O^j^F)+q[0]+3936430074&4294967295,z=O+(B<<11&4294967295|B>>>21),B=F+(z^O^j)+q[3]+3572445317&4294967295,F=z+(B<<16&4294967295|B>>>16),B=j+(F^z^O)+q[6]+76029189&4294967295,j=F+(B<<23&4294967295|B>>>9),B=O+(j^F^z)+q[9]+3654602809&4294967295,O=j+(B<<4&4294967295|B>>>28),B=z+(O^j^F)+q[12]+3873151461&4294967295,z=O+(B<<11&4294967295|B>>>21),B=F+(z^O^j)+q[15]+530742520&4294967295,F=z+(B<<16&4294967295|B>>>16),B=j+(F^z^O)+q[2]+3299628645&4294967295,j=F+(B<<23&4294967295|B>>>9),B=O+(F^(j|~z))+q[0]+4096336452&4294967295,O=j+(B<<6&4294967295|B>>>26),B=z+(j^(O|~F))+q[7]+1126891415&4294967295,z=O+(B<<10&4294967295|B>>>22),B=F+(O^(z|~j))+q[14]+2878612391&4294967295,F=z+(B<<15&4294967295|B>>>17),B=j+(z^(F|~O))+q[5]+4237533241&4294967295,j=F+(B<<21&4294967295|B>>>11),B=O+(F^(j|~z))+q[12]+1700485571&4294967295,O=j+(B<<6&4294967295|B>>>26),B=z+(j^(O|~F))+q[3]+2399980690&4294967295,z=O+(B<<10&4294967295|B>>>22),B=F+(O^(z|~j))+q[10]+4293915773&4294967295,F=z+(B<<15&4294967295|B>>>17),B=j+(z^(F|~O))+q[1]+2240044497&4294967295,j=F+(B<<21&4294967295|B>>>11),B=O+(F^(j|~z))+q[8]+1873313359&4294967295,O=j+(B<<6&4294967295|B>>>26),B=z+(j^(O|~F))+q[15]+4264355552&4294967295,z=O+(B<<10&4294967295|B>>>22),B=F+(O^(z|~j))+q[6]+2734768916&4294967295,F=z+(B<<15&4294967295|B>>>17),B=j+(z^(F|~O))+q[13]+1309151649&4294967295,j=F+(B<<21&4294967295|B>>>11),B=O+(F^(j|~z))+q[4]+4149444226&4294967295,O=j+(B<<6&4294967295|B>>>26),B=z+(j^(O|~F))+q[11]+3174756917&4294967295,z=O+(B<<10&4294967295|B>>>22),B=F+(O^(z|~j))+q[2]+718787259&4294967295,F=z+(B<<15&4294967295|B>>>17),B=j+(z^(F|~O))+q[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(F+(B<<21&4294967295|B>>>11))&4294967295,P.g[2]=P.g[2]+F&4294967295,P.g[3]=P.g[3]+z&4294967295}r.prototype.v=function(P,O){O===void 0&&(O=P.length);const j=O-this.blockSize,q=this.C;let F=this.h,z=0;for(;z<O;){if(F==0)for(;z<=j;)i(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<O;)if(q[F++]=P.charCodeAt(z++),F==this.blockSize){i(this,q),F=0;break}}else for(;z<O;)if(q[F++]=P[z++],F==this.blockSize){i(this,q),F=0;break}}this.h=F,this.o+=O},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;O=this.o*8;for(var j=P.length-8;j<P.length;++j)P[j]=O&255,O/=256;for(this.v(P),P=Array(16),O=0,j=0;j<4;++j)for(let q=0;q<32;q+=8)P[O++]=this.g[j]>>>q&255;return P};function o(P,O){var j=l;return Object.prototype.hasOwnProperty.call(j,P)?j[P]:j[P]=O(P)}function s(P,O){this.h=O;const j=[];let q=!0;for(let F=P.length-1;F>=0;F--){const z=P[F]|0;q&&z==O||(j[F]=z,q=!1)}this.g=j}var l={};function c(P){return-128<=P&&P<128?o(P,function(O){return new s([O|0],O<0?-1:0)}):new s([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return E(f(-P));const O=[];let j=1;for(let q=0;P>=j;q++)O[q]=P/j|0,j*=4294967296;return new s(O,0)}function h(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return E(h(P.substring(1),O));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=f(Math.pow(O,8));let q=p;for(let z=0;z<P.length;z+=8){var F=Math.min(8,P.length-z);const B=parseInt(P.substring(z,z+F),O);F<8?(F=f(Math.pow(O,F)),q=q.j(F).add(f(B))):(q=q.j(j),q=q.add(f(B)))}return q}var p=c(0),y=c(1),_=c(16777216);t=s.prototype,t.m=function(){if(A(this))return-E(this).m();let P=0,O=1;for(let j=0;j<this.g.length;j++){const q=this.i(j);P+=(q>=0?q:4294967296+q)*O,O*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(A(this))return"-"+E(this).toString(P);const O=f(Math.pow(P,6));var j=this;let q="";for(;;){const F=C(j,O).g;j=M(j,F.j(O));let z=((j.g.length>0?j.g[0]:j.h)>>>0).toString(P);if(j=F,S(j))return z+q;for(;z.length<6;)z="0"+z;q=z+q}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(let O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function A(P){return P.h==-1}t.l=function(P){return P=M(this,P),A(P)?-1:S(P)?0:1};function E(P){const O=P.g.length,j=[];for(let q=0;q<O;q++)j[q]=~P.g[q];return new s(j,~P.h).add(y)}t.abs=function(){return A(this)?E(this):this},t.add=function(P){const O=Math.max(this.g.length,P.g.length),j=[];let q=0;for(let F=0;F<=O;F++){let z=q+(this.i(F)&65535)+(P.i(F)&65535),B=(z>>>16)+(this.i(F)>>>16)+(P.i(F)>>>16);q=B>>>16,z&=65535,B&=65535,j[F]=B<<16|z}return new s(j,j[j.length-1]&-2147483648?-1:0)};function M(P,O){return P.add(E(O))}t.j=function(P){if(S(this)||S(P))return p;if(A(this))return A(P)?E(this).j(E(P)):E(E(this).j(P));if(A(P))return E(this.j(E(P)));if(this.l(_)<0&&P.l(_)<0)return f(this.m()*P.m());const O=this.g.length+P.g.length,j=[];for(var q=0;q<2*O;q++)j[q]=0;for(q=0;q<this.g.length;q++)for(let F=0;F<P.g.length;F++){const z=this.i(q)>>>16,B=this.i(q)&65535,X=P.i(F)>>>16,ie=P.i(F)&65535;j[2*q+2*F]+=B*ie,I(j,2*q+2*F),j[2*q+2*F+1]+=z*ie,I(j,2*q+2*F+1),j[2*q+2*F+1]+=B*X,I(j,2*q+2*F+1),j[2*q+2*F+2]+=z*X,I(j,2*q+2*F+2)}for(P=0;P<O;P++)j[P]=j[2*P+1]<<16|j[2*P];for(P=O;P<2*O;P++)j[P]=0;return new s(j,0)};function I(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function N(P,O){this.g=P,this.h=O}function C(P,O){if(S(O))throw Error("division by zero");if(S(P))return new N(p,p);if(A(P))return O=C(E(P),O),new N(E(O.g),E(O.h));if(A(O))return O=C(P,E(O)),new N(E(O.g),O.h);if(P.g.length>30){if(A(P)||A(O))throw Error("slowDivide_ only works with positive integers.");for(var j=y,q=O;q.l(P)<=0;)j=R(j),q=R(q);var F=L(j,1),z=L(q,1);for(q=L(q,2),j=L(j,2);!S(q);){var B=z.add(q);B.l(P)<=0&&(F=F.add(j),z=B),q=L(q,1),j=L(j,1)}return O=M(P,F.j(O)),new N(F,O)}for(F=p;P.l(O)>=0;){for(j=Math.max(1,Math.floor(P.m()/O.m())),q=Math.ceil(Math.log(j)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),z=f(j),B=z.j(O);A(B)||B.l(P)>0;)j-=q,z=f(j),B=z.j(O);S(z)&&(z=y),F=F.add(z),P=M(P,B)}return new N(F,P)}t.B=function(P){return C(this,P).h},t.and=function(P){const O=Math.max(this.g.length,P.g.length),j=[];for(let q=0;q<O;q++)j[q]=this.i(q)&P.i(q);return new s(j,this.h&P.h)},t.or=function(P){const O=Math.max(this.g.length,P.g.length),j=[];for(let q=0;q<O;q++)j[q]=this.i(q)|P.i(q);return new s(j,this.h|P.h)},t.xor=function(P){const O=Math.max(this.g.length,P.g.length),j=[];for(let q=0;q<O;q++)j[q]=this.i(q)^P.i(q);return new s(j,this.h^P.h)};function R(P){const O=P.g.length+1,j=[];for(let q=0;q<O;q++)j[q]=P.i(q)<<1|P.i(q-1)>>>31;return new s(j,P.h)}function L(P,O){const j=O>>5;O%=32;const q=P.g.length-j,F=[];for(let z=0;z<q;z++)F[z]=O>0?P.i(z+j)>>>O|P.i(z+j+1)<<32-O:P.i(z+j);return new s(F,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,IF=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,nl=s}).apply(typeof oO<"u"?oO:typeof self<"u"?self:typeof window<"u"?window:{});var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NF,Nh,RF,zy,iA,kF,PF,MF;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof cy=="object"&&cy];for(var k=0;k<x.length;++k){var U=x[k];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=n(this);function i(x,k){if(k)e:{var U=r;x=x.split(".");for(var H=0;H<x.length-1;H++){var oe=x[H];if(!(oe in U))break e;U=U[oe]}x=x[x.length-1],H=U[x],k=k(H),k!=H&&k!=null&&e(U,x,{configurable:!0,writable:!0,value:k})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(k){var U=[],H;for(H in k)Object.prototype.hasOwnProperty.call(k,H)&&U.push([H,k[H]]);return U}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(x){var k=typeof x;return k=="object"&&x!=null||k=="function"}function c(x,k,U){return x.call.apply(x.bind,arguments)}function f(x,k,U){return f=c,f.apply(null,arguments)}function h(x,k){var U=Array.prototype.slice.call(arguments,1);return function(){var H=U.slice();return H.push.apply(H,arguments),x.apply(this,H)}}function p(x,k){function U(){}U.prototype=k.prototype,x.Z=k.prototype,x.prototype=new U,x.prototype.constructor=x,x.Ob=function(H,oe,ce){for(var Ne=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)Ne[rt-2]=arguments[rt];return k.prototype[oe].apply(H,Ne)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function _(x){const k=x.length;if(k>0){const U=Array(k);for(let H=0;H<k;H++)U[H]=x[H];return U}return[]}function S(x,k){for(let H=1;H<arguments.length;H++){const oe=arguments[H];var U=typeof oe;if(U=U!="object"?U:oe?Array.isArray(oe)?"array":U:"null",U=="array"||U=="object"&&typeof oe.length=="number"){U=x.length||0;const ce=oe.length||0;x.length=U+ce;for(let Ne=0;Ne<ce;Ne++)x[U+Ne]=oe[Ne]}else x.push(oe)}}class A{constructor(k,U){this.i=k,this.j=U,this.h=0,this.g=null}get(){let k;return this.h>0?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function E(x){s.setTimeout(()=>{throw x},0)}function M(){var x=P;let k=null;return x.g&&(k=x.g,x.g=x.g.next,x.g||(x.h=null),k.next=null),k}class I{constructor(){this.h=this.g=null}add(k,U){const H=N.get();H.set(k,U),this.h?this.h.next=H:this.g=H,this.h=H}}var N=new A(()=>new C,x=>x.reset());class C{constructor(){this.next=this.g=this.h=null}set(k,U){this.h=k,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let R,L=!1,P=new I,O=()=>{const x=Promise.resolve(void 0);R=()=>{x.then(j)}};function j(){for(var x;x=M();){try{x.h.call(x.g)}catch(U){E(U)}var k=N;k.j(x),k.h<100&&(k.h++,x.next=k.g,k.g=x)}L=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(x,k){this.type=x,this.g=this.target=k,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var x=!1,k=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const U=()=>{};s.addEventListener("test",U,k),s.removeEventListener("test",U,k)}catch{}return x})();function B(x){return/^[\s\xa0]*$/.test(x)}function X(x,k){F.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,k)}p(X,F),X.prototype.init=function(x,k){const U=this.type=x.type,H=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=k,k=x.relatedTarget,k||(U=="mouseover"?k=x.fromElement:U=="mouseout"&&(k=x.toElement)),this.relatedTarget=k,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),W=0;function ee(x,k,U,H,oe){this.listener=x,this.proxy=null,this.src=k,this.type=U,this.capture=!!H,this.ha=oe,this.key=++W,this.da=this.fa=!1}function se(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function ge(x,k,U){for(const H in x)k.call(U,x[H],H,x)}function K(x,k){for(const U in x)k.call(void 0,x[U],U,x)}function V(x){const k={};for(const U in x)k[U]=x[U];return k}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(x,k){let U,H;for(let oe=1;oe<arguments.length;oe++){H=arguments[oe];for(U in H)x[U]=H[U];for(let ce=0;ce<$.length;ce++)U=$[ce],Object.prototype.hasOwnProperty.call(H,U)&&(x[U]=H[U])}}function te(x){this.src=x,this.g={},this.h=0}te.prototype.add=function(x,k,U,H,oe){const ce=x.toString();x=this.g[ce],x||(x=this.g[ce]=[],this.h++);const Ne=ye(x,k,H,oe);return Ne>-1?(k=x[Ne],U||(k.fa=!1)):(k=new ee(k,this.src,ce,!!H,oe),k.fa=U,x.push(k)),k};function fe(x,k){const U=k.type;if(U in x.g){var H=x.g[U],oe=Array.prototype.indexOf.call(H,k,void 0),ce;(ce=oe>=0)&&Array.prototype.splice.call(H,oe,1),ce&&(se(k),x.g[U].length==0&&(delete x.g[U],x.h--))}}function ye(x,k,U,H){for(let oe=0;oe<x.length;++oe){const ce=x[oe];if(!ce.da&&ce.listener==k&&ce.capture==!!U&&ce.ha==H)return oe}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),Se={};function he(x,k,U,H,oe){if(Array.isArray(k)){for(let ce=0;ce<k.length;ce++)he(x,k[ce],U,H,oe);return null}return U=bt(U),x&&x[ie]?x.J(k,U,l(H)?!!H.capture:!1,oe):Ie(x,k,U,!1,H,oe)}function Ie(x,k,U,H,oe,ce){if(!k)throw Error("Invalid event type");const Ne=l(oe)?!!oe.capture:!!oe;let rt=nt(x);if(rt||(x[Te]=rt=new te(x)),U=rt.add(k,U,H,Ne,ce),U.proxy)return U;if(H=Ae(),U.proxy=H,H.src=x,H.listener=U,x.addEventListener)z||(oe=Ne),oe===void 0&&(oe=!1),x.addEventListener(k.toString(),H,oe);else if(x.attachEvent)x.attachEvent(Ce(k.toString()),H);else if(x.addListener&&x.removeListener)x.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Ae(){function x(U){return k.call(x.src,x.listener,U)}const k=Je;return x}function pe(x,k,U,H,oe){if(Array.isArray(k))for(var ce=0;ce<k.length;ce++)pe(x,k[ce],U,H,oe);else H=l(H)?!!H.capture:!!H,U=bt(U),x&&x[ie]?(x=x.i,ce=String(k).toString(),ce in x.g&&(k=x.g[ce],U=ye(k,U,H,oe),U>-1&&(se(k[U]),Array.prototype.splice.call(k,U,1),k.length==0&&(delete x.g[ce],x.h--)))):x&&(x=nt(x))&&(k=x.g[k.toString()],x=-1,k&&(x=ye(k,U,H,oe)),(U=x>-1?k[x]:null)&&$e(U))}function $e(x){if(typeof x!="number"&&x&&!x.da){var k=x.src;if(k&&k[ie])fe(k.i,x);else{var U=x.type,H=x.proxy;k.removeEventListener?k.removeEventListener(U,H,x.capture):k.detachEvent?k.detachEvent(Ce(U),H):k.addListener&&k.removeListener&&k.removeListener(H),(U=nt(k))?(fe(U,x),U.h==0&&(U.src=null,k[Te]=null)):se(x)}}}function Ce(x){return x in Se?Se[x]:Se[x]="on"+x}function Je(x,k){if(x.da)x=!0;else{k=new X(k,this);const U=x.listener,H=x.ha||x.src;x.fa&&$e(x),x=U.call(H,k)}return x}function nt(x){return x=x[Te],x instanceof te?x:null}var yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function bt(x){return typeof x=="function"?x:(x[yt]||(x[yt]=function(k){return x.handleEvent(k)}),x[yt])}function lt(){q.call(this),this.i=new te(this),this.M=this,this.G=null}p(lt,q),lt.prototype[ie]=!0,lt.prototype.removeEventListener=function(x,k,U,H){pe(this,x,k,U,H)};function Ze(x,k){var U,H=x.G;if(H)for(U=[];H;H=H.G)U.push(H);if(x=x.M,H=k.type||k,typeof k=="string")k=new F(k,x);else if(k instanceof F)k.target=k.target||x;else{var oe=k;k=new F(H,x),J(k,oe)}oe=!0;let ce,Ne;if(U)for(Ne=U.length-1;Ne>=0;Ne--)ce=k.g=U[Ne],oe=mn(ce,H,!0,k)&&oe;if(ce=k.g=x,oe=mn(ce,H,!0,k)&&oe,oe=mn(ce,H,!1,k)&&oe,U)for(Ne=0;Ne<U.length;Ne++)ce=k.g=U[Ne],oe=mn(ce,H,!1,k)&&oe}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var x=this.i;for(const k in x.g){const U=x.g[k];for(let H=0;H<U.length;H++)se(U[H]);delete x.g[k],x.h--}}this.G=null},lt.prototype.J=function(x,k,U,H){return this.i.add(String(x),k,!1,U,H)},lt.prototype.K=function(x,k,U,H){return this.i.add(String(x),k,!0,U,H)};function mn(x,k,U,H){if(k=x.i.g[String(k)],!k)return!0;k=k.concat();let oe=!0;for(let ce=0;ce<k.length;++ce){const Ne=k[ce];if(Ne&&!Ne.da&&Ne.capture==U){const rt=Ne.listener,vn=Ne.ha||Ne.src;Ne.fa&&fe(x.i,Ne),oe=rt.call(vn,H)!==!1&&oe}}return oe&&!H.defaultPrevented}function gi(x,k){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=f(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(k)>2147483647?-1:s.setTimeout(x,k||0)}function Yr(x){x.g=gi(()=>{x.g=null,x.i&&(x.i=!1,Yr(x))},x.l);const k=x.h;x.h=null,x.m.apply(null,k)}class Kt extends q{constructor(k,U){super(),this.m=k,this.l=U,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Yr(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(x){q.call(this),this.h=x,this.g={}}p(Gi,q);var _o=[];function wo(x){ge(x.g,function(k,U){this.g.hasOwnProperty(U)&&$e(k)},x),x.g={}}Gi.prototype.N=function(){Gi.Z.N.call(this),wo(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Re=s.JSON.stringify,Ve=s.JSON.parse,It=class{stringify(x){return s.JSON.stringify(x,void 0)}parse(x){return s.JSON.parse(x,void 0)}};function gn(){}function Ir(){}var Mt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){F.call(this,"d")}p(Ot,F);function yi(){F.call(this,"c")}p(yi,F);var yn={},Vm=null;function tc(){return Vm=Vm||new lt}yn.Ia="serverreachability";function Um(x){F.call(this,yn.Ia,x)}p(Um,F);function To(x){const k=tc();Ze(k,new Um(k))}yn.STAT_EVENT="statevent";function kl(x,k){F.call(this,yn.STAT_EVENT,x),this.stat=k}p(kl,F);function Tn(x){const k=tc();Ze(k,new kl(k,x))}yn.Ja="timingevent";function Eo(x,k){F.call(this,yn.Ja,x),this.size=k}p(Eo,F);function So(x,k){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){x()},k)}function Hi(){this.g=!0}Hi.prototype.ua=function(){this.g=!1};function sx(x,k,U,H,oe,ce){x.info(function(){if(x.g)if(ce){var Ne="",rt=ce.split("&");for(let At=0;At<rt.length;At++){var vn=rt[At].split("=");if(vn.length>1){const rn=vn[0];vn=vn[1];const _i=rn.split("_");Ne=_i.length>=2&&_i[1]=="type"?Ne+(rn+"="+vn+"&"):Ne+(rn+"=redacted&")}}}else Ne=null;else Ne=ce;return"XMLHTTP REQ ("+H+") [attempt "+oe+"]: "+k+`
`+U+`
`+Ne})}function Bm(x,k,U,H,oe,ce,Ne){x.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+oe+"]: "+k+`
`+U+`
`+ce+" "+Ne})}function Ao(x,k,U,H){x.info(function(){return"XMLHTTP TEXT ("+k+"): "+ax(x,U)+(H?" "+H:"")})}function Pl(x,k){x.info(function(){return"TIMEOUT: "+k})}Hi.prototype.info=function(){};function ax(x,k){if(!x.g)return k;if(!k)return null;try{const ce=JSON.parse(k);if(ce){for(x=0;x<ce.length;x++)if(Array.isArray(ce[x])){var U=ce[x];if(!(U.length<2)){var H=U[1];if(Array.isArray(H)&&!(H.length<1)){var oe=H[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let Ne=1;Ne<H.length;Ne++)H[Ne]=""}}}}return Re(ce)}catch{return k}}var Ml={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ld={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ud;function Ol(){}p(Ol,gn),Ol.prototype.g=function(){return new XMLHttpRequest},ud=new Ol;function fs(x){return encodeURIComponent(String(x))}function Fm(x){var k=1;x=x.split(":");const U=[];for(;k>0&&x.length;)U.push(x.shift()),k--;return x.length&&U.push(x.join(":")),U}function Ki(x,k,U,H){this.j=x,this.i=k,this.l=U,this.S=H||1,this.V=new Gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wi}function Wi(){this.i=null,this.g="",this.h=!1}var En={},zn={};function Co(x,k,U){x.M=1,x.A=Dl(An(k)),x.u=U,x.R=!0,nc(x,null)}function nc(x,k){x.F=Date.now(),Io(x),x.B=An(x.A);var U=x.B,H=x.S;Array.isArray(H)||(H=[String(H)]),sc(U.i,"t",H),x.C=0,U=x.j.L,x.h=new Wi,x.g=ng(x.j,U?k:null,!x.u),x.P>0&&(x.O=new Kt(f(x.Y,x,x.g),x.P)),k=x.V,U=x.g,H=x.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&(_o[0]=oe.toString()),oe=_o);for(let ce=0;ce<oe.length;ce++){const Ne=he(U,oe[ce],H||k.handleEvent,!1,k.h||k);if(!Ne)break;k.g[Ne.key]=Ne}k=x.J?V(x.J):{},x.u?(x.v||(x.v="POST"),k["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,k)):(x.v="GET",x.g.ea(x.B,x.v,null,k)),To(),sx(x.i,x.v,x.B,x.l,x.S,x.u)}Ki.prototype.ba=function(x){x=x.target;const k=this.O;k&&Xi(x)==3?k.j():this.Y(x)},Ki.prototype.Y=function(x){try{if(x==this.g)e:{const rt=Xi(this.g),vn=this.g.ya(),At=this.g.ca();if(!(rt<3)&&(rt!=3||this.g&&(this.h.h||this.g.la()||er(this.g)))){this.K||rt!=4||vn==7||(vn==8||At<=0?To(3):To(2)),No(this);var k=this.g.ca();this.X=k;var U=lx(this);if(this.o=k==200,Bm(this.i,this.v,this.B,this.l,this.S,rt,k),this.o){if(this.U&&!this.L){t:{if(this.g){var H,oe=this.g;if((H=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(H)){var ce=H;break t}}ce=null}if(x=ce)Ao(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ro(this,x);else{this.o=!1,this.m=3,Tn(12),Jr(this),vi(this);break e}}if(this.R){x=!0;let rn;for(;!this.K&&this.C<U.length;)if(rn=zm(this,U),rn==zn){rt==4&&(this.m=4,Tn(14),x=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==En){this.m=4,Tn(15),Ao(this.i,this.l,U,"[Invalid Chunk]"),x=!1;break}else Ao(this.i,this.l,rn,null),Ro(this,rn);if(qm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||U.length!=0||this.h.h||(this.m=1,Tn(16),x=!1),this.o=this.o&&x,!x)Ao(this.i,this.l,U,"[Invalid Chunked Response]"),Jr(this),vi(this);else if(U.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Ed(Ne),Ne.P=!0,Tn(11))}}else Ao(this.i,this.l,U,null),Ro(this,U);rt==4&&Jr(this),this.o&&!this.K&&(rt==4?Qm(this.j,this):(this.o=!1,Io(this)))}else hs(this.g),k==400&&U.indexOf("Unknown SID")>0?(this.m=3,Tn(12)):(this.m=0,Tn(13)),Jr(this),vi(this)}}}catch{}finally{}};function lx(x){if(!qm(x))return x.g.la();const k=er(x.g);if(k==="")return"";let U="";const H=k.length,oe=Xi(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Jr(x),vi(x),"";x.h.i=new s.TextDecoder}for(let ce=0;ce<H;ce++)x.h.h=!0,U+=x.h.i.decode(k[ce],{stream:!(oe&&ce==H-1)});return k.length=0,x.h.g+=U,x.C=0,x.h.g}function qm(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function zm(x,k){var U=x.C,H=k.indexOf(`
`,U);return H==-1?zn:(U=Number(k.substring(U,H)),isNaN(U)?En:(H+=1,H+U>k.length?zn:(k=k.slice(H,H+U),x.C=H+U,k)))}Ki.prototype.cancel=function(){this.K=!0,Jr(this)};function Io(x){x.T=Date.now()+x.H,rc(x,x.H)}function rc(x,k){if(x.D!=null)throw Error("WatchDog timer not null");x.D=So(f(x.aa,x),k)}function No(x){x.D&&(s.clearTimeout(x.D),x.D=null)}Ki.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(Pl(this.i,this.B),this.M!=2&&(To(),Tn(17)),Jr(this),this.m=2,vi(this)):rc(this,this.T-x)};function vi(x){x.j.I==0||x.K||Qm(x.j,x)}function Jr(x){No(x);var k=x.O;k&&typeof k.dispose=="function"&&k.dispose(),x.O=null,wo(x.V),x.g&&(k=x.g,x.g=null,k.abort(),k.dispose())}function Ro(x,k){try{var U=x.j;if(U.I!=0&&(U.g==x||Po(U.h,x))){if(!x.L&&Po(U.h,x)&&U.I==3){try{var H=U.Ba.g.parse(k)}catch{H=null}if(Array.isArray(H)&&H.length==3){var oe=H;if(oe[0]==0){e:if(!U.v){if(U.g)if(U.g.F+3e3<x.F)fc(U),ha(U);else break e;ql(U),Tn(18)}}else U.xa=oe[1],0<U.xa-U.K&&oe[2]<37500&&U.F&&U.A==0&&!U.C&&(U.C=So(f(U.Va,U),6e3));ko(U.h)<=1&&U.ta&&(U.ta=void 0)}else Vo(U,11)}else if((x.L||U.g==x)&&fc(U),!B(k))for(oe=U.Ba.g.parse(k),k=0;k<oe.length;k++){let At=oe[k];const rn=At[0];if(!(rn<=U.K))if(U.K=rn,At=At[1],U.I==2)if(At[0]=="c"){U.M=At[1],U.ba=At[2];const _i=At[3];_i!=null&&(U.ka=_i,U.j.info("VER="+U.ka));const Uo=At[4];Uo!=null&&(U.za=Uo,U.j.info("SVER="+U.za));const Qi=At[5];Qi!=null&&typeof Qi=="number"&&Qi>0&&(H=1.5*Qi,U.O=H,U.j.info("backChannelRequestTimeoutMs_="+H)),H=U;const Zi=x.g;if(Zi){const zl=Zi.g?Zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zl){var ce=H.h;ce.g||zl.indexOf("spdy")==-1&&zl.indexOf("quic")==-1&&zl.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(dd(ce,ce.h),ce.h=null))}if(H.G){const dc=Zi.g?Zi.g.getResponseHeader("X-HTTP-Session-Id"):null;dc&&(H.wa=dc,Dt(H.J,H.G,dc))}}U.I=3,U.l&&U.l.ra(),U.aa&&(U.T=Date.now()-x.F,U.j.info("Handshake RTT: "+U.T+"ms")),H=U;var Ne=x;if(H.na=tg(H,H.L?H.ba:null,H.W),Ne.L){hd(H.h,Ne);var rt=Ne,vn=H.O;vn&&(rt.H=vn),rt.D&&(No(rt),Io(rt)),H.g=Ne}else Jm(H);U.i.length>0&&jo(U)}else At[0]!="stop"&&At[0]!="close"||Vo(U,7);else U.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Vo(U,7):wd(U):At[0]!="noop"&&U.l&&U.l.qa(At),U.A=0)}}To(4)}catch{}}var Sn=class{constructor(x,k){this.g=x,this.map=k}};function cd(x){this.l=x||10,s.PerformanceNavigationTiming?(x=s.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fd(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function ko(x){return x.h?1:x.g?x.g.size:0}function Po(x,k){return x.h?x.h==k:x.g?x.g.has(k):!1}function dd(x,k){x.g?x.g.add(k):x.h=k}function hd(x,k){x.h&&x.h==k?x.h=null:x.g&&x.g.has(k)&&x.g.delete(k)}cd.prototype.cancel=function(){if(this.i=pd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function pd(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let k=x.i;for(const U of x.g.values())k=k.concat(U.G);return k}return _(x.i)}var $m=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ic(x,k){if(x){x=x.split("&");for(let U=0;U<x.length;U++){const H=x[U].indexOf("=");let oe,ce=null;H>=0?(oe=x[U].substring(0,H),ce=x[U].substring(H+1)):oe=x[U],k(oe,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function Xr(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let k;x instanceof Xr?(this.l=x.l,$n(this,x.j),this.o=x.o,this.g=x.g,sa(this,x.u),this.h=x.h,md(this,Wm(x.i)),this.m=x.m):x&&(k=String(x).match($m))?(this.l=!1,$n(this,k[1]||"",!0),this.o=Mo(k[2]||""),this.g=Mo(k[3]||"",!0),sa(this,k[4]),this.h=Mo(k[5]||"",!0),md(this,k[6]||"",!0),this.m=Mo(k[7]||"")):(this.l=!1,this.i=new la(null,this.l))}Xr.prototype.toString=function(){const x=[];var k=this.j;k&&x.push(Ll(k,oc,!0),":");var U=this.g;return(U||k=="file")&&(x.push("//"),(k=this.o)&&x.push(Ll(k,oc,!0),"@"),x.push(fs(U).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.u,U!=null&&x.push(":",String(U))),(U=this.h)&&(this.g&&U.charAt(0)!="/"&&x.push("/"),x.push(Ll(U,U.charAt(0)=="/"?gd:Gm,!0))),(U=this.i.toString())&&x.push("?",U),(U=this.m)&&x.push("#",Ll(U,Hm)),x.join("")},Xr.prototype.resolve=function(x){const k=An(this);let U=!!x.j;U?$n(k,x.j):U=!!x.o,U?k.o=x.o:U=!!x.g,U?k.g=x.g:U=x.u!=null;var H=x.h;if(U)sa(k,x.u);else if(U=!!x.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var oe=k.h.lastIndexOf("/");oe!=-1&&(H=k.h.slice(0,oe+1)+H)}if(oe=H,oe==".."||oe==".")H="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){H=oe.lastIndexOf("/",0)==0,oe=oe.split("/");const ce=[];for(let Ne=0;Ne<oe.length;){const rt=oe[Ne++];rt=="."?H&&Ne==oe.length&&ce.push(""):rt==".."?((ce.length>1||ce.length==1&&ce[0]!="")&&ce.pop(),H&&Ne==oe.length&&ce.push("")):(ce.push(rt),H=!0)}H=ce.join("/")}else H=oe}return U?k.h=H:U=x.i.toString()!=="",U?md(k,Wm(x.i)):U=!!x.m,U&&(k.m=x.m),k};function An(x){return new Xr(x)}function $n(x,k,U){x.j=U?Mo(k,!0):k,x.j&&(x.j=x.j.replace(/:$/,""))}function sa(x,k){if(k){if(k=Number(k),isNaN(k)||k<0)throw Error("Bad port number "+k);x.u=k}else x.u=null}function md(x,k,U){k instanceof la?(x.i=k,ac(x.i,x.l)):(U||(k=Ll(k,aa)),x.i=new la(k,x.l))}function Dt(x,k,U){x.i.set(k,U)}function Dl(x){return Dt(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function Mo(x,k){return x?k?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Ll(x,k,U){return typeof x=="string"?(x=encodeURI(x).replace(k,Nr),U&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function Nr(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var oc=/[#\/\?@]/g,Gm=/[#\?:]/g,gd=/[#\?]/g,aa=/[#\?@]/g,Hm=/#/g;function la(x,k){this.h=this.g=null,this.i=x||null,this.j=!!k}function Rr(x){x.g||(x.g=new Map,x.h=0,x.i&&ic(x.i,function(k,U){x.add(decodeURIComponent(k.replace(/\+/g," ")),U)}))}t=la.prototype,t.add=function(x,k){Rr(this),this.i=null,x=ua(this,x);let U=this.g.get(x);return U||this.g.set(x,U=[]),U.push(k),this.h+=1,this};function Km(x,k){Rr(x),k=ua(x,k),x.g.has(k)&&(x.i=null,x.h-=x.g.get(k).length,x.g.delete(k))}function yd(x,k){return Rr(x),k=ua(x,k),x.g.has(k)}t.forEach=function(x,k){Rr(this),this.g.forEach(function(U,H){U.forEach(function(oe){x.call(k,oe,H,this)},this)},this)};function vd(x,k){Rr(x);let U=[];if(typeof k=="string")yd(x,k)&&(U=U.concat(x.g.get(ua(x,k))));else for(x=Array.from(x.g.values()),k=0;k<x.length;k++)U=U.concat(x[k]);return U}t.set=function(x,k){return Rr(this),this.i=null,x=ua(this,x),yd(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[k]),this.h+=1,this},t.get=function(x,k){return x?(x=vd(this,x),x.length>0?String(x[0]):k):k};function sc(x,k,U){Km(x,k),U.length>0&&(x.i=null,x.g.set(ua(x,k),_(U)),x.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],k=Array.from(this.g.keys());for(let H=0;H<k.length;H++){var U=k[H];const oe=fs(U);U=vd(this,U);for(let ce=0;ce<U.length;ce++){let Ne=oe;U[ce]!==""&&(Ne+="="+fs(U[ce])),x.push(Ne)}}return this.i=x.join("&")};function Wm(x){const k=new la;return k.i=x.i,x.g&&(k.g=new Map(x.g),k.h=x.h),k}function ua(x,k){return k=String(k),x.j&&(k=k.toLowerCase()),k}function ac(x,k){k&&!x.j&&(Rr(x),x.i=null,x.g.forEach(function(U,H){const oe=H.toLowerCase();H!=oe&&(Km(this,H),sc(this,oe,U))},x)),x.j=k}function Yi(x,k){const U=new Hi;if(s.Image){const H=new Image;H.onload=h(bi,U,"TestLoadImage: loaded",!0,k,H),H.onerror=h(bi,U,"TestLoadImage: error",!1,k,H),H.onabort=h(bi,U,"TestLoadImage: abort",!1,k,H),H.ontimeout=h(bi,U,"TestLoadImage: timeout",!1,k,H),s.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=x}else k(!1)}function bd(x,k){const U=new Hi,H=new AbortController,oe=setTimeout(()=>{H.abort(),bi(U,"TestPingServer: timeout",!1,k)},1e4);fetch(x,{signal:H.signal}).then(ce=>{clearTimeout(oe),ce.ok?bi(U,"TestPingServer: ok",!0,k):bi(U,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(oe),bi(U,"TestPingServer: error",!1,k)})}function bi(x,k,U,H,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),H(U)}catch{}}function ca(){this.g=new It}function Oo(x){this.i=x.Sb||null,this.h=x.ab||!1}p(Oo,gn),Oo.prototype.g=function(){return new jl(this.i,this.h)};function jl(x,k){lt.call(this),this.H=x,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(jl,lt),t=jl.prototype,t.open=function(x,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=k,this.readyState=1,Ji(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const k={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(k.body=x),(this.H||s).fetch(new Request(this.D,k)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lc(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function lc(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var k=x.value?x.value:new Uint8Array(0);(k=this.B.decode(k,{stream:!x.done}))&&(this.response=this.responseText+=k)}x.done?fa(this):Ji(this),this.readyState==3&&lc(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,fa(this))},t.Na=function(x){this.g&&(this.response=x,fa(this))},t.ga=function(){this.g&&fa(this)};function fa(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Ji(x)}t.setRequestHeader=function(x,k){this.A.append(x,k)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],k=this.h.entries();for(var U=k.next();!U.done;)U=U.value,x.push(U[0]+": "+U[1]),U=k.next();return x.join(`\r
`)};function Ji(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function xi(x){let k="";return ge(x,function(U,H){k+=H,k+=":",k+=U,k+=`\r
`}),k}function Vl(x,k,U){e:{for(H in U){var H=!1;break e}H=!0}H||(U=xi(U),typeof x=="string"?U!=null&&fs(U):Dt(x,k,U))}function Ut(x){lt.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ut,lt);var Do=/^https?$/i,xd=["POST","PUT"];t=Ut.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,k,U,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);k=k?k.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ud.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(k,String(x),!0),this.B=!1}catch(ce){Ul(this,ce);return}if(x=U||"",U=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var oe in H)U.set(oe,H[oe]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const ce of H.keys())U.set(ce,H.get(ce));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(U.keys()).find(ce=>ce.toLowerCase()=="content-type"),oe=s.FormData&&x instanceof s.FormData,!(Array.prototype.indexOf.call(xd,k,void 0)>=0)||H||oe||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ne]of U)this.g.setRequestHeader(ce,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(ce){Ul(this,ce)}};function Ul(x,k){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=k,x.o=5,_d(x),ds(x)}function _d(x){x.A||(x.A=!0,Ze(x,"complete"),Ze(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,Ze(this,"complete"),Ze(this,"abort"),ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Bl(this):this.Xa())},t.Xa=function(){Bl(this)};function Bl(x){if(x.h&&typeof o<"u"){if(x.v&&Xi(x)==4)setTimeout(x.Ca.bind(x),0);else if(Ze(x,"readystatechange"),Xi(x)==4){x.h=!1;try{const ce=x.ca();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var U;if(!(U=k)){var H;if(H=ce===0){let Ne=String(x.D).match($m)[1]||null;!Ne&&s.self&&s.self.location&&(Ne=s.self.location.protocol.slice(0,-1)),H=!Do.test(Ne?Ne.toLowerCase():"")}U=H}if(U)Ze(x,"complete"),Ze(x,"success");else{x.o=6;try{var oe=Xi(x)>2?x.g.statusText:""}catch{oe=""}x.l=oe+" ["+x.ca()+"]",_d(x)}}finally{ds(x)}}}}function ds(x,k){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const U=x.g;x.g=null,k||Ze(x,"ready");try{U.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xi(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var k=this.g.responseText;return x&&k.indexOf(x)==0&&(k=k.substring(x.length)),Ve(k)}};function er(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(x){const k={};x=(x.g&&Xi(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<x.length;H++){if(B(x[H]))continue;var U=Fm(x[H]);const oe=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const ce=k[oe]||[];k[oe]=ce,ce.push(U)}K(k,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(x,k,U){return U&&U.internalChannelParams&&U.internalChannelParams[x]||k}function da(x){this.za=0,this.i=[],this.j=new Hi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Lo("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Lo("baseRetryDelayMs",5e3,x),this.Za=Lo("retryDelaySeedMs",1e4,x),this.Ta=Lo("forwardChannelMaxRetries",2,x),this.va=Lo("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new cd(x&&x.concurrentRequestLimit),this.Ba=new ca,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=da.prototype,t.ka=8,t.I=1,t.connect=function(x,k,U,H){Tn(0),this.W=x,this.H=k||{},U&&H!==void 0&&(this.H.OSID=U,this.H.OAID=H),this.F=this.X,this.J=tg(this,null,this.W),jo(this)};function wd(x){if(uc(x),x.I==3){var k=x.V++,U=An(x.J);if(Dt(U,"SID",x.M),Dt(U,"RID",k),Dt(U,"TYPE","terminate"),Fl(x,U),k=new Ki(x,x.j,k),k.M=2,k.A=Dl(An(U)),U=!1,s.navigator&&s.navigator.sendBeacon)try{U=s.navigator.sendBeacon(k.A.toString(),"")}catch{}!U&&s.Image&&(new Image().src=k.A,U=!0),U||(k.g=ng(k.j,null),k.g.ea(k.A)),k.F=Date.now(),Io(k)}eg(x)}function ha(x){x.g&&(Ed(x),x.g.cancel(),x.g=null)}function uc(x){ha(x),x.v&&(s.clearTimeout(x.v),x.v=null),fc(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&s.clearTimeout(x.m),x.m=null)}function jo(x){if(!fd(x.h)&&!x.m){x.m=!0;var k=x.Ea;R||O(),L||(R(),L=!0),P.add(k,x),x.D=0}}function cc(x,k){return ko(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=k.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=So(f(x.Ea,x,k),Zm(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const oe=new Ki(this,this.j,x);let ce=this.o;if(this.U&&(ce?(ce=V(ce),J(ce,this.U)):ce=this.U),this.u!==null||this.R||(oe.J=ce,ce=null),this.S)e:{for(var k=0,U=0;U<this.i.length;U++){t:{var H=this.i[U];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(k+=H,k>4096){k=U;break e}if(k===4096||U===this.i.length-1){k=U+1;break e}}k=1e3}else k=1e3;k=Ym(this,oe,k),U=An(this.J),Dt(U,"RID",x),Dt(U,"CVER",22),this.G&&Dt(U,"X-HTTP-Session-Id",this.G),Fl(this,U),ce&&(this.R?k="headers="+fs(xi(ce))+"&"+k:this.u&&Vl(U,this.u,ce)),dd(this.h,oe),this.Ra&&Dt(U,"TYPE","init"),this.S?(Dt(U,"$req",k),Dt(U,"SID","null"),oe.U=!0,Co(oe,U,null)):Co(oe,U,k),this.I=2}}else this.I==3&&(x?Td(this,x):this.i.length==0||fd(this.h)||Td(this))};function Td(x,k){var U;k?U=k.l:U=x.V++;const H=An(x.J);Dt(H,"SID",x.M),Dt(H,"RID",U),Dt(H,"AID",x.K),Fl(x,H),x.u&&x.o&&Vl(H,x.u,x.o),U=new Ki(x,x.j,U,x.D+1),x.u===null&&(U.J=x.o),k&&(x.i=k.G.concat(x.i)),k=Ym(x,U,1e3),U.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),dd(x.h,U),Co(U,H,k)}function Fl(x,k){x.H&&ge(x.H,function(U,H){Dt(k,H,U)}),x.l&&ge({},function(U,H){Dt(k,H,U)})}function Ym(x,k,U){U=Math.min(x.i.length,U);const H=x.l?f(x.l.Ka,x.l,x):null;e:{var oe=x.i;let rt=-1;for(;;){const vn=["count="+U];rt==-1?U>0?(rt=oe[0].g,vn.push("ofs="+rt)):rt=0:vn.push("ofs="+rt);let At=!0;for(let rn=0;rn<U;rn++){var ce=oe[rn].g;const _i=oe[rn].map;if(ce-=rt,ce<0)rt=Math.max(0,oe[rn].g-100),At=!1;else try{ce="req"+ce+"_"||"";try{var Ne=_i instanceof Map?_i:Object.entries(_i);for(const[Uo,Qi]of Ne){let Zi=Qi;l(Qi)&&(Zi=Re(Qi)),vn.push(ce+Uo+"="+encodeURIComponent(Zi))}}catch(Uo){throw vn.push(ce+"type="+encodeURIComponent("_badmap")),Uo}}catch{H&&H(_i)}}if(At){Ne=vn.join("&");break e}}Ne=void 0}return x=x.i.splice(0,U),k.G=x,Ne}function Jm(x){if(!x.g&&!x.v){x.Y=1;var k=x.Da;R||O(),L||(R(),L=!0),P.add(k,x),x.A=0}}function ql(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=So(f(x.Da,x),Zm(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,Xm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=So(f(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tn(10),ha(this),Xm(this))};function Ed(x){x.B!=null&&(s.clearTimeout(x.B),x.B=null)}function Xm(x){x.g=new Ki(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var k=An(x.na);Dt(k,"RID","rpc"),Dt(k,"SID",x.M),Dt(k,"AID",x.K),Dt(k,"CI",x.F?"0":"1"),!x.F&&x.ia&&Dt(k,"TO",x.ia),Dt(k,"TYPE","xmlhttp"),Fl(x,k),x.u&&x.o&&Vl(k,x.u,x.o),x.O&&(x.g.H=x.O);var U=x.g;x=x.ba,U.M=1,U.A=Dl(An(k)),U.u=null,U.R=!0,nc(U,x)}t.Va=function(){this.C!=null&&(this.C=null,ha(this),ql(this),Tn(19))};function fc(x){x.C!=null&&(s.clearTimeout(x.C),x.C=null)}function Qm(x,k){var U=null;if(x.g==k){fc(x),Ed(x),x.g=null;var H=2}else if(Po(x.h,k))U=k.G,hd(x.h,k),H=1;else return;if(x.I!=0){if(k.o)if(H==1){U=k.u?k.u.length:0,k=Date.now()-k.F;var oe=x.D;H=tc(),Ze(H,new Eo(H,U)),jo(x)}else Jm(x);else if(oe=k.m,oe==3||oe==0&&k.X>0||!(H==1&&cc(x,k)||H==2&&ql(x)))switch(U&&U.length>0&&(k=x.h,k.i=k.i.concat(U)),oe){case 1:Vo(x,5);break;case 4:Vo(x,10);break;case 3:Vo(x,6);break;default:Vo(x,2)}}}function Zm(x,k){let U=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(U*=2),U*k}function Vo(x,k){if(x.j.info("Error code "+k),k==2){var U=f(x.bb,x),H=x.Ua;const oe=!H;H=new Xr(H||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||$n(H,"https"),Dl(H),oe?Yi(H.toString(),U):bd(H.toString(),U)}else Tn(2);x.I=0,x.l&&x.l.pa(k),eg(x),uc(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function eg(x){if(x.I=0,x.ja=[],x.l){const k=pd(x.h);(k.length!=0||x.i.length!=0)&&(S(x.ja,k),S(x.ja,x.i),x.h.i.length=0,_(x.i),x.i.length=0),x.l.oa()}}function tg(x,k,U){var H=U instanceof Xr?An(U):new Xr(U);if(H.g!="")k&&(H.g=k+"."+H.g),sa(H,H.u);else{var oe=s.location;H=oe.protocol,k=k?k+"."+oe.hostname:oe.hostname,oe=+oe.port;const ce=new Xr(null);H&&$n(ce,H),k&&(ce.g=k),oe&&sa(ce,oe),U&&(ce.h=U),H=ce}return U=x.G,k=x.wa,U&&k&&Dt(H,U,k),Dt(H,"VER",x.ka),Fl(x,H),H}function ng(x,k,U){if(k&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return k=x.Aa&&!x.ma?new Ut(new Oo({ab:U})):new Ut(x.ma),k.Fa(x.L),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rg(){}t=rg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function pa(){}pa.prototype.g=function(x,k){return new xr(x,k)};function xr(x,k){lt.call(this),this.g=new da(k),this.l=x,this.h=k&&k.messageUrlParams||null,x=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(x?x["X-WebChannel-Content-Type"]=k.messageContentType:x={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.sa&&(x?x["X-WebChannel-Client-Profile"]=k.sa:x={"X-WebChannel-Client-Profile":k.sa}),this.g.U=x,(x=k&&k.Qb)&&!B(x)&&(this.g.u=x),this.A=k&&k.supportsCrossDomainXhr||!1,this.v=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!B(k)&&(this.g.G=k,x=this.h,x!==null&&k in x&&(x=this.h,k in x&&delete x[k])),this.j=new ps(this)}p(xr,lt),xr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xr.prototype.close=function(){wd(this.g)},xr.prototype.o=function(x){var k=this.g;if(typeof x=="string"){var U={};U.__data__=x,x=U}else this.v&&(U={},U.__data__=Re(x),x=U);k.i.push(new Sn(k.Ya++,x)),k.I==3&&jo(k)},xr.prototype.N=function(){this.g.l=null,delete this.j,wd(this.g),delete this.g,xr.Z.N.call(this)};function ig(x){Ot.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var k=x.__sm__;if(k){e:{for(const U in k){x=U;break e}x=void 0}(this.i=x)&&(x=this.i,k=k!==null&&x in k?k[x]:void 0),this.data=k}else this.data=x}p(ig,Ot);function og(){yi.call(this),this.status=1}p(og,yi);function ps(x){this.g=x}p(ps,rg),ps.prototype.ra=function(){Ze(this.g,"a")},ps.prototype.qa=function(x){Ze(this.g,new ig(x))},ps.prototype.pa=function(x){Ze(this.g,new og)},ps.prototype.oa=function(){Ze(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,xr.prototype.send=xr.prototype.o,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,MF=function(){return new pa},PF=function(){return tc()},kF=yn,iA={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ml.NO_ERROR=0,Ml.TIMEOUT=8,Ml.HTTP_ERROR=6,zy=Ml,ld.COMPLETE="complete",RF=ld,Ir.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",lt.prototype.listen=lt.prototype.J,Nh=Ir,Ut.prototype.listenOnce=Ut.prototype.K,Ut.prototype.getLastError=Ut.prototype.Ha,Ut.prototype.getLastErrorCode=Ut.prototype.ya,Ut.prototype.getStatus=Ut.prototype.ca,Ut.prototype.getResponseJson=Ut.prototype.La,Ut.prototype.getResponseText=Ut.prototype.la,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Fa,NF=Ut}).apply(typeof cy<"u"?cy:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf="12.9.0";function xJ(t){Gf=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new F0("@firebase/firestore");function Gc(){return Pu.logLevel}function Oe(t,...e){if(Pu.logLevel<=ft.DEBUG){const n=e.map(SI);Pu.debug(`Firestore (${Gf}): ${t}`,...n)}}function zs(t,...e){if(Pu.logLevel<=ft.ERROR){const n=e.map(SI);Pu.error(`Firestore (${Gf}): ${t}`,...n)}}function Mu(t,...e){if(Pu.logLevel<=ft.WARN){const n=e.map(SI);Pu.warn(`Firestore (${Gf}): ${t}`,...n)}}function SI(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OF(t,r,n)}function OF(t,e,n){let r=`FIRESTORE (${Gf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zs(r),new Error(r)}function Pt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||OF(e,i,r)}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _J{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pr.UNAUTHENTICATED)))}shutdown(){}}class wJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class TJ{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new js;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new js,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new js)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt(typeof r.accessToken=="string",31837,{l:r}),new DF(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class EJ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class SJ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new EJ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AJ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pt(this.o===void 0,3512);const r=o=>{o.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sO(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=CJ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function oA(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return hw(i)===hw(o)?dt(i,o):hw(i)?1:-1}return dt(t.length,e.length)}const IJ=55296,NJ=57343;function hw(t){const e=t.charCodeAt(0);return e>=IJ&&e<=NJ}function vf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="__name__";class Go{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&We(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Go.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Go.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return dt(e.length,n.length)}static compareSegments(e,n){const r=Go.isNumericId(e),i=Go.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Go.extractNumericId(e).compare(Go.extractNumericId(n)):oA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nl.fromString(e.substring(4,e.length-2))}}class Xt extends Go{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Xt(n)}static emptyPath(){return new Xt([])}}const RJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Go{construct(e,n,r){return new ar(e,n,r)}static isValidIdentifier(e){return RJ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aO}static keyField(){return new ar([aO])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Pe(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Pe(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Pe(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new Pe(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(n)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Xt.fromString(e))}static fromName(e){return new Fe(Xt.fromString(e).popFirst(5))}static empty(){return new Fe(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t,e,n){if(!n)throw new Pe(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kJ(t,e,n,r){if(e===!0&&r===!0)throw new Pe(be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lO(t){if(!Fe.isDocumentKey(t))throw new Pe(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uO(t){if(Fe.isDocumentKey(t))throw new Pe(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jF(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function z0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We(12329,{type:typeof t})}function Hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=z0(t);throw new Pe(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,e){const n={typeString:t};return e&&(n.value=e),n}function lm(t,e){if(!jF(t))throw new Pe(be.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Pe(be.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=-62135596800,fO=1e6;class nn{static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fO);return new nn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cO)throw new Pe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fO}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lm(e,nn._jsonSchema))return new nn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nn._jsonSchemaVersion="firestore/timestamp/1.0",nn._jsonSchema={type:On("string",nn._jsonSchemaVersion),seconds:On("number"),nanoseconds:On("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new nn(0,0))}static max(){return new Qe(new nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=-1;function PJ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new ll(i,Fe.empty(),e)}function MJ(t){return new ll(t.readTime,t.key,sp)}class ll{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ll(Qe.min(),Fe.empty(),sp)}static max(){return new ll(Qe.max(),Fe.empty(),sp)}}function OJ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Fe.comparator(t.documentKey,e.documentKey),n!==0?n:dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==DJ)throw t;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):we.reject(n)}static resolve(e){return new we(((n,r)=>{n(e)}))}static reject(e){return new we(((n,r)=>{r(e)}))}static waitFor(e){return new we(((n,r)=>{let i=0,o=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++o,s&&o===i&&n()}),(c=>r(c)))})),s=!0,o===i&&n()}))}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next((i=>i?we.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new we(((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++l,l===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new we(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function jJ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=-1;function G0(t){return t==null}function av(t){return t===0&&1/t==-1/0}function VJ(t){return typeof t=="number"&&Number.isInteger(t)&&!av(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="";function UJ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dO(e)),e=BJ(t.get(n),e);return dO(e)}function BJ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case VF:n+="";break;default:n+=o}}return n}function dO(t){return t+VF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fy(this.root,e,this.comparator,!1)}getReverseIterator(){return new fy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fy(this.root,e,this.comparator,!0)}}class fy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??sr.RED,this.left=i??sr.EMPTY,this.right=o??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new sr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw We(43730,{key:this.key,value:this.value});if(this.right.isRed())throw We(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw We(27949);return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw We(57766)}get value(){throw We(16141)}get color(){throw We(16727)}get left(){throw We(29726)}get right(){throw We(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pO(this.data.getIterator())}getIteratorFrom(e){return new pO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class pO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new ui([])}unionWith(e){let n=new Fn(ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BF("Invalid base64 string: "+o):o}})(e);return new ur(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const FJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(t){if(Pt(!!t,39018),typeof t=="string"){let e=0;const n=FJ.exec(t);if(Pt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cl(t){return typeof t=="string"?ur.fromBase64String(t):ur.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="server_timestamp",qF="__type__",zF="__previous_value__",$F="__local_write_time__";function II(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[qF])==null?void 0:r.stringValue)===FF}function H0(t){const e=t.mapValue.fields[zF];return II(e)?H0(e):e}function ap(t){const e=ul(t.mapValue.fields[$F].timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e,n,r,i,o,s,l,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=p}}const lv="(default)";class lp{constructor(e,n){this.projectId=e,this.database=n||lv}static empty(){return new lp("","")}get isDefaultDatabase(){return this.database===lv}isEqual(e){return e instanceof lp&&e.projectId===this.projectId&&e.database===this.database}}function zJ(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Pe(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lp(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="__type__",$J="__max__",dy={mapValue:{}},HF="__vector__",uv="value";function fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?II(t)?4:HJ(t)?9007199254740991:GJ(t)?10:11:We(28295,{value:t})}function ss(t,e){if(t===e)return!0;const n=fl(t);if(n!==fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ap(t).isEqual(ap(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ul(i.timestampValue),l=ul(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return cl(i.bytesValue).isEqual(cl(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return wn(i.geoPointValue.latitude)===wn(o.geoPointValue.latitude)&&wn(i.geoPointValue.longitude)===wn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return wn(i.integerValue)===wn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wn(i.doubleValue),l=wn(o.doubleValue);return s===l?av(s)===av(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return vf(t.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(hO(s)!==hO(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!ss(s[c],l[c])))return!1;return!0})(t,e);default:return We(52216,{left:t})}}function up(t,e){return(t.values||[]).find((n=>ss(n,e)))!==void 0}function bf(t,e){if(t===e)return 0;const n=fl(t),r=fl(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const l=wn(o.integerValue||o.doubleValue),c=wn(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return mO(t.timestampValue,e.timestampValue);case 4:return mO(ap(t),ap(e));case 5:return oA(t.stringValue,e.stringValue);case 6:return(function(o,s){const l=cl(o),c=cl(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const l=o.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=dt(l[f],c[f]);if(h!==0)return h}return dt(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const l=dt(wn(o.latitude),wn(s.latitude));return l!==0?l:dt(wn(o.longitude),wn(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return gO(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var y,_,S,A;const l=o.fields||{},c=s.fields||{},f=(y=l[uv])==null?void 0:y.arrayValue,h=(_=c[uv])==null?void 0:_.arrayValue,p=dt(((S=f==null?void 0:f.values)==null?void 0:S.length)||0,((A=h==null?void 0:h.values)==null?void 0:A.length)||0);return p!==0?p:gO(f,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===dy.mapValue&&s===dy.mapValue)return 0;if(o===dy.mapValue)return 1;if(s===dy.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const y=oA(c[p],h[p]);if(y!==0)return y;const _=bf(l[c[p]],f[h[p]]);if(_!==0)return _}return dt(c.length,h.length)})(t.mapValue,e.mapValue);default:throw We(23264,{he:n})}}function mO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const n=ul(t),r=ul(e),i=dt(n.seconds,r.seconds);return i!==0?i:dt(n.nanos,r.nanos)}function gO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=bf(n[i],r[i]);if(o)return o}return dt(n.length,r.length)}function xf(t){return sA(t)}function sA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ul(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return cl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Fe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=sA(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${sA(n.fields[s])}`;return i+"}"})(t.mapValue):We(61005,{value:t})}function $y(t){switch(fl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=H0(t);return e?16+$y(e):16;case 5:return 2*t.stringValue.length;case 6:return cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+$y(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return bl(r.fields,((o,s)=>{i+=o.length+$y(s)})),i})(t.mapValue);default:throw We(13486,{value:t})}}function yO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function aA(t){return!!t&&"integerValue"in t}function NI(t){return!!t&&"arrayValue"in t}function vO(t){return!!t&&"nullValue"in t}function bO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gy(t){return!!t&&"mapValue"in t}function GJ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[GF])==null?void 0:r.stringValue)===HF}function Fh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Fh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fh(t.arrayValue.values[n]);return e}return{...t}}function HJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$J}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fh(n)}setAll(e){let n=ar.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Fh(s):i.push(l.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Gy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bl(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new zr(Fh(this.value))}}function KF(t){const e=[];return bl(t.fields,((n,r)=>{const i=new ar([n]);if(Gy(r)){const o=KF(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new mr(e,0,Qe.min(),Qe.min(),Qe.min(),zr.empty(),0)}static newFoundDocument(e,n,r,i){return new mr(e,1,n,Qe.min(),r,i,0)}static newNoDocument(e,n){return new mr(e,2,n,Qe.min(),Qe.min(),zr.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,Qe.min(),Qe.min(),zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.position=e,this.inclusive=n}}function xO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Fe.comparator(Fe.fromName(s.referenceValue),n.key):r=bf(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _O(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ss(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n="asc"){this.field=e,this.dir=n}}function KJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WF=class{};class Pn extends WF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YJ(e,n,r):n==="array-contains"?new QJ(e,r):n==="in"?new ZJ(e,r):n==="not-in"?new eX(e,r):n==="array-contains-any"?new tX(e,r):new Pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new JJ(e,r):new XJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bf(n,this.value)):n!==null&&fl(this.value)===fl(n)&&this.matchesComparison(bf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class go extends WF{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new go(e,n)}matches(e){return YF(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YF(t){return t.op==="and"}function JF(t){return WJ(t)&&YF(t)}function WJ(t){for(const e of t.filters)if(e instanceof go)return!1;return!0}function lA(t){if(t instanceof Pn)return t.field.canonicalString()+t.op.toString()+xf(t.value);if(JF(t))return t.filters.map((e=>lA(e))).join(",");{const e=t.filters.map((n=>lA(n))).join(",");return`${t.op}(${e})`}}function XF(t,e){return t instanceof Pn?(function(r,i){return i instanceof Pn&&r.op===i.op&&r.field.isEqual(i.field)&&ss(r.value,i.value)})(t,e):t instanceof go?(function(r,i){return i instanceof go&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,l)=>o&&XF(s,i.filters[l])),!0):!1})(t,e):void We(19439)}function QF(t){return t instanceof Pn?(function(n){return`${n.field.canonicalString()} ${n.op} ${xf(n.value)}`})(t):t instanceof go?(function(n){return n.op.toString()+" {"+n.getFilters().map(QF).join(" ,")+"}"})(t):"Filter"}class YJ extends Pn{constructor(e,n,r){super(e,n,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const n=Fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class JJ extends Pn{constructor(e,n){super(e,"in",n),this.keys=ZF("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class XJ extends Pn{constructor(e,n){super(e,"not-in",n),this.keys=ZF("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZF(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Fe.fromName(r.referenceValue)))}class QJ extends Pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return NI(n)&&up(n.arrayValue,this.value)}}class ZJ extends Pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&up(this.value.arrayValue,n)}}class eX extends Pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(up(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!up(this.value.arrayValue,n)}}class tX extends Pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!NI(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>up(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.Te=null}}function wO(t,e=null,n=[],r=[],i=null,o=null,s=null){return new nX(t,e,n,r,i,o,s)}function RI(t){const e=tt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>lA(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),G0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>xf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>xf(r))).join(",")),e.Te=n}return e.Te}function kI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_O(t.startAt,e.startAt)&&_O(t.endAt,e.endAt)}function uA(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rX(t,e,n,r,i,o,s,l){return new Wf(t,e,n,r,i,o,s,l)}function K0(t){return new Wf(t)}function TO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iX(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function eq(t){return t.collectionGroup!==null}function qh(t){const e=tt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Fn(ar.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new cp(o,r))})),n.has(ar.keyField().canonicalString())||e.Ie.push(new cp(ar.keyField(),r))}return e.Ie}function Jo(t){const e=tt(t);return e.Ee||(e.Ee=oX(e,qh(t))),e.Ee}function oX(t,e){if(t.limitType==="F")return wO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new cp(i.field,o)}));const n=t.endAt?new cv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cv(t.startAt.position,t.startAt.inclusive):null;return wO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cA(t,e){const n=t.filters.concat([e]);return new Wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sX(t,e){const n=t.explicitOrderBy.concat([e]);return new Wf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function fA(t,e,n){return new Wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function W0(t,e){return kI(Jo(t),Jo(e))&&t.limitType===e.limitType}function tq(t){return`${RI(Jo(t))}|lt:${t.limitType}`}function Hc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>QF(i))).join(", ")}]`),G0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>xf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>xf(i))).join(",")),`Target(${r})`})(Jo(t))}; limitType=${t.limitType})`}function Y0(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of qh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,c){const f=xO(s,l,c);return s.inclusive?f<=0:f<0})(r.startAt,qh(r),i)||r.endAt&&!(function(s,l,c){const f=xO(s,l,c);return s.inclusive?f>=0:f>0})(r.endAt,qh(r),i))})(t,e)}function aX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nq(t){return(e,n)=>{let r=!1;for(const i of qh(t)){const o=lX(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function lX(t,e,n){const r=t.field.isKeyField()?Fe.comparator(e.key,n.key):(function(o,s,l){const c=s.data.field(o),f=l.data.field(o);return c!==null&&f!==null?bf(c,f):We(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return UF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX=new un(Fe.comparator);function $s(){return uX}const rq=new un(Fe.comparator);function Rh(...t){let e=rq;for(const n of t)e=e.insert(n.key,n);return e}function iq(t){let e=rq;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function mu(){return zh()}function oq(){return zh()}function zh(){return new Hu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const cX=new un(Fe.comparator),fX=new Fn(Fe.comparator);function pt(...t){let e=fX;for(const n of t)e=e.add(n);return e}const dX=new Fn(dt);function hX(){return dX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:av(e)?"-0":e}}function sq(t){return{integerValue:""+t}}function pX(t,e){return VJ(e)?sq(e):PI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this._=void 0}}function mX(t,e,n){return t instanceof fv?(function(i,o){const s={fields:{[qF]:{stringValue:FF},[$F]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&II(o)&&(o=H0(o)),o&&(s.fields[zF]=o),{mapValue:s}})(n,e):t instanceof fp?lq(t,e):t instanceof dp?uq(t,e):(function(i,o){const s=aq(i,o),l=EO(s)+EO(i.Ae);return aA(s)&&aA(i.Ae)?sq(l):PI(i.serializer,l)})(t,e)}function gX(t,e,n){return t instanceof fp?lq(t,e):t instanceof dp?uq(t,e):n}function aq(t,e){return t instanceof dv?(function(r){return aA(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class fv extends J0{}class fp extends J0{constructor(e){super(),this.elements=e}}function lq(t,e){const n=cq(e);for(const r of t.elements)n.some((i=>ss(i,r)))||n.push(r);return{arrayValue:{values:n}}}class dp extends J0{constructor(e){super(),this.elements=e}}function uq(t,e){let n=cq(e);for(const r of t.elements)n=n.filter((i=>!ss(i,r)));return{arrayValue:{values:n}}}class dv extends J0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function EO(t){return wn(t.integerValue||t.doubleValue)}function cq(t){return NI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yX(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof fp&&i instanceof fp||r instanceof dp&&i instanceof dp?vf(r.elements,i.elements,ss):r instanceof dv&&i instanceof dv?ss(r.Ae,i.Ae):r instanceof fv&&i instanceof fv})(t.transform,e.transform)}class vX{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class X0{}function fq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MI(t.key,Kr.none()):new um(t.key,t.data,Kr.none());{const n=t.data,r=zr.empty();let i=new Fn(ar.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xl(t.key,r,new ui(i.toArray()),Kr.none())}}function bX(t,e,n){t instanceof um?(function(i,o,s){const l=i.value.clone(),c=AO(i.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof xl?(function(i,o,s){if(!Hy(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=AO(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(dq(i)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function $h(t,e,n,r){return t instanceof um?(function(o,s,l,c){if(!Hy(o.precondition,s))return l;const f=o.value.clone(),h=CO(o.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof xl?(function(o,s,l,c){if(!Hy(o.precondition,s))return l;const f=CO(o.fieldTransforms,c,s),h=s.data;return h.setAll(dq(o)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,s,l){return Hy(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function xX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=aq(r.transform,i||null);o!=null&&(n===null&&(n=zr.empty()),n.set(r.field,o))}return n||null}function SO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vf(r,i,((o,s)=>yX(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class um extends X0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xl extends X0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dq(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function AO(t,e,n){const r=new Map;Pt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,gX(s,l,n[i]))}return r}function CO(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,mX(o,s,e))}return r}class MI extends X0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _X extends X0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&bX(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$h(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$h(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oq();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const c=fq(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),pt())}isEqual(e){return this.batchId===e.batchId&&vf(this.mutations,e.mutations,((n,r)=>SO(n,r)))&&vf(this.baseMutations,e.baseMutations,((n,r)=>SO(n,r)))}}class OI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return cX})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new OI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,vt;function SX(t){switch(t){case be.OK:return We(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return We(15467,{code:t})}}function hq(t){if(t===void 0)return zs("GRPC error has no .code"),be.UNKNOWN;switch(t){case kn.OK:return be.OK;case kn.CANCELLED:return be.CANCELLED;case kn.UNKNOWN:return be.UNKNOWN;case kn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case kn.INTERNAL:return be.INTERNAL;case kn.UNAVAILABLE:return be.UNAVAILABLE;case kn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case kn.NOT_FOUND:return be.NOT_FOUND;case kn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case kn.ABORTED:return be.ABORTED;case kn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case kn.DATA_LOSS:return be.DATA_LOSS;default:return We(39323,{code:t})}}(vt=kn||(kn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CX=new nl([4294967295,4294967295],0);function IO(t){const e=AX().encode(t),n=new IF;return n.update(e),new Uint8Array(n.digest())}function NO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new nl([n,r],0),new nl([i,o],0)]}class DI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kh(`Invalid padding: ${n}`);if(r<0)throw new kh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=nl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(nl.fromNumber(r)));return i.compare(CX)===1&&(i=new nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=IO(e),[r,i]=NO(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new DI(o,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const n=IO(e),[r,i]=NO(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Q0(Qe.min(),i,new un(dt),$s(),pt())}}class cm{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cm(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class pq{constructor(e,n){this.targetId=e,this.Ce=n}}class mq{constructor(e,n,r=ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class RO{constructor(){this.ve=0,this.Fe=kO(),this.Me=ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),n=pt(),r=pt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:We(38017,{changeType:o})}})),new cm(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=kO()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class IX{constructor(e){this.Ge=e,this.ze=new Map,this.je=$s(),this.He=hy(),this.Je=hy(),this.Ze=new un(dt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:We(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(uA(o))if(r===0){const s=new Fe(o.path);this.et(n,s,mr.newNoDocument(s,Qe.min()))}else Pt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const l=this.ut(e),c=l?this.ct(l,e,s):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=cl(r).toUint8Array()}catch(c){if(c instanceof BF)return Mu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new DI(s,i,o)}catch(c){return Mu(c instanceof kh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,s)=>{const l=this.ot(s);if(l){if(o.current&&uA(l.target)){const c=new Fe(l.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,mr.newNoDocument(c,e))}o.Be&&(n.set(s,o.ke()),o.Ke())}}));let r=pt();this.Je.forEach(((o,s)=>{let l=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new Q0(e,n,this.Ze,this.je,r);return this.je=$s(),this.He=hy(),this.Je=hy(),this.Ze=new un(dt),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new RO,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Fn(dt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Fn(dt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new RO),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hy(){return new un(Fe.comparator)}function kO(){return new un(Fe.comparator)}const NX={asc:"ASCENDING",desc:"DESCENDING"},RX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kX={and:"AND",or:"OR"};class PX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dA(t,e){return t.useProto3Json||G0(e)?e:{value:e}}function hv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MX(t,e){return hv(t,e.toTimestamp())}function Xo(t){return Pt(!!t,49232),Qe.fromTimestamp((function(n){const r=ul(n);return new nn(r.seconds,r.nanos)})(t))}function LI(t,e){return hA(t,e).canonicalString()}function hA(t,e){const n=(function(i){return new Xt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function yq(t){const e=Xt.fromString(t);return Pt(wq(e),10190,{key:e.toString()}),e}function pA(t,e){return LI(t.databaseId,e.path)}function pw(t,e){const n=yq(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fe(bq(n))}function vq(t,e){return LI(t.databaseId,e)}function OX(t){const e=yq(t);return e.length===4?Xt.emptyPath():bq(e)}function mA(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bq(t){return Pt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PO(t,e,n){return{name:pA(t,e),fields:n.value.mapValue.fields}}function DX(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:We(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(Pt(h===void 0||typeof h=="string",58123),ur.fromBase64String(h||"")):(Pt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ur.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(f){const h=f.code===void 0?be.UNKNOWN:hq(f.code);return new Pe(h,f.message||"")})(s);n=new mq(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pw(t,r.document.name),o=Xo(r.document.updateTime),s=r.document.createTime?Xo(r.document.createTime):Qe.min(),l=new zr({mapValue:{fields:r.document.fields}}),c=mr.newFoundDocument(i,o,s,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Ky(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pw(t,r.document),o=r.readTime?Xo(r.readTime):Qe.min(),s=mr.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Ky([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pw(t,r.document),o=r.removedTargetIds||[];n=new Ky([],o,i,null)}else{if(!("filter"in e))return We(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new EX(i,o),l=r.targetId;n=new pq(l,s)}}return n}function LX(t,e){let n;if(e instanceof um)n={update:PO(t,e.key,e.value)};else if(e instanceof MI)n={delete:pA(t,e.key)};else if(e instanceof xl)n={update:PO(t,e.key,e.data),updateMask:GX(e.fieldMask)};else{if(!(e instanceof _X))return We(16599,{dt:e.type});n={verify:pA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const l=s.transform;if(l instanceof fv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof fp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof dp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof dv)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw We(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:MX(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:We(27497)})(t,e.precondition)),n}function jX(t,e){return t&&t.length>0?(Pt(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?Xo(i.updateTime):Xo(o);return s.isEqual(Qe.min())&&(s=Xo(o)),new vX(s,i.transformResults||[])})(n,e)))):[]}function VX(t,e){return{documents:[vq(t,e.path)]}}function UX(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vq(t,i);const o=(function(f){if(f.length!==0)return _q(go.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const s=(function(f){if(f.length!==0)return f.map((h=>(function(y){return{field:Kc(y.field),direction:qX(y.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=dA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function BX(t){let e=OX(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){const y=xq(p);return y instanceof go&&JF(y)?y.getFilters():[y]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((y=>(function(S){return new cp(Wc(S.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let y;return y=typeof p=="object"?p.value:p,G0(y)?null:y})(n.limit));let c=null;n.startAt&&(c=(function(p){const y=!!p.before,_=p.values||[];return new cv(_,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const y=!p.before,_=p.values||[];return new cv(_,y)})(n.endAt)),rX(e,i,s,o,l,"F",c,f)}function FX(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xq(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wc(n.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wc(n.unaryFilter.field);return Pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wc(n.unaryFilter.field);return Pn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wc(n.unaryFilter.field);return Pn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return We(61313);default:return We(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pn.create(Wc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return We(58110);default:return We(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return go.create(n.compositeFilter.filters.map((r=>xq(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return We(1026)}})(n.compositeFilter.op))})(t):We(30097,{filter:t})}function qX(t){return NX[t]}function zX(t){return RX[t]}function $X(t){return kX[t]}function Kc(t){return{fieldPath:t.canonicalString()}}function Wc(t){return ar.fromServerFormat(t.fieldPath)}function _q(t){return t instanceof Pn?(function(n){if(n.op==="=="){if(bO(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NAN"}};if(vO(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bO(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NAN"}};if(vO(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kc(n.field),op:zX(n.op),value:n.value}}})(t):t instanceof go?(function(n){const r=n.getFilters().map((i=>_q(i)));return r.length===1?r[0]:{compositeFilter:{op:$X(n.op),filters:r}}})(t):We(54877,{filter:t})}function GX(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function wq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Tq(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r,i,o=Qe.min(),s=Qe.min(),l=ur.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(e){this.yt=e}}function KX(t){const e=BX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(){this.Sn=new YX}addToCollectionParentIndex(e,n){return this.Sn.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(ll.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class YX{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fn(Xt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eq=41943040;class Vr{static withCacheSize(e){return new Vr(e,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(Eq,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _f(0)}static ar(){return new _f(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="LruGarbageCollector",JX=1048576;function DO([t,e],[n,r]){const i=dt(t,n);return i===0?dt(e,r):i}class XX{constructor(e){this.Pr=e,this.buffer=new Fn(DO),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();DO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Oe(OO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Kf(n)?Oe(OO,"Ignoring IndexedDB error during garbage collection: ",n):await Hf(n)}await this.Ar(3e5)}))}}class ZX{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return we.resolve($0.ce);const r=new XX(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(MO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MO):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,s,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Gc()<=ft.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function eQ(t,e){return new ZX(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(){this.changes=new Hu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&$h(r.mutation,i,ui.empty(),nn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,pt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=pt()){const i=mu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=Rh();return o.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=mu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,pt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let o=$s();const s=zh(),l=(function(){return zh()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof xl)?o=o.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),$h(h.mutation,f,h.mutation.getFieldMask(),nn.now())):s.set(f.key,ui.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>l.set(f,new nQ(h,s.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=zh();let i=new un(((s,l)=>s-l)),o=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||ui.empty();h=l.applyToLocalView(f,h),r.set(c,h);const p=(i.get(l.batchId)||pt()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=oq();h.forEach((y=>{if(!o.has(y)){const _=fq(n.get(y),r.get(y));_!==null&&p.set(y,_),o=o.add(y)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return we.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return iX(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):we.resolve(mu());let l=sp,c=o;return s.next((f=>we.forEach(f,((h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(h)?we.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{c=c.insert(h,y)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,pt()))).next((h=>({batchId:l,changes:iq(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Fe(n)).next((r=>{let i=Rh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Rh();return this.indexManager.getCollectionParents(e,o).next((l=>we.forEach(l,(c=>{const f=(function(p,y){return new Wf(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,y)=>{s=s.insert(p,y)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,mr.newInvalidDocument(h)))}));let l=Rh();return s.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&$h(h.mutation,f,ui.empty(),nn.now()),Y0(n,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return we.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Xo(i.createTime)}})(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:KX(i.bundledQuery),readTime:Xo(i.readTime)}})(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(){this.overlays=new un(Fe.comparator),this.Lr=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mu();return we.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),we.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const i=mu(),o=n.length+1,s=new Fe(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return we.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new un(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=mu(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=mu(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return we.resolve(l)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new TX(n,r));let o=this.Lr.get(n);o===void 0&&(o=pt(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(){this.sessionToken=ur.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.kr=new Fn(Wn.Kr),this.qr=new Fn(Wn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Wn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Fe(new Xt([])),r=new Wn(n,e),i=new Wn(n,e+1),o=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),o.push(s.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Fe(new Xt([])),r=new Wn(n,e),i=new Wn(n,e+1);let o=pt();return this.qr.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new Wn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Fe.comparator(e.key,n.key)||dt(e.Hr,n.Hr)}static Ur(e,n){return dt(e.Hr,n.Hr)||Fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Fn(Wn.Kr)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new wX(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Jr=this.Jr.add(new Wn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return we.resolve(s)}lookupMutationBatch(e,n){return we.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return we.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?CI:this.Yn-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(s=>{const l=this.Zr(s.Hr);o.push(l)})),we.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(dt);return n.forEach((i=>{const o=new Wn(i,0),s=new Wn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],(l=>{r=r.add(l.Hr)}))})),we.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Fe.isDocumentKey(o)||(o=o.child(""));const s=new Wn(new Fe(o),0);let l=new Fn(dt);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Hr)),!0)}),s),we.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Pt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return we.forEach(n.mutations,(i=>{const o=new Wn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Jr.firstAfterOrEqual(r);return we.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e){this.ti=e,this.docs=(function(){return new un(Fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=$s();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mr.newInvalidDocument(i))})),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$s();const s=n.path,l=new Fe(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||OJ(MJ(h),r)<=0||(i.has(h.key)||Y0(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return we.resolve(o)}getAllFromCollectionGroup(e,n,r,i){We(9500)}ni(e,n){return we.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new uQ(this)}getSize(e){return we.resolve(this.size)}}class uQ extends tQ{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),we.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e){this.persistence=e,this.ri=new Hu((n=>RI(n)),kI),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ii=0,this.si=new jI,this.targetCount=0,this.oi=_f._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),we.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new _f(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.lr(n),we.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),we.waitFor(o).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),we.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),we.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e,n){this._i={},this.overlays={},this.ai=new $0(0),this.ui=!1,this.ui=!0,this.ci=new sQ,this.referenceDelegate=e(this),this.li=new cQ(this),this.indexManager=new WX,this.remoteDocumentCache=(function(i){return new lQ(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new HX(n),this.Pi=new iQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new aQ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Oe("MemoryPersistence","Starting transaction:",e);const i=new fQ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return we.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class fQ extends LJ{constructor(e){super(),this.currentSequenceNumber=e}}class VI{constructor(e){this.persistence=e,this.Ri=new jI,this.Ai=null}static Vi(e){return new VI(e)}get di(){if(this.Ai)return this.Ai;throw We(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),we.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.di,(r=>{const i=Fe.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,Qe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return we.or([()=>we.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class pv{constructor(e,n){this.persistence=e,this.fi=new Hu((r=>UJ(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=eQ(this,n)}static Vi(e,n){return new pv(e,n)}Ti(){}Ii(e){return we.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return we.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?we.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((l=>{l||(r++,o.removeEntry(s,Qe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),we.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),we.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),we.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$y(e.data.value)),n}wr(e,n,r){return we.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return we.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=pt(),i=pt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new UI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return tY()?8:jJ(vr())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new dQ;return this.ys(e,n,s).next((l=>{if(o.result=l,this.As)return this.ws(e,n,s,l.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Gc()<=ft.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",Hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),we.resolve()):(Gc()<=ft.DEBUG&&Oe("QueryEngine","Query:",Hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Gc()<=ft.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",Hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jo(n))):we.resolve())}gs(e,n){if(TO(n))return we.resolve(null);let r=Jo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=fA(n,null,"F"),r=Jo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=pt(...o);return this.fs.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,l);return this.Ss(n,f,s,c.readTime)?this.gs(e,fA(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return TO(n)||i.isEqual(Qe.min())?we.resolve(null):this.fs.getDocuments(e,r).next((o=>{const s=this.bs(n,o);return this.Ss(n,s,r,i)?we.resolve(null):(Gc()<=ft.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hc(n)),this.Ds(e,s,n,PJ(i,sp)).next((l=>l)))}))}bs(e,n){let r=new Fn(nq(e));return n.forEach(((i,o)=>{Y0(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return Gc()<=ft.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Hc(n)),this.fs.getDocumentsMatchingQuery(e,n,ll.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="LocalStore",pQ=3e8;class mQ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new un(dt),this.Fs=new Hu((o=>RI(o)),kI),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rQ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function gQ(t,e,n,r){return new mQ(t,e,n,r)}async function Aq(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],l=[];let c=pt();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function yQ(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const p=f.batch,y=p.keys();let _=we.resolve();return y.forEach((S=>{_=_.next((()=>h.getEntry(c,S))).next((A=>{const E=f.docVersions.get(S);Pt(E!==null,48541),A.version.compareTo(E)<0&&(p.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),h.addEntry(A)))}))})),_.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=pt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Cq(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function vQ(t,e){const n=tt(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];e.targetChanges.forEach(((h,p)=>{const y=i.get(p);if(!y)return;l.push(n.li.removeMatchingKeys(o,h.removedDocuments,p).next((()=>n.li.addMatchingKeys(o,h.addedDocuments,p))));let _=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(ur.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(p,_),(function(A,E,M){return A.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=pQ?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(y,_,h)&&l.push(n.li.updateTargetData(o,_))}));let c=$s(),f=pt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),l.push(bQ(o,s,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!r.isEqual(Qe.min())){const h=n.li.getLastRemoteSnapshotVersion(o).next((p=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));l.push(h)}return we.waitFor(l).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(n.vs=i,o)))}function bQ(t,e,n){let r=pt(),i=pt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let s=$s();return n.forEach(((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):Oe(BI,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function xQ(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=CI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _Q(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((o=>o?(i=o,we.resolve(i)):n.li.allocateTargetId(r).next((s=>(i=new Ja(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function gA(t,e,n){const r=tt(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Kf(s))throw s;Oe(BI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function LO(t,e,n){const r=tt(t);let i=Qe.min(),o=pt();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const p=tt(c),y=p.Fs.get(h);return y!==void 0?we.resolve(p.vs.get(y)):p.li.getTargetData(f,h)})(r,s,Jo(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,l.targetId).next((c=>{o=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Qe.min(),n?o:pt()))).next((l=>(wQ(r,aX(e),l),{documents:l,ks:o})))))}function wQ(t,e,n){let r=t.Ms.get(e)||Qe.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class jO{constructor(){this.activeTargetIds=hX()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TQ{constructor(){this.vo=new jO,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new jO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="ConnectivityMonitor";class UO{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Oe(VO,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Oe(VO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let py=null;function yA(){return py===null?py=(function(){return 268435456+Math.round(2147483648*Math.random())})():py++,"0x"+py.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="RestConnection",SQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class AQ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===lv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=yA(),l=this.Qo(e,n.toUriEncodedString());Oe(mw,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,o);const{host:f}=new URL(l),h=yl(f);return this.zo(e,l,c,r,h).then((p=>(Oe(mw,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw Mu(mw,`RPC '${e}' ${s} failed with error: `,p,"url: ",l,"request:",r),p}))}jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=SQ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="WebChannelConnection",uh=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class af extends AQ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!af.c_){const e=PF();uh(e,kF.STAT_EVENT,(n=>{n.stat===iA.PROXY?Oe(fr,"STAT_EVENT: detected buffering proxy"):n.stat===iA.NOPROXY&&Oe(fr,"STAT_EVENT: detected no buffering proxy")})),af.c_=!0}}zo(e,n,r,i,o){const s=yA();return new Promise(((l,c)=>{const f=new NF;f.setWithCredentials(!0),f.listenOnce(RF.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case zy.NO_ERROR:const p=f.getResponseJson();Oe(fr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case zy.TIMEOUT:Oe(fr,`RPC '${e}' ${s} timed out`),c(new Pe(be.DEADLINE_EXCEEDED,"Request time out"));break;case zy.HTTP_ERROR:const y=f.getStatus();if(Oe(fr,`RPC '${e}' ${s} failed with status:`,y,"response text:",f.getResponseText()),y>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const A=(function(M){const I=M.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(I)>=0?I:be.UNKNOWN})(S.status);c(new Pe(A,S.message))}else c(new Pe(be.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Pe(be.UNAVAILABLE,"Connection failed."));break;default:We(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Oe(fr,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);Oe(fr,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=yA(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");Oe(fr,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=s.createWebChannel(f,l);this.I_(h);let p=!1,y=!1;const _=new CQ({Ho:S=>{y?Oe(fr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(Oe(fr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Oe(fr,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return uh(h,Nh.EventType.OPEN,(()=>{y||(Oe(fr,`RPC '${e}' stream ${i} transport opened.`),_.i_())})),uh(h,Nh.EventType.CLOSE,(()=>{y||(y=!0,Oe(fr,`RPC '${e}' stream ${i} transport closed`),_.o_(),this.E_(h))})),uh(h,Nh.EventType.ERROR,(S=>{y||(y=!0,Mu(fr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),_.o_(new Pe(be.UNAVAILABLE,"The operation could not be completed")))})),uh(h,Nh.EventType.MESSAGE,(S=>{var A;if(!y){const E=S.data[0];Pt(!!E,16349);const M=E,I=(M==null?void 0:M.error)||((A=M[0])==null?void 0:A.error);if(I){Oe(fr,`RPC '${e}' stream ${i} received error:`,I);const N=I.status;let C=(function(P){const O=kn[P];if(O!==void 0)return hq(O)})(N),R=I.message;N==="NOT_FOUND"&&R.includes("database")&&R.includes("does not exist")&&R.includes(this.databaseId.database)&&Mu(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),C===void 0&&(C=be.INTERNAL,R="Unknown error status: "+N+" with message "+I.message),y=!0,_.o_(new Pe(C,R)),h.close()}else Oe(fr,`RPC '${e}' stream ${i} received:`,E),_.__(E)}})),af.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return MF()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IQ(t){return new af(t)}function gw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t){return new PX(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */af.c_=!1;class Iq{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="PersistentStream";class Nq{constructor(e,n,r,i,o,s,l,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Iq(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(zs(n.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Pe(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Oe(BO,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Oe(BO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NQ extends Nq{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DX(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Qe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Qe.min():s.readTime?Xo(s.readTime):Qe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=mA(this.serializer),n.addTarget=(function(o,s){let l;const c=s.target;if(l=uA(c)?{documents:VX(o,c)}:{query:UX(o,c).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=gq(o,s.resumeToken);const f=dA(o,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Qe.min())>0){l.readTime=hv(o,s.snapshotVersion.toTimestamp());const f=dA(o,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=FX(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=mA(this.serializer),n.removeTarget=e,this.K_(n)}}class RQ extends Nq{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jX(e.writeResults,e.commitTime),r=Xo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=mA(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>LX(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{}class PQ extends kQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Pe(be.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Wo(e,hA(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(be.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.jo(e,hA(n,r),i,s,l,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(be.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function MQ(t,e,n,r){return new PQ(t,e,n,r)}class OQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(n),this.aa=!1):Oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="RemoteStore";class DQ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{Ku(this)&&(Oe(Ou,"Restarting streams for network reachability change."),await(async function(c){const f=tt(c);f.Ea.add(4),await fm(f),f.Va.set("Unknown"),f.Ea.delete(4),await eb(f)})(this))}))})),this.Va=new OQ(r,i)}}async function eb(t){if(Ku(t))for(const e of t.Ra)await e(!0)}async function fm(t){for(const e of t.Ra)await e(!1)}function Rq(t,e){const n=tt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$I(n)?zI(n):Yf(n).O_()&&qI(n,e))}function FI(t,e){const n=tt(t),r=Yf(n);n.Ia.delete(e),r.O_()&&kq(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ku(n)&&n.Va.set("Unknown"))}function qI(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yf(t).Z_(e)}function kq(t,e){t.da.$e(e),Yf(t).X_(e)}function zI(t){t.da=new IX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Yf(t).start(),t.Va.ua()}function $I(t){return Ku(t)&&!Yf(t).x_()&&t.Ia.size>0}function Ku(t){return tt(t).Ea.size===0}function Pq(t){t.da=void 0}async function LQ(t){t.Va.set("Online")}async function jQ(t){t.Ia.forEach(((e,n)=>{qI(t,e)}))}async function VQ(t,e){Pq(t),$I(t)?(t.Va.ha(e),zI(t)):t.Va.set("Unknown")}async function UQ(t,e,n){if(t.Va.set("Online"),e instanceof mq&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const l of o.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.da.removeTarget(l))})(t,e)}catch(r){Oe(Ou,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mv(t,r)}else if(e instanceof Ky?t.da.Xe(e):e instanceof pq?t.da.st(e):t.da.tt(e),!n.isEqual(Qe.min()))try{const r=await Cq(t.localStore);n.compareTo(r)>=0&&await(function(o,s){const l=o.da.Tt(s);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(f);h&&o.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,f)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(ur.EMPTY_BYTE_STRING,h.snapshotVersion)),kq(o,c);const p=new Ja(h.target,c,f,h.sequenceNumber);qI(o,p)})),o.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Oe(Ou,"Failed to raise snapshot:",r),await mv(t,r)}}async function mv(t,e,n){if(!Kf(e))throw e;t.Ea.add(1),await fm(t),t.Va.set("Offline"),n||(n=()=>Cq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Oe(Ou,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await eb(t)}))}function Mq(t,e){return e().catch((n=>mv(t,n,e)))}async function tb(t){const e=tt(t),n=dl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:CI;for(;BQ(e);)try{const i=await xQ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,FQ(e,i)}catch(i){await mv(e,i)}Oq(e)&&Dq(e)}function BQ(t){return Ku(t)&&t.Ta.length<10}function FQ(t,e){t.Ta.push(e);const n=dl(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Oq(t){return Ku(t)&&!dl(t).x_()&&t.Ta.length>0}function Dq(t){dl(t).start()}async function qQ(t){dl(t).ra()}async function zQ(t){const e=dl(t);for(const n of t.Ta)e.ea(n.mutations)}async function $Q(t,e,n){const r=t.Ta.shift(),i=OI.from(r,e,n);await Mq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await tb(t)}async function GQ(t,e){e&&dl(t).Y_&&await(async function(r,i){if((function(s){return SX(s)&&s!==be.ABORTED})(i.code)){const o=r.Ta.shift();dl(r).B_(),await Mq(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await tb(r)}})(t,e),Oq(t)&&Dq(t)}async function FO(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),Oe(Ou,"RemoteStore received new credentials");const r=Ku(n);n.Ea.add(3),await fm(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await eb(n)}async function HQ(t,e){const n=tt(t);e?(n.Ea.delete(2),await eb(n)):e||(n.Ea.add(2),await fm(n),n.Va.set("Unknown"))}function Yf(t){return t.ma||(t.ma=(function(n,r,i){const o=tt(n);return o.sa(),new NQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:LQ.bind(null,t),Yo:jQ.bind(null,t),t_:VQ.bind(null,t),J_:UQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),$I(t)?zI(t):t.Va.set("Unknown")):(await t.ma.stop(),Pq(t))}))),t.ma}function dl(t){return t.fa||(t.fa=(function(n,r,i){const o=tt(n);return o.sa(),new RQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:qQ.bind(null,t),t_:GQ.bind(null,t),ta:zQ.bind(null,t),na:$Q.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await tb(t)):(await t.fa.stop(),t.Ta.length>0&&(Oe(Ou,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new GI(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function HI(t,e){if(zs("AsyncQueue",`${e}: ${t}`),Kf(t))return new Pe(be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{static emptySet(e){return new lf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Fe.comparator(n.key,r.key):(n,r)=>Fe.comparator(n.key,r.key),this.keyedMap=Rh(),this.sortedSet=new un(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.ga=new un(Fe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):We(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class wf{constructor(e,n,r,i,o,s,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new wf(e,n,lf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&W0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class WQ{constructor(){this.queries=zO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=tt(n),o=i.queries;i.queries=zO(),o.forEach(((s,l)=>{for(const c of l.ba)c.onError(r)}))})(this,new Pe(be.ABORTED,"Firestore shutting down"))}}function zO(){return new Hu((t=>tq(t)),W0)}async function KI(t,e){const n=tt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new KQ,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=HI(s,`Initialization of query '${Hc(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&YI(n)}async function WI(t,e){const n=tt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YQ(t,e){const n=tt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.ba)l.Fa(i)&&(r=!0);s.wa=i}}r&&YI(n)}function JQ(t,e,n){const r=tt(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function YI(t){t.Ca.forEach((e=>{e.next()}))}var vA,$O;($O=vA||(vA={})).Ma="default",$O.Cache="cache";class JI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e){this.key=e}}class jq{constructor(e){this.key=e}}class XQ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pt(),this.mutatedKeys=pt(),this.eu=nq(e),this.tu=new lf(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new qO,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const y=i.get(h),_=Y0(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let E=!1;y&&_?y.data.isEqual(_.data)?S!==A&&(r.track({type:3,doc:_}),E=!0):this.su(y,_)||(r.track({type:2,doc:_}),E=!0,(c&&this.eu(_,c)>0||f&&this.eu(_,f)<0)&&(l=!0)):!y&&_?(r.track({type:0,doc:_}),E=!0):y&&!_&&(r.track({type:1,doc:y}),E=!0,(c||f)&&(l=!0)),E&&(_?(s=s.add(_),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,p)=>(function(_,S){const A=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We(20277,{Vt:E})}};return A(_)-A(S)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,s.length!==0||f?{snapshot:new wf(this.query,e.tu,o,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qO,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new jq(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Lq(r))})),n}cu(e){this.Za=e.ks,this.Ya=pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const XI="SyncEngine";class QQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZQ{constructor(e){this.key=e,this.hu=!1}}class eZ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Hu((l=>tq(l)),W0),this.Iu=new Map,this.Eu=new Set,this.Ru=new un(Fe.comparator),this.Au=new Map,this.Vu=new jI,this.du={},this.mu=new Map,this.fu=_f.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tZ(t,e,n=!0){const r=zq(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Vq(r,e,n,!0),i}async function nZ(t,e){const n=zq(t);await Vq(n,e,!0,!1)}async function Vq(t,e,n,r){const i=await _Q(t.localStore,Jo(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await rZ(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Rq(t.remoteStore,i),l}async function rZ(t,e,n,r,i){t.pu=(p,y,_)=>(async function(A,E,M,I){let N=E.view.ru(M);N.Ss&&(N=await LO(A.localStore,E.query,!1).then((({documents:P})=>E.view.ru(P,N))));const C=I&&I.targetChanges.get(E.targetId),R=I&&I.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(N,A.isPrimaryClient,C,R);return HO(A,E.targetId,L.au),L.snapshot})(t,p,y,_);const o=await LO(t.localStore,e,!0),s=new XQ(e,o.ks),l=s.ru(o.documents),c=cm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);HO(t,n,f.au);const h=new QQ(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function iZ(t,e,n){const r=tt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((s=>!W0(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gA(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&FI(r.remoteStore,i.targetId),bA(r,i.targetId)})).catch(Hf)):(bA(r,i.targetId),await gA(r.localStore,i.targetId,!0))}async function oZ(t,e){const n=tt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),FI(n.remoteStore,r.targetId))}async function sZ(t,e,n){const r=hZ(t);try{const i=await(function(s,l){const c=tt(s),f=nn.now(),h=l.reduce(((_,S)=>_.add(S.key)),pt());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=$s(),A=pt();return c.xs.getEntries(_,h).next((E=>{S=E,S.forEach(((M,I)=>{I.isValidDocument()||(A=A.add(M))}))})).next((()=>c.localDocuments.getOverlayedDocuments(_,S))).next((E=>{p=E;const M=[];for(const I of l){const N=xX(I,p.get(I.key).overlayedDocument);N!=null&&M.push(new xl(I.key,N,KF(N.value.mapValue),Kr.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,M,l)})).next((E=>{y=E;const M=E.applyToLocalDocumentSet(p,A);return c.documentOverlayCache.saveOverlays(_,E.batchId,M)}))})).then((()=>({batchId:y.batchId,changes:iq(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let f=s.du[s.currentUser.toKey()];f||(f=new un(dt)),f=f.insert(l,c),s.du[s.currentUser.toKey()]=f})(r,i.batchId,n),await dm(r,i.changes),await tb(r.remoteStore)}catch(i){const o=HI(i,"Failed to persist write");n.reject(o)}}async function Uq(t,e){const n=tt(t);try{const r=await vQ(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=n.Au.get(o);s&&(Pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Pt(s.hu,14607):i.removedDocuments.size>0&&(Pt(s.hu,42227),s.hu=!1))})),await dm(n,r,e)}catch(r){await Hf(r)}}function GO(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=tt(s);c.onlineState=l;let f=!1;c.queries.forEach(((h,p)=>{for(const y of p.ba)y.va(l)&&(f=!0)})),f&&YI(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aZ(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new un(Fe.comparator);s=s.insert(o,mr.newNoDocument(o,Qe.min()));const l=pt().add(o),c=new Q0(Qe.min(),new Map,new un(dt),s,l);await Uq(r,c),r.Ru=r.Ru.remove(o),r.Au.delete(e),QI(r)}else await gA(r.localStore,e,!1).then((()=>bA(r,e,n))).catch(Hf)}async function lZ(t,e){const n=tt(t),r=e.batch.batchId;try{const i=await yQ(n.localStore,e);Fq(n,r,null),Bq(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dm(n,i)}catch(i){await Hf(i)}}async function uZ(t,e,n){const r=tt(t);try{const i=await(function(s,l){const c=tt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((p=>(Pt(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);Fq(r,e,n),Bq(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dm(r,i)}catch(i){await Hf(i)}}function Bq(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Fq(t,e,n){const r=tt(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function bA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||qq(t,r)}))}function qq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(FI(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),QI(t))}function HO(t,e,n){for(const r of n)r instanceof Lq?(t.Vu.addReference(r.key,e),cZ(t,r)):r instanceof jq?(Oe(XI,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||qq(t,r.key)):We(19791,{wu:r})}function cZ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Oe(XI,"New document in limbo: "+n),t.Eu.add(r),QI(t))}function QI(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Fe(Xt.fromString(e)),r=t.fu.next();t.Au.set(r,new ZQ(n)),t.Ru=t.Ru.insert(n,r),Rq(t.remoteStore,new Ja(Jo(K0(n.path)),r,"TargetPurposeLimboResolution",$0.ce))}}async function dm(t,e,n){const r=tt(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{s.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=UI.Es(c.targetId,f);o.push(p)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(c,f){const h=tt(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>we.forEach(f,(y=>we.forEach(y.Ts,(_=>h.persistence.referenceDelegate.addReference(p,y.targetId,_))).next((()=>we.forEach(y.Is,(_=>h.persistence.referenceDelegate.removeReference(p,y.targetId,_)))))))))}catch(p){if(!Kf(p))throw p;Oe(BI,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const _=h.vs.get(y),S=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(y,A)}}})(r.localStore,o))}async function fZ(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){Oe(XI,"User change. New user:",e.toKey());const r=await Aq(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((l=>{l.forEach((c=>{c.reject(new Pe(be.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dm(n,r.Ns)}}function dZ(t,e){const n=tt(t),r=n.Au.get(e);if(r&&r.hu)return pt().add(r.key);{let i=pt();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const l=n.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function zq(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aZ.bind(null,e),e.Pu.J_=YQ.bind(null,e.eventManager),e.Pu.yu=JQ.bind(null,e.eventManager),e}function hZ(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uZ.bind(null,e),e}class gv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Z0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gQ(this.persistence,new hQ,e.initialUser,this.serializer)}Cu(e){return new Sq(VI.Vi,this.serializer)}Du(e){return new TQ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gv.provider={build:()=>new gv};class pZ extends gv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Pt(this.persistence.referenceDelegate instanceof pv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new Sq((r=>pv.Vi(r,n)),this.serializer)}}class xA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fZ.bind(null,this.syncEngine),await HQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WQ})()}createDatastore(e){const n=Z0(e.databaseInfo.databaseId),r=IQ(e.databaseInfo);return MQ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,l){return new DQ(r,i,o,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>GO(this.syncEngine,n,0)),(function(){return UO.v()?new UO:new EQ})())}createSyncEngine(e,n){return(function(i,o,s,l,c,f,h){const p=new eZ(i,o,s,l,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=tt(i);Oe(Ou,"RemoteStore shutting down."),o.Ea.add(5),await fm(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}xA.provider={build:()=>new xA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="FirestoreClient";class mZ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=AI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{Oe(hl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Oe(hl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=HI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function yw(t,e){t.asyncQueue.verifyOperationInProgress(),Oe(hl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Aq(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function KO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gZ(t);Oe(hl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>FO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>FO(e.remoteStore,i))),t._onlineComponents=e}async function gZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Oe(hl,"Using user provided OfflineComponentProvider");try{await yw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===be.FAILED_PRECONDITION||i.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Mu("Error using user provided cache. Falling back to memory cache: "+n),await yw(t,new gv)}}else Oe(hl,"Using default OfflineComponentProvider"),await yw(t,new pZ(void 0));return t._offlineComponents}async function $q(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Oe(hl,"Using user provided OnlineComponentProvider"),await KO(t,t._uninitializedComponentsProvider._online)):(Oe(hl,"Using default OnlineComponentProvider"),await KO(t,new xA))),t._onlineComponents}function yZ(t){return $q(t).then((e=>e.syncEngine))}async function yv(t){const e=await $q(t),n=e.eventManager;return n.onListen=tZ.bind(null,e.syncEngine),n.onUnlisten=iZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oZ.bind(null,e.syncEngine),n}function vZ(t,e,n,r){const i=new ZI(r),o=new JI(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>KI(await yv(t),o))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>WI(await yv(t),o)))}}function bZ(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,l,c,f){const h=new ZI({next:y=>{h.Nu(),s.enqueueAndForget((()=>WI(o,p)));const _=y.docs.has(l);!_&&y.fromCache?f.reject(new Pe(be.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&c&&c.source==="server"?f.reject(new Pe(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new JI(K0(l.path),h,{includeMetadataChanges:!0,Ka:!0});return KI(o,p)})(await yv(t),t.asyncQueue,e,n,r))),r.promise}function xZ(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,l,c,f){const h=new ZI({next:y=>{h.Nu(),s.enqueueAndForget((()=>WI(o,p))),y.fromCache&&c.source==="server"?f.reject(new Pe(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new JI(l,h,{includeMetadataChanges:!0,Ka:!0});return KI(o,p)})(await yv(t),t.asyncQueue,e,n,r))),r.promise}function _Z(t,e){const n=new js;return t.asyncQueue.enqueueAndForget((async()=>sZ(await yZ(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ="ComponentProvider",WO=new Map;function TZ(t,e,n,r,i){return new qJ(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Gq(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq="firestore.googleapis.com",YO=!0;class JO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hq,this.ssl=YO}else this.host=e.host,this.ssl=e.ssl??YO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Eq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JX)throw new Pe(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Pe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Pe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Pe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _J;switch(r.type){case"firstParty":return new SJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=WO.get(n);r&&(Oe(wZ,"Removing Datastore"),WO.delete(n),r.terminate())})(this),Promise.resolve()}}function EZ(t,e,n,r={}){var f;t=Hr(t,nb);const i=yl(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(bI(`https://${l}`),xI("Firestore",!0)),o.host!==Hq&&o.host!==l&&Mu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:i,emulatorOptions:r};if(!al(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=pr.MOCK_USER;else{h=xF(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Pe(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new pr(y)}t._authCredentials=new wJ(new DF(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _l(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lm(n,dn._jsonSchema))return new dn(e,r||null,new Fe(Xt.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:On("string",dn._jsonSchemaVersion),referencePath:On("string")};class rl extends _l{constructor(e,n,r){super(e,n,K0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new Fe(e))}withConverter(e){return new rl(this.firestore,e,this._path)}}function jn(t,e,...n){if(t=Gt(t),LF("collection","path",e),t instanceof nb){const r=Xt.fromString(e,...n);return uO(r),new rl(t,null,r)}{if(!(t instanceof dn||t instanceof rl))throw new Pe(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return uO(r),new rl(t.firestore,null,r)}}function Un(t,e,...n){if(t=Gt(t),arguments.length===1&&(e=AI.newId()),LF("doc","path",e),t instanceof nb){const r=Xt.fromString(e,...n);return lO(r),new dn(t,null,new Fe(r))}{if(!(t instanceof dn||t instanceof rl))throw new Pe(be.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return lO(r),new dn(t.firestore,t instanceof rl?t.converter:null,new Fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="AsyncQueue";class QO{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Iq(this,"async_queue_retry"),this._c=()=>{const r=gw();r&&Oe(XO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Kf(e))throw e;Oe(XO,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",ZO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=GI.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&We(47125,{Pc:ZO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ZO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Gs extends nb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new QO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QO(e),this._firestoreClient=void 0,await e}}}function SZ(t,e){const n=typeof t=="object"?t:q0(),r=typeof t=="string"?t:lv,i=vl(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=yF("firestore");o&&EZ(i,...o)}return i}function hm(t){if(t._terminated)throw new Pe(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AZ(t),t._firestoreClient}function AZ(t){var r,i,o,s;const e=t._freezeSettings(),n=TZ(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ji(ur.fromBase64String(e))}catch(n){throw new Pe(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ji(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lm(e,ji._jsonSchema))return ji.fromBase64String(e.bytes)}}ji._jsonSchemaVersion="firestore/bytes/1.0",ji._jsonSchema={type:On("string",ji._jsonSchemaVersion),bytes:On("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qo._jsonSchemaVersion}}static fromJSON(e){if(lm(e,Qo._jsonSchema))return new Qo(e.latitude,e.longitude)}}Qo._jsonSchemaVersion="firestore/geoPoint/1.0",Qo._jsonSchema={type:On("string",Qo._jsonSchemaVersion),latitude:On("number"),longitude:On("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:co._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lm(e,co._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new co(e.vectorValues);throw new Pe(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}co._jsonSchemaVersion="firestore/vectorValue/1.0",co._jsonSchema={type:On("string",co._jsonSchemaVersion),vectorValues:On("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CZ=/^__.*__$/;class IZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xl(e,this.data,this.fieldMask,n,this.fieldTransforms):new um(e,this.data,n,this.fieldTransforms)}}class Kq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We(40011,{dataSource:t})}}class tN{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new tN({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Wq(this.dataSource)&&CZ.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class NZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Z0(e)}createContext(e,n,r,i=!1){return new tN({dataSource:e,methodName:n,targetDoc:r,path:ar.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),n=Z0(t._databaseId);return new NZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nN(t,e,n,r,i,o={}){const s=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);rN("Data must be an object, but it was:",s,r);const l=Xq(r,s);let c,f;if(o.merge)c=new ui(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const y=Du(e,p,n);if(!s.contains(y))throw new Pe(be.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);ez(h,y)||h.push(y)}c=new ui(h),f=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=s.fieldTransforms;return new IZ(new zr(l),c,f)}class ib extends eN{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ib}}function Yq(t,e,n,r){const i=t.createContext(1,e,n);rN("Data must be an object, but it was:",i,r);const o=[],s=zr.empty();bl(r,((c,f)=>{const h=Zq(e,c,n);f=Gt(f);const p=i.childContextForFieldPath(h);if(f instanceof ib)o.push(h);else{const y=mm(f,p);y!=null&&(o.push(h),s.set(h,y))}}));const l=new ui(o);return new Kq(s,l,i.fieldTransforms)}function Jq(t,e,n,r,i,o){const s=t.createContext(1,e,n),l=[Du(e,r,n)],c=[i];if(o.length%2!=0)throw new Pe(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)l.push(Du(e,o[y])),c.push(o[y+1]);const f=[],h=zr.empty();for(let y=l.length-1;y>=0;--y)if(!ez(f,l[y])){const _=l[y];let S=c[y];S=Gt(S);const A=s.childContextForFieldPath(_);if(S instanceof ib)f.push(_);else{const E=mm(S,A);E!=null&&(f.push(_),h.set(_,E))}}const p=new ui(f);return new Kq(h,p,s.fieldTransforms)}function RZ(t,e,n,r=!1){return mm(n,t.createContext(r?4:3,e))}function mm(t,e){if(Qq(t=Gt(t)))return rN("Unsupported field value:",e,t),Xq(t,e);if(t instanceof eN)return(function(r,i){if(!Wq(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const l of r){let c=mm(l,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=nn.fromDate(r);return{timestampValue:hv(i.serializer,o)}}if(r instanceof nn){const o=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hv(i.serializer,o)}}if(r instanceof Qo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ji)return{bytesValue:gq(i.serializer,r._byteString)};if(r instanceof dn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:LI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof co)return(function(s,l){const c=s instanceof co?s.toArray():s;return{mapValue:{fields:{[GF]:{stringValue:HF},[uv]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw l.createError("VectorValues must only contain numeric values.");return PI(l.serializer,h)}))}}}}}})(r,i);if(Tq(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${z0(r)}`)})(t,e)}function Xq(t,e){const n={};return UF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,((r,i)=>{const o=mm(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function Qq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof Qo||t instanceof ji||t instanceof dn||t instanceof eN||t instanceof co||Tq(t))}function rN(t,e,n){if(!Qq(n)||!jF(n)){const r=z0(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Du(t,e,n){if((e=Gt(e))instanceof rb)return e._internalPath;if(typeof e=="string")return Zq(t,e);throw vv("Field path arguments must be of type string or ",t,!1,void 0,n)}const kZ=new RegExp("[~\\*/\\[\\]]");function Zq(t,e,n){if(e.search(kZ)>=0)throw vv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rb(...e.split("."))._internalPath}catch{throw vv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vv(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Pe(be.INVALID_ARGUMENT,l+t+c)}function ez(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{convertValue(e,n="none"){switch(fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw We(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bl(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[uv].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>wn(s.doubleValue)));return new co(n)}convertGeoPoint(e){return new Qo(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=H0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ap(e));default:return null}}convertTimestamp(e){const n=ul(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);Pt(wq(r),9688,{name:e});const i=new lp(r.get(1),r.get(3)),o=new Fe(r.popFirst(5));return i.isEqual(n)||zs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN extends PZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new ji(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}const eD="@firebase/firestore",tD="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Du("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MZ extends tz{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oN{}class rz extends oN{}function ro(t,e,...n){let r=[];e instanceof oN&&r.push(e),r=r.concat(n),(function(o){const s=o.filter((c=>c instanceof sN)).length,l=o.filter((c=>c instanceof ob)).length;if(s>1||s>0&&l>0)throw new Pe(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class ob extends rz{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ob(e,n,r)}_apply(e){const n=this._parse(e);return iz(e._query,n),new _l(e.firestore,e.converter,cA(e._query,n))}_parse(e){const n=pm(e.firestore);return(function(o,s,l,c,f,h,p){let y;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Pe(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){oD(p,h);const S=[];for(const A of p)S.push(iD(c,o,A));y={arrayValue:{values:S}}}else y=iD(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||oD(p,h),y=RZ(l,s,p,h==="in"||h==="not-in");return Pn.create(f,h,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lr(t,e,n){const r=e,i=Du("where",t);return ob._create(i,r,n)}class sN extends oN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sN(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:go.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i;const l=o.getFlattenedFilters();for(const c of l)iz(s,c),s=cA(s,c)})(e._query,n),new _l(e.firestore,e.converter,cA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aN extends rz{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new aN(e,n)}_apply(e){const n=(function(i,o,s){if(i.startAt!==null)throw new Pe(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cp(o,s)})(e._query,this._field,this._direction);return new _l(e.firestore,e.converter,sX(e._query,n))}}function rD(t,e="asc"){const n=e,r=Du("orderBy",t);return aN._create(r,n)}function iD(t,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new Pe(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eq(e)&&n.indexOf("/")!==-1)throw new Pe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xt.fromString(n));if(!Fe.isDocumentKey(r))throw new Pe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yO(t,new Fe(r))}if(n instanceof dn)return yO(t,n._key);throw new Pe(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${z0(n)}.`)}function oD(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iz(t,e){const n=(function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Pe(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function lN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ph{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eu extends tz{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Du("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Eu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Eu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eu._jsonSchema={type:On("string",Eu._jsonSchemaVersion),bundleSource:On("string","DocumentSnapshot"),bundleName:On("string"),bundle:On("string")};class Wy extends Eu{data(e={}){return super.data(e)}}class Su{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ph(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Wy(this._firestore,this._userDataWriter,r.key,r,new Ph(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new Wy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ph(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>o||l.type!==3)).map((l=>{const c=new Wy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ph(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:OZ(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Su._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=AI.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Su._jsonSchemaVersion="firestore/querySnapshot/1.0",Su._jsonSchema={type:On("string",Su._jsonSchemaVersion),bundleSource:On("string","QuerySnapshot"),bundleName:On("string"),bundle:On("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pm(e)}set(e,n,r){this._verifyNotCommitted();const i=vw(e,this._firestore),o=lN(i.converter,n,r),s=nN(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Kr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=vw(e,this._firestore);let s;return s=typeof(n=Gt(n))=="string"||n instanceof rb?Jq(this._dataReader,"WriteBatch.update",o._key,n,r,i):Yq(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=vw(e,this._firestore);return this._mutations=this._mutations.concat(new MI(n._key,Kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vw(t,e){if((t=Gt(t)).firestore!==e)throw new Pe(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){t=Hr(t,dn);const e=Hr(t.firestore,Gs),n=hm(e);return bZ(n,t._key).then((r=>oz(e,t,r)))}function jr(t){t=Hr(t,_l);const e=Hr(t.firestore,Gs),n=hm(e),r=new iN(e);return nz(t._query),xZ(n,t._query).then((i=>new Su(e,r,t,i)))}function Ua(t,e,n){t=Hr(t,dn);const r=Hr(t.firestore,Gs),i=lN(t.converter,e,n),o=pm(r);return sb(r,[nN(o,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Kr.none())])}function fh(t,e,n,...r){t=Hr(t,dn);const i=Hr(t.firestore,Gs),o=pm(i);let s;return s=typeof(e=Gt(e))=="string"||e instanceof rb?Jq(o,"updateDoc",t._key,e,n,r):Yq(o,"updateDoc",t._key,e),sb(i,[s.toMutation(t._key,Kr.exists(!0))])}function bw(t,e){const n=Hr(t.firestore,Gs),r=Un(t),i=lN(t.converter,e),o=pm(t.firestore);return sb(n,[nN(o,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then((()=>r))}function sD(t,...e){var f,h,p;t=Gt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nD(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nD(e[r])){const y=e[r];e[r]=(f=y.next)==null?void 0:f.bind(y),e[r+1]=(h=y.error)==null?void 0:h.bind(y),e[r+2]=(p=y.complete)==null?void 0:p.bind(y)}let o,s,l;if(t instanceof dn)s=Hr(t.firestore,Gs),l=K0(t._key.path),o={next:y=>{e[r]&&e[r](oz(s,t,y))},error:e[r+1],complete:e[r+2]};else{const y=Hr(t,_l);s=Hr(y.firestore,Gs),l=y._query;const _=new iN(s);o={next:S=>{e[r]&&e[r](new Su(s,_,y,S))},error:e[r+1],complete:e[r+2]},nz(t._query)}const c=hm(s);return vZ(c,l,i,o)}function sb(t,e){const n=hm(t);return _Z(n,e)}function oz(t,e,n){const r=n.docs.get(e._key),i=new iN(t);return new Eu(t,i,e._key,r,new Ph(n.hasPendingWrites,n.fromCache),e.converter)}function LZ(t){return t=Hr(t,Gs),hm(t),new DZ(t,(e=>sb(t,e)))}(function(e,n=!0){xJ(Gu),mo(new Bi("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Gs(new TJ(r.getProvider("auth-internal")),new AJ(s,r.getProvider("app-check-internal")),zJ(s,i),s);return o={useFetchStreams:n,...o},l._setSettings(o),l}),"PUBLIC").setMultipleInstances(!0)),Gr(eD,tD,e),Gr(eD,tD,"esm2020")})();function sz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jZ=sz,az=new $u("auth","Firebase",sz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new F0("@firebase/auth");function VZ(t,...e){bv.logLevel<=ft.WARN&&bv.warn(`Auth (${Gu}): ${t}`,...e)}function Yy(t,...e){bv.logLevel<=ft.ERROR&&bv.error(`Auth (${Gu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t,...e){throw uN(t,...e)}function Zo(t,...e){return uN(t,...e)}function lz(t,e,n){const r={...jZ(),[e]:n};return new $u("auth","Firebase",r).create(e,{appName:t.name})}function es(t){return lz(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return az.create(t,...e)}function Ue(t,e,...n){if(!t)throw uN(e,...n)}function Ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yy(e),new Error(e)}function Hs(t,e){t||Ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function UZ(){return aD()==="http:"||aD()==="https:"}function aD(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UZ()||_I()||"connection"in navigator)?navigator.onLine:!0}function FZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hs(n>e,"Short delay should be less than long delay!"),this.isMobile=JW()||ZW()}get(){return BZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e){Hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$Z=new gm(3e4,6e4);function Zs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ea(t,e,n,r,i={}){return cz(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const l=am({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...o};return QW()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&yl(t.emulatorConfig.host)&&(f.credentials="include"),uz.fetch()(await fz(t,t.config.apiHost,n,l),f)})}async function cz(t,e,n){t._canInitEmulator=!1;const r={...qZ,...e};try{const i=new HZ(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw my(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw my(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw my(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw my(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw lz(t,h,f);yo(t,h)}}catch(i){if(i instanceof zi)throw i;yo(t,"network-request-failed",{message:String(i)})}}async function ym(t,e,n,r,i={}){const o=await ea(t,e,n,r,i);return"mfaPendingCredential"in o&&yo(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function fz(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?cN(t.config,i):`${t.config.apiScheme}://${i}`;return zZ.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function GZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zo(this.auth,"network-request-failed")),$Z.get())})}}function my(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zo(t,e,r);return i.customData._tokenResponse=n,i}function lD(t){return t!==void 0&&t.enterprise!==void 0}class KZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WZ(t,e){return ea(t,"GET","/v2/recaptchaConfig",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YZ(t,e){return ea(t,"POST","/v1/accounts:delete",e)}async function _v(t,e){return ea(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JZ(t,e=!1){const n=Gt(t),r=await n.getIdToken(e),i=fN(r);Ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Gh(xw(i.auth_time)),issuedAtTime:Gh(xw(i.iat)),expirationTime:Gh(xw(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function xw(t){return Number(t)*1e3}function fN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yy("JWT malformed, contained fewer than 3 sections"),null;try{const i=mF(n);return i?JSON.parse(i):(Yy("Failed to decode base64 JWT payload"),null)}catch(i){return Yy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uD(t){const e=fN(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&XZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gh(this.lastLoginAt),this.creationTime=Gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wv(t){var p;const e=t.auth,n=await t.getIdToken(),r=await hp(t,_v(e,{idToken:n}));Ue(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(p=i.providerUserInfo)!=null&&p.length?dz(i.providerUserInfo):[],s=eee(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _A(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function ZZ(t){const e=Gt(t);await wv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tee(t,e){const n=await cz(t,{},async()=>{const r=am({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await fz(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&yl(t.emulatorConfig.host)&&(c.credentials="include"),uz.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nee(t,e){return ea(t,"POST","/v2/accounts:revokeToken",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=uD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await tee(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new uf;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uf,this.toJSON())}_performRefresh(){return Ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class lo{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new QZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _A(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hp(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JZ(this,e)}reload(){return ZZ(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await hp(this,YZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:_,providerData:S,stsTokenManager:A}=n;Ue(p&&A,e,"internal-error");const E=uf.fromJSON(this.name,A);Ue(typeof p=="string",e,"internal-error"),ja(r,e.name),ja(i,e.name),Ue(typeof y=="boolean",e,"internal-error"),Ue(typeof _=="boolean",e,"internal-error"),ja(o,e.name),ja(s,e.name),ja(l,e.name),ja(c,e.name),ja(f,e.name),ja(h,e.name);const M=new lo({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:_,photoURL:s,phoneNumber:o,tenantId:l,stsTokenManager:E,createdAt:f,lastLoginAt:h});return S&&Array.isArray(S)&&(M.providerData=S.map(I=>({...I}))),c&&(M._redirectEventId=c),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new uf;i.updateFromServerResponse(n);const o=new lo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wv(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?dz(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new uf;l.updateFromIdToken(r);const c=new lo({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _A(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Map;function Ms(t){Hs(t instanceof Function,"Expected a class definition");let e=cD.get(t);return e?(Hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hz.type="NONE";const fD=hz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t,e,n){return`firebase:${t}:${e}:${n}`}class cf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Jy(this.userKey,i.apiKey,o),this.fullPersistenceKey=Jy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _v(this.auth,{idToken:e}).catch(()=>{});return n?lo._fromGetAccountInfoResponse(this.auth,n,e):null}return lo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cf(Ms(fD),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ms(fD);const s=Jy(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(s);if(h){let p;if(typeof h=="string"){const y=await _v(e,{idToken:h}).catch(()=>{});if(!y)break;p=await lo._fromGetAccountInfoResponse(e,y,h)}else p=lo._fromJSON(e,h);f!==o&&(l=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new cf(o,e,r):(o=c[0],l&&await o._set(s,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new cf(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bz(e))return"Blackberry";if(xz(e))return"Webos";if(mz(e))return"Safari";if((e.includes("chrome/")||gz(e))&&!e.includes("edge/"))return"Chrome";if(vz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pz(t=vr()){return/firefox\//i.test(t)}function mz(t=vr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gz(t=vr()){return/crios\//i.test(t)}function yz(t=vr()){return/iemobile/i.test(t)}function vz(t=vr()){return/android/i.test(t)}function bz(t=vr()){return/blackberry/i.test(t)}function xz(t=vr()){return/webos/i.test(t)}function dN(t=vr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ree(t=vr()){var e;return dN(t)&&!!((e=window.navigator)!=null&&e.standalone)}function iee(){return eY()&&document.documentMode===10}function _z(t=vr()){return dN(t)||vz(t)||xz(t)||bz(t)||/windows phone/i.test(t)||yz(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t,e=[]){let n;switch(t){case"Browser":n=dD(vr());break;case"Worker":n=`${dD(vr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,l)=>{try{const c=e(o);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function see(t,e={}){return ea(t,"GET","/v2/passwordPolicy",Zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aee=6;class lee{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aee,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hD(this),this.idTokenSubscription=new hD(this),this.beforeStateQueue=new oee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=az,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ms(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await cf.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _v(this,{idToken:e}),r=await lo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(qr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(es(this));const n=e?Gt(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await see(this),n=new lee(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $u("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nee(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ms(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await cf.create(this,[Ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&VZ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function wl(t){return Gt(t)}class hD{constructor(e){this.auth=e,this.observer=null,this.addObserver=sY(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ab={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cee(t){ab=t}function Tz(t){return ab.loadJS(t)}function fee(){return ab.recaptchaEnterpriseScript}function dee(){return ab.gapiScript}function hee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pee{constructor(){this.enterprise=new mee}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mee{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gee="recaptcha-enterprise",Ez="NO_RECAPTCHA";class yee{constructor(e){this.type=gee,this.auth=wl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{WZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new KZ(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,s(f.siteKey)}}).catch(c=>{l(c)})})}function i(o,s,l){const c=window.grecaptcha;lD(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{s(f)}).catch(()=>{s(Ez)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pee().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(l=>{if(!n&&lD(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=fee();c.length!==0&&(c+=l),Tz(c).then(()=>{i(l,o,s)}).catch(f=>{s(f)})}}).catch(l=>{s(l)})})}}async function pD(t,e,n,r=!1,i=!1){const o=new yee(t);let s;if(i)s=Ez;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Tv(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await pD(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await pD(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vee(t,e){const n=vl(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(al(o,e??{}))return i;yo(i,"already-initialized")}return n.initialize({options:e})}function bee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ms);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xee(t,e,n){const r=wl(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Sz(e),{host:s,port:l}=_ee(e),c=l===null?"":`:${l}`,f={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(al(f,r.config.emulator)&&al(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,yl(s)?(bI(`${o}//${s}${c}`),xI("Auth",!0)):wee()}function Sz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _ee(t){const e=Sz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:mD(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:mD(s)}}}function mD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ps("not implemented")}_getIdTokenResponse(e){return Ps("not implemented")}_linkToIdToken(e,n){return Ps("not implemented")}_getReauthenticationResolver(e){return Ps("not implemented")}}async function Tee(t,e){return ea(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eee(t,e){return ym(t,"POST","/v1/accounts:signInWithPassword",Zs(t,e))}async function See(t,e){return ea(t,"POST","/v1/accounts:sendOobCode",Zs(t,e))}async function Aee(t,e){return See(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cee(t,e){return ym(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}async function Iee(t,e){return ym(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends hN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tv(e,n,"signInWithPassword",Eee);case"emailLink":return Cee(e,{email:this._email,oobCode:this._password});default:yo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tv(e,r,"signUpPassword",Tee);case"emailLink":return Iee(e,{idToken:n,email:this._email,oobCode:this._password});default:yo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t,e){return ym(t,"POST","/v1/accounts:signInWithIdp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nee="http://localhost";class Lu extends hN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Lu(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ff(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ff(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ff(e,n)}buildRequest(){const e={requestUri:Nee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=am(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ree(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kee(t){const e=Ch(Ih(t)).link,n=e?Ch(Ih(e)).deep_link_id:null,r=Ch(Ih(t)).deep_link_id;return(r?Ch(Ih(r)).link:null)||r||n||e||t}class lb{constructor(e){const n=Ch(Ih(e)),r=n.apiKey??null,i=n.oobCode??null,o=Ree(n.mode??null);Ue(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=kee(e);try{return new lb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this.providerId=Wu.PROVIDER_ID}static credential(e,n){return pp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lb.parseLink(n);return Ue(r,"argument-error"),pp._fromEmailAndCode(e,r.code,r.tenantId)}}Wu.PROVIDER_ID="password";Wu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends Az{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends vm{constructor(){super("facebook.com")}static credential(e){return Lu._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $a.credential(e.oauthAccessToken)}catch{return null}}}$a.FACEBOOK_SIGN_IN_METHOD="facebook.com";$a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends vm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lu._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ga.credential(n,r)}catch{return null}}}Ga.GOOGLE_SIGN_IN_METHOD="google.com";Ga.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends vm{constructor(){super("github.com")}static credential(e){return Lu._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ha.credential(e.oauthAccessToken)}catch{return null}}}Ha.GITHUB_SIGN_IN_METHOD="github.com";Ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends vm{constructor(){super("twitter.com")}static credential(e,n){return Lu._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ka.credential(n,r)}catch{return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com";Ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pee(t,e){return ym(t,"POST","/v1/accounts:signUp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await lo._fromIdTokenResponse(e,r,i),s=gD(r);return new ju({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gD(r);return new ju({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function gD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends zi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ev.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ev(e,n,r,i)}}function Cz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ev._fromErrorAndOperation(t,o,e,r):o})}async function Mee(t,e,n=!1){const r=await hp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ju._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oee(t,e,n=!1){const{auth:r}=t;if(qr(r.app))return Promise.reject(es(r));const i="reauthenticate";try{const o=await hp(t,Cz(r,i,e,t),n);Ue(o.idToken,r,"internal-error");const s=fN(o.idToken);Ue(s,r,"internal-error");const{sub:l}=s;return Ue(t.uid===l,r,"user-mismatch"),ju._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&yo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iz(t,e,n=!1){if(qr(t.app))return Promise.reject(es(t));const r="signIn",i=await Cz(t,r,e),o=await ju._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Nz(t,e){return Iz(wl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dee(t,e,n){var r;Ue(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),Ue(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Ue(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ue(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ue(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(t){const e=wl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lee(t,e,n){if(qr(t.app))return Promise.reject(es(t));const r=wl(t),s=await Tv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pee).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Rz(t),c}),l=await ju._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function jee(t,e,n){return qr(t.app)?Promise.reject(es(t)):Nz(Gt(t),Wu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Rz(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vee(t,e,n){const r=wl(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(s,l){Ue(l.handleCodeInApp,r,"argument-error"),l&&Dee(r,s,l)}o(i,n),await Tv(r,i,"getOobCode",Aee)}function Uee(t,e){const n=lb.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Bee(t,e,n){if(qr(t.app))return Promise.reject(es(t));const r=Gt(t),i=Wu.credentialWithLink(e,n||xv());return Ue(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Nz(r,i)}function Fee(t,e,n,r){return Gt(t).onIdTokenChanged(e,n,r)}function qee(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}function zee(t){return Gt(t).signOut()}const Sv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sv,"1"),this.storage.removeItem(Sv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee=1e3,Gee=10;class Pz extends kz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_z(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);iee()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Gee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$ee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pz.type="LOCAL";const Hee=Pz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz extends kz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mz.type="SESSION";const Oz=Mz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ub(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async f=>f(n.origin,o)),c=await Kee(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ub.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,c)=>{const f=pN("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function Yee(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function Jee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Qee(){return Dz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="firebaseLocalStorageDb",Zee=1,Av="firebaseLocalStorage",jz="fbase_key";class bm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cb(t,e){return t.transaction([Av],e?"readwrite":"readonly").objectStore(Av)}function ete(){const t=indexedDB.deleteDatabase(Lz);return new bm(t).toPromise()}function wA(){const t=indexedDB.open(Lz,Zee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Av,{keyPath:jz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Av)?e(r):(r.close(),await ete(),e(await wA()))})})}async function yD(t,e,n){const r=cb(t,!0).put({[jz]:e,value:n});return new bm(r).toPromise()}async function tte(t,e){const n=cb(t,!1).get(e),r=await new bm(n).toPromise();return r===void 0?null:r.value}function vD(t,e){const n=cb(t,!0).delete(e);return new bm(n).toPromise()}const nte=800,rte=3;class Vz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rte)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ub._getInstance(Qee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Jee(),!this.activeServiceWorker)return;this.sender=new Wee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wA();return await yD(e,Sv,"1"),await vD(e,Sv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tte(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=cb(i,!1).getAll();return new bm(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vz.type="LOCAL";const ite=Vz;new gm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ote(t,e){return e?Ms(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN extends hN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ff(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ff(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ff(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ste(t){return Iz(t.auth,new mN(t),t.bypassAuthState)}function ate(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),Oee(n,new mN(t),t.bypassAuthState)}async function lte(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),Mee(n,new mN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ste;case"linkViaPopup":case"linkViaRedirect":return lte;case"reauthViaPopup":case"reauthViaRedirect":return ate;default:yo(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute=new gm(2e3,1e4);class Xc extends Uz{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Xc.currentPopupAction&&Xc.currentPopupAction.cancel(),Xc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=pN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Zo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ute.get())};e()}}Xc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cte="pendingRedirect",Xy=new Map;class fte extends Uz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xy.get(this.auth._key());if(!e){try{const r=await dte(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xy.set(this.auth._key(),e)}return this.bypassAuthState||Xy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dte(t,e){const n=mte(e),r=pte(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hte(t,e){Xy.set(t._key(),e)}function pte(t){return Ms(t._redirectPersistence)}function mte(t){return Jy(cte,t.config.apiKey,t.name)}async function gte(t,e,n=!1){if(qr(t.app))return Promise.reject(es(t));const r=wl(t),i=ote(r,e),s=await new fte(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte=600*1e3;class vte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Bz(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yte&&this.cachedEventUids.clear(),this.cachedEventUids.has(bD(e))}saveEventToCache(e){this.cachedEventUids.add(bD(e)),this.lastProcessedEventTime=Date.now()}}function bD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Bz({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bz(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xte(t,e={}){return ea(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _te=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wte=/^https?/;async function Tte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xte(t);for(const n of e)try{if(Ete(n))return}catch{}yo(t,"unauthorized-domain")}function Ete(t){const e=xv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!wte.test(n))return!1;if(_te.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste=new gm(3e4,6e4);function xD(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ate(t){return new Promise((e,n)=>{var i,o,s;function r(){xD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xD(),n(Zo(t,"network-request-failed"))},timeout:Ste.get()})}if((o=(i=ts().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=ts().gapi)!=null&&s.load)r();else{const l=hee("iframefcb");return ts()[l]=()=>{gapi.load?r():n(Zo(t,"network-request-failed"))},Tz(`${dee()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Qy=null,e})}let Qy=null;function Cte(t){return Qy=Qy||Ate(t),Qy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ite=new gm(5e3,15e3),Nte="__/auth/iframe",Rte="emulator/auth/iframe",kte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mte(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cN(e,Rte):`https://${t.config.authDomain}/${Nte}`,r={apiKey:e.apiKey,appName:t.name,v:Gu},i=Pte.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${am(r).slice(1)}`}async function Ote(t){const e=await Cte(t),n=ts().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:Mte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kte,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Zo(t,"network-request-failed"),l=ts().setTimeout(()=>{o(s)},Ite.get());function c(){ts().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lte=500,jte=600,Vte="_blank",Ute="http://localhost";class _D{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bte(t,e,n,r=Lte,i=jte){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...Dte,width:r.toString(),height:i.toString(),top:o,left:s},f=vr().toLowerCase();n&&(l=gz(f)?Vte:n),pz(f)&&(e=e||Ute,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[_,S])=>`${y}${_}=${S},`,"");if(ree(f)&&l!=="_self")return Fte(e||"",l),new _D(null);const p=window.open(e||"",l,h);Ue(p,t,"popup-blocked");try{p.focus()}catch{}return new _D(p)}function Fte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte="__/auth/handler",zte="emulator/auth/handler",$te=encodeURIComponent("fac");async function wD(t,e,n,r,i,o){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gu,eventId:i};if(e instanceof Az){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",oY(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof vm){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${$te}=${encodeURIComponent(c)}`:"";return`${Gte(t)}?${am(l).slice(1)}${f}`}function Gte({config:t}){return t.emulator?cN(t,zte):`https://${t.authDomain}/${qte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="webStorageSupport";class Hte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oz,this._completeRedirectFn=gte,this._overrideRedirectResult=hte}async _openPopup(e,n,r,i){var s;Hs((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await wD(e,n,r,xv(),i);return Bte(e,o,pN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await wD(e,n,r,xv(),i);return Yee(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ote(e),r=new vte(e);return n.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_w,{type:_w},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[_w];o!==void 0&&n(!!o),yo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _z()||mz()||dN()}}const Kte=Hte;var TD="@firebase/auth",ED="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jte(t){mo(new Bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wz(t)},f=new uee(r,i,o,c);return bee(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mo(new Bi("auth-internal",e=>{const n=wl(e.getProvider("auth").getImmediate());return(r=>new Wte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(TD,ED,Yte(t)),Gr(TD,ED,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xte=300,Qte=bF("authIdTokenMaxAge")||Xte;let SD=null;const Zte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Qte)return;const i=n==null?void 0:n.token;SD!==i&&(SD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ene(t=q0()){const e=vl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vee(t,{popupRedirectResolver:Kte,persistence:[ite,Hee,Oz]}),r=bF("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Zte(o.toString());qee(n,s,()=>s(n.currentUser)),Fee(n,l=>s(l))}}const i=gF("auth");return i&&xee(n,`http://${i}`),n}function tne(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}cee({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Zo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",tne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jte("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="firebasestorage.googleapis.com",qz="storageBucket",nne=120*1e3,rne=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn extends zi{constructor(e,n,r=0){super(ww(e),`Firebase Storage: ${n} (${ww(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ww(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hn||(hn={}));function ww(t){return"storage/"+t}function gN(){const t="An unknown error occurred, please check the error payload for server response.";return new pn(hn.UNKNOWN,t)}function ine(t){return new pn(hn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function one(t){return new pn(hn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sne(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pn(hn.UNAUTHENTICATED,t)}function ane(){return new pn(hn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lne(t){return new pn(hn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function une(){return new pn(hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cne(){return new pn(hn.CANCELED,"User canceled the upload/download.")}function fne(t){return new pn(hn.INVALID_URL,"Invalid URL '"+t+"'.")}function dne(t){return new pn(hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hne(){return new pn(hn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qz+"' property when initializing the app?")}function pne(){return new pn(hn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mne(){return new pn(hn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gne(t){return new pn(hn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function TA(t){return new pn(hn.INVALID_ARGUMENT,t)}function zz(){return new pn(hn.APP_DELETED,"The Firebase app was deleted.")}function yne(t){return new pn(hn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hh(t,e){return new pn(hn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function dh(t){throw new pn(hn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ci.makeFromUrl(e,n)}catch{return new ci(e,"")}if(r.path==="")return r;throw dne(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f(C){C.path_=decodeURIComponent(C.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${h}/b/${i}/o${y}`,"i"),S={bucket:1,path:3},A=n===Fz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",M=new RegExp(`^https?://${A}/${i}/${E}`,"i"),N=[{regex:l,indices:c,postModify:o},{regex:_,indices:S,postModify:f},{regex:M,indices:{bucket:1,path:2},postModify:f}];for(let C=0;C<N.length;C++){const R=N[C],L=R.regex.exec(e);if(L){const P=L[R.indices.bucket];let O=L[R.indices.path];O||(O=""),r=new ci(P,O),R.postModify(r);break}}if(r==null)throw fne(e);return r}}class vne{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bne(t,e,n){let r=1,i=null,o=null,s=!1,l=0;function c(){return l===2}let f=!1;function h(...E){f||(f=!0,e.apply(null,E))}function p(E){i=setTimeout(()=>{i=null,t(_,c())},E)}function y(){o&&clearTimeout(o)}function _(E,...M){if(f){y();return}if(E){y(),h.call(null,E,...M);return}if(c()||s){y(),h.call(null,E,...M);return}r<64&&(r*=2);let N;l===1?(l=2,N=0):N=(r+Math.random())*1e3,p(N)}let S=!1;function A(E){S||(S=!0,y(),!f&&(i!==null?(E||(l=2),clearTimeout(i),p(0)):E||(l=1)))}return p(0),o=setTimeout(()=>{s=!0,A(!0)},n),A}function xne(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ne(t){return t!==void 0}function wne(t){return typeof t=="object"&&!Array.isArray(t)}function yN(t){return typeof t=="string"||t instanceof String}function AD(t){return vN()&&t instanceof Blob}function vN(){return typeof Blob<"u"}function CD(t,e,n,r){if(r<e)throw TA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw TA(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $z(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Au;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Au||(Au={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tne(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ene{constructor(e,n,r,i,o,s,l,c,f,h,p,y=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=y,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,A)=>{this.resolve_=S,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gy(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const l=o.getErrorCode()===Au.NO_ERROR,c=o.getStatus();if(!l||Tne(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Au.ABORT;r(!1,new gy(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new gy(f,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());_ne(c)?o(c):o()}catch(c){s(c)}else if(l!==null){const c=gN();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?zz():cne();s(c)}else{const c=une();s(c)}};this.canceled_?n(!1,new gy(!1,null,!0)):this.backoffId_=bne(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xne(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gy{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Sne(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ane(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Cne(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ine(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Nne(t,e,n,r,i,o,s=!0,l=!1){const c=$z(t.urlParams),f=t.url+c,h=Object.assign({},t.headers);return Cne(h,e),Sne(h,n),Ane(h,o),Ine(h,r),new Ene(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rne(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kne(...t){const e=Rne();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(vN())return new Blob(t);throw new pn(hn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Pne(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mne(t){if(typeof atob>"u")throw gne("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tw{constructor(e,n){this.data=e,this.contentType=n||null}}function One(t,e){switch(t){case Ho.RAW:return new Tw(Gz(e));case Ho.BASE64:case Ho.BASE64URL:return new Tw(Hz(t,e));case Ho.DATA_URL:return new Tw(Lne(e),jne(e))}throw gN()}function Gz(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Dne(t){let e;try{e=decodeURIComponent(t)}catch{throw Hh(Ho.DATA_URL,"Malformed data URL.")}return Gz(e)}function Hz(t,e){switch(t){case Ho.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Hh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ho.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Hh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Mne(e)}catch(i){throw i.message.includes("polyfill")?i:Hh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Kz{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hh(Ho.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Vne(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Lne(t){const e=new Kz(t);return e.base64?Hz(Ho.BASE64,e.rest):Dne(e.rest)}function jne(t){return new Kz(t).contentType}function Vne(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){let r=0,i="";AD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(AD(this.data_)){const r=this.data_,i=Pne(r,e,n);return i===null?null:new Wa(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Wa(r,!0)}}static getBlob(...e){if(vN()){const n=e.map(r=>r instanceof Wa?r.data_:r);return new Wa(kne.apply(null,n))}else{const n=e.map(s=>yN(s)?One(Ho.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[o++]=s[l]}),new Wa(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(t){let e;try{e=JSON.parse(t)}catch{return null}return wne(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Une(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Bne(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Yz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fne(t,e){return e}class wr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Fne}}let yy=null;function qne(t){return!yN(t)||t.length<2?t:Yz(t)}function Jz(){if(yy)return yy;const t=[];t.push(new wr("bucket")),t.push(new wr("generation")),t.push(new wr("metageneration")),t.push(new wr("name","fullPath",!0));function e(o,s){return qne(s)}const n=new wr("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new wr("size");return i.xform=r,t.push(i),t.push(new wr("timeCreated")),t.push(new wr("updated")),t.push(new wr("md5Hash",null,!0)),t.push(new wr("cacheControl",null,!0)),t.push(new wr("contentDisposition",null,!0)),t.push(new wr("contentEncoding",null,!0)),t.push(new wr("contentLanguage",null,!0)),t.push(new wr("contentType",null,!0)),t.push(new wr("metadata","customMetadata",!0)),yy=t,yy}function zne(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new ci(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function $ne(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return zne(r,t),r}function Xz(t,e,n){const r=Wz(e);return r===null?null:$ne(t,r,n)}function Gne(t,e,n,r){const i=Wz(e);if(i===null||!yN(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(f=>{const h=t.bucket,p=t.fullPath,y="/b/"+s(h)+"/o/"+s(p),_=bN(y,n,r),S=$z({alt:"media",token:f});return _+S})[0]}function Hne(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Qz{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){if(!t)throw gN()}function Kne(t,e){function n(r,i){const o=Xz(t,i,e);return Zz(o!==null),o}return n}function Wne(t,e){function n(r,i){const o=Xz(t,i,e);return Zz(o!==null),Gne(o,i,t.host,t._protocol)}return n}function e9(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ane():i=sne():n.getStatus()===402?i=one(t.bucket):n.getStatus()===403?i=lne(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Yne(t){const e=e9(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=ine(t.path)),o.serverResponse=i.serverResponse,o}return n}function Jne(t,e,n){const r=e.fullServerUrl(),i=bN(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,l=new Qz(i,o,Wne(t,n),s);return l.errorHandler=Yne(e),l}function Xne(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Qne(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Xne(null,e)),r}function Zne(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let N="";for(let C=0;C<2;C++)N=N+Math.random().toString().slice(2);return N}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const f=Qne(e,r,i),h=Hne(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+c+"--",_=Wa.getBlob(p,r,y);if(_===null)throw pne();const S={name:f.fullPath},A=bN(o,t.host,t._protocol),E="POST",M=t.maxUploadRetryTime,I=new Qz(A,E,Kne(t,n),M);return I.urlParams=S,I.headers=s,I.body=_.uploadData(),I.errorHandler=e9(e),I}class ere{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Au.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Au.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Au.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw dh("cannot .send() more than once");if(yl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tre extends ere{initXhr(){this.xhr_.responseType="text"}}function t9(){return new tre}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this._service=e,n instanceof ci?this._location=n:this._location=ci.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vu(e,n)}get root(){const e=new ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yz(this._location.path)}get storage(){return this._service}get parent(){const e=Une(this._location.path);if(e===null)return null;const n=new ci(this._location.bucket,e);return new Vu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yne(e)}}function nre(t,e,n){t._throwIfRoot("uploadBytes");const r=Zne(t.storage,t._location,Jz(),new Wa(e,!0),n);return t.storage.makeRequestWithTokens(r,t9).then(i=>({metadata:i,ref:t}))}function rre(t){t._throwIfRoot("getDownloadURL");const e=Jne(t.storage,t._location,Jz());return t.storage.makeRequestWithTokens(e,t9).then(n=>{if(n===null)throw mne();return n})}function ire(t,e){const n=Bne(t._location.path,e),r=new ci(t._location.bucket,n);return new Vu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ore(t){return/^[A-Za-z]+:\/\//.test(t)}function sre(t,e){return new Vu(t,e)}function n9(t,e){if(t instanceof xN){const n=t;if(n._bucket==null)throw hne();const r=new Vu(n,n._bucket);return e!=null?n9(r,e):r}else return e!==void 0?ire(t,e):t}function are(t,e){if(e&&ore(e)){if(t instanceof xN)return sre(t,e);throw TA("To use ref(service, url), the first argument must be a Storage instance.")}else return n9(t,e)}function ID(t,e){const n=e==null?void 0:e[qz];return n==null?null:ci.makeFromBucketSpec(n,t)}function lre(t,e,n,r={}){t.host=`${e}:${n}`;const i=yl(e);i&&(bI(`https://${t.host}/b`),xI("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:xF(o,t.app.options.projectId))}class xN{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=Fz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nne,this._maxUploadRetryTime=rne,this._requests=new Set,i!=null?this._bucket=ci.makeFromBucketSpec(i,this._host):this._bucket=ID(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ci.makeFromBucketSpec(this._url,e):this._bucket=ID(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new vne(zz());{const s=Nne(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ND="@firebase/storage",RD="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9="storage";function ure(t,e,n){return t=Gt(t),nre(t,e,n)}function cre(t){return t=Gt(t),rre(t)}function fre(t,e){return t=Gt(t),are(t,e)}function dre(t=q0(),e){t=Gt(t);const r=vl(t,r9).getImmediate({identifier:e}),i=yF("storage");return i&&hre(r,...i),r}function hre(t,e,n,r={}){lre(t,e,n,r)}function pre(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new xN(n,r,i,e,Gu)}function mre(){mo(new Bi(r9,pre,"PUBLIC").setMultipleInstances(!0)),Gr(ND,RD,""),Gr(ND,RD,"esm2020")}mre();var gre="firebase",yre="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(gre,yre,"app");const i9="@firebase/installations",_N="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=1e4,s9=`w:${_N}`,a9="FIS_v2",vre="https://firebaseinstallations.googleapis.com/v1",bre=3600*1e3,xre="installations",_re="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wre={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Uu=new $u(xre,_re,wre);function l9(t){return t instanceof zi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9({projectId:t}){return`${vre}/projects/${t}/installations`}function c9(t){return{token:t.token,requestStatus:2,expiresIn:Ere(t.expiresIn),creationTime:Date.now()}}async function f9(t,e){const r=(await e.json()).error;return Uu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function d9({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Tre(t,{refreshToken:e}){const n=d9(t);return n.append("Authorization",Sre(e)),n}async function h9(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Ere(t){return Number(t.replace("s","000"))}function Sre(t){return`${a9} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Are({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=u9(t),i=d9(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={fid:n,authVersion:a9,appId:t.appId,sdkVersion:s9},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await h9(()=>fetch(r,l));if(c.ok){const f=await c.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:c9(f.authToken)}}else throw await f9("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cre(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ire=/^[cdef][\w-]{21}$/,EA="";function Nre(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Rre(t);return Ire.test(n)?n:EA}catch{return EA}}function Rre(t){return Cre(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=new Map;function g9(t,e){const n=fb(t);y9(n,e),kre(n,e)}function y9(t,e){const n=m9.get(t);if(n)for(const r of n)r(e)}function kre(t,e){const n=Pre();n&&n.postMessage({key:t,fid:e}),Mre()}let gu=null;function Pre(){return!gu&&"BroadcastChannel"in self&&(gu=new BroadcastChannel("[Firebase] FID Change"),gu.onmessage=t=>{y9(t.data.key,t.data.fid)}),gu}function Mre(){m9.size===0&&gu&&(gu.close(),gu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ore="firebase-installations-database",Dre=1,Bu="firebase-installations-store";let Ew=null;function wN(){return Ew||(Ew=EF(Ore,Dre,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bu)}}})),Ew}async function Cv(t,e){const n=fb(t),i=(await wN()).transaction(Bu,"readwrite"),o=i.objectStore(Bu),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&g9(t,e.fid),e}async function v9(t){const e=fb(t),r=(await wN()).transaction(Bu,"readwrite");await r.objectStore(Bu).delete(e),await r.done}async function db(t,e){const n=fb(t),i=(await wN()).transaction(Bu,"readwrite"),o=i.objectStore(Bu),s=await o.get(n),l=e(s);return l===void 0?await o.delete(n):await o.put(l,n),await i.done,l&&(!s||s.fid!==l.fid)&&g9(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t){let e;const n=await db(t.appConfig,r=>{const i=Lre(r),o=jre(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===EA?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Lre(t){const e=t||{fid:Nre(),registrationStatus:0};return b9(e)}function jre(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Uu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Vre(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ure(t)}:{installationEntry:e}}async function Vre(t,e){try{const n=await Are(t,e);return Cv(t.appConfig,n)}catch(n){throw l9(n)&&n.customData.serverCode===409?await v9(t.appConfig):await Cv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Ure(t){let e=await kD(t.appConfig);for(;e.registrationStatus===1;)await p9(100),e=await kD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await TN(t);return r||n}return e}function kD(t){return db(t,e=>{if(!e)throw Uu.create("installation-not-found");return b9(e)})}function b9(t){return Bre(t)?{fid:t.fid,registrationStatus:0}:t}function Bre(t){return t.registrationStatus===1&&t.registrationTime+o9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fre({appConfig:t,heartbeatServiceProvider:e},n){const r=qre(t,n),i=Tre(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={installation:{sdkVersion:s9,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await h9(()=>fetch(r,l));if(c.ok){const f=await c.json();return c9(f)}else throw await f9("Generate Auth Token",c)}function qre(t,{fid:e}){return`${u9(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e=!1){let n;const r=await db(t.appConfig,o=>{if(!x9(o))throw Uu.create("not-registered");const s=o.authToken;if(!e&&Gre(s))return o;if(s.requestStatus===1)return n=zre(t,e),o;{if(!navigator.onLine)throw Uu.create("app-offline");const l=Kre(o);return n=$re(t,l),l}});return n?await n:r.authToken}async function zre(t,e){let n=await PD(t.appConfig);for(;n.authToken.requestStatus===1;)await p9(100),n=await PD(t.appConfig);const r=n.authToken;return r.requestStatus===0?EN(t,e):r}function PD(t){return db(t,e=>{if(!x9(e))throw Uu.create("not-registered");const n=e.authToken;return Wre(n)?{...e,authToken:{requestStatus:0}}:e})}async function $re(t,e){try{const n=await Fre(t,e),r={...e,authToken:n};return await Cv(t.appConfig,r),n}catch(n){if(l9(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await v9(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Cv(t.appConfig,r)}throw n}}function x9(t){return t!==void 0&&t.registrationStatus===2}function Gre(t){return t.requestStatus===2&&!Hre(t)}function Hre(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bre}function Kre(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Wre(t){return t.requestStatus===1&&t.requestTime+o9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yre(t){const e=t,{installationEntry:n,registrationPromise:r}=await TN(e);return r?r.catch(console.error):EN(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jre(t,e=!1){const n=t;return await Xre(n),(await EN(n,e)).token}async function Xre(t){const{registrationPromise:e}=await TN(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qre(t){if(!t||!t.options)throw Sw("App Configuration");if(!t.name)throw Sw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Sw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Sw(t){return Uu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="installations",Zre="installations-internal",eie=t=>{const e=t.getProvider("app").getImmediate(),n=Qre(e),r=vl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},tie=t=>{const e=t.getProvider("app").getImmediate(),n=vl(e,_9).getImmediate();return{getId:()=>Yre(n),getToken:i=>Jre(n,i)}};function nie(){mo(new Bi(_9,eie,"PUBLIC")),mo(new Bi(Zre,tie,"PRIVATE"))}nie();Gr(i9,_N);Gr(i9,_N,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="analytics",rie="firebase_id",iie="origin",oie=60*1e3,sie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",SN="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new F0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},hi=new $u("analytics","Analytics",aie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lie(t){if(!t.startsWith(SN)){const e=hi.create("invalid-gtag-resource",{gtagURL:t});return Ar.warn(e.message),""}return t}function w9(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function uie(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function cie(t,e){const n=uie("firebase-js-sdk-policy",{createScriptURL:lie}),r=document.createElement("script"),i=`${SN}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function fie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function die(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const c=(await w9(n)).find(f=>f.measurementId===i);c&&await e[c.appId]}}catch(l){Ar.error(l)}t("config",i,o)}async function hie(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const l=await w9(n);for(const c of s){const f=l.find(p=>p.measurementId===c),h=f&&e[f.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Ar.error(o)}}function pie(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[l,c]=s;await hie(t,e,n,l,c)}else if(o==="config"){const[l,c]=s;await die(t,e,n,r,l,c)}else if(o==="consent"){const[l,c]=s;t("consent",l,c)}else if(o==="get"){const[l,c,f]=s;t("get",l,c,f)}else if(o==="set"){const[l]=s;t("set",l)}else t(o,...s)}catch(l){Ar.error(l)}}return i}function mie(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=pie(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function gie(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(SN)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie=30,vie=1e3;class bie{constructor(e={},n=vie){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const T9=new bie;function xie(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _ie(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:xie(n)},i=sie.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();(s=c.error)!=null&&s.message&&(l=c.error.message)}catch{}throw hi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function wie(t,e=T9,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw hi.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw hi.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Sie;return setTimeout(async()=>{l.abort()},oie),E9({appId:r,apiKey:i,measurementId:o},s,l,e)}async function E9(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=T9){var l;const{appId:o,measurementId:s}=t;try{await Tie(r,e)}catch(c){if(s)return Ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:s};throw c}try{const c=await _ie(t);return i.deleteThrottleMetadata(o),c}catch(c){const f=c;if(!Eie(f)){if(i.deleteThrottleMetadata(o),s)return Ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:s};throw c}const h=Number((l=f==null?void 0:f.customData)==null?void 0:l.httpStatus)===503?Y2(n,i.intervalMillis,yie):Y2(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(o,p),Ar.debug(`Calling attemptFetch again in ${h} millis`),E9(t,p,r,i)}}function Tie(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(hi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Eie(t){if(!(t instanceof zi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Sie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Aie(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s={...r,send_to:o};t("event",n,s)}}async function Cie(t,e,n,r){if(r&&r.global){const i={};for(const o of Object.keys(n))i[`user_properties.${o}`]=n[o];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iie(){if(wI())try{await TI()}catch(t){return Ar.warn(hi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ar.warn(hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Nie(t,e,n,r,i,o,s){const l=wie(t);l.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Ar.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Ar.error(y)),e.push(l);const c=Iie().then(y=>{if(y)return r.getId()}),[f,h]=await Promise.all([l,c]);gie(o)||cie(o,f.measurementId),i("js",new Date);const p=(s==null?void 0:s.config)??{};return p[iie]="firebase",p.update=!0,h!=null&&(p[rie]=h),i("config",f.measurementId,p),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e){this.app=e}_delete(){return delete df[this.app.options.appId],Promise.resolve()}}let df={},MD=[];const OD={};let Aw="dataLayer",kie="gtag",DD,AN,LD=!1;function Pie(){const t=[];if(_I()&&t.push("This is a browser extension environment."),_F()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=hi.create("invalid-analytics-context",{errorInfo:e});Ar.warn(n.message)}}function Mie(t,e,n){Pie();const r=t.options.appId;if(!r)throw hi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw hi.create("no-api-key");if(df[r]!=null)throw hi.create("already-exists",{id:r});if(!LD){fie(Aw);const{wrappedGtag:o,gtagCore:s}=mie(df,MD,OD,Aw,kie);AN=o,DD=s,LD=!0}return df[r]=Nie(t,MD,OD,e,DD,Aw,n),new Rie(t)}function Oie(t=q0()){t=Gt(t);const e=vl(t,Iv);return e.isInitialized()?e.getImmediate():Die(t)}function Die(t,e={}){const n=vl(t,Iv);if(n.isInitialized()){const i=n.getImmediate();if(al(e,n.getOptions()))return i;throw hi.create("already-initialized")}return n.initialize({options:e})}async function Lie(){if(_I()||!_F()||!wI())return!1;try{return await TI()}catch{return!1}}function jie(t,e,n){t=Gt(t),Cie(AN,df[t.app.options.appId],e,n).catch(r=>Ar.error(r))}function Vie(t,e,n,r){t=Gt(t),Aie(AN,df[t.app.options.appId],e,n,r).catch(i=>Ar.error(i))}const jD="@firebase/analytics",VD="0.10.19";function Uie(){mo(new Bi(Iv,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Mie(r,i,n)},"PUBLIC")),mo(new Bi("analytics-internal",t,"PRIVATE")),Gr(jD,VD),Gr(jD,VD,"esm2020");function t(e){try{const n=e.getProvider(Iv).getImmediate();return{logEvent:(r,i,o)=>Vie(n,r,i,o),setUserProperties:(r,i)=>jie(n,r,i)}}catch(n){throw hi.create("interop-component-reg-failed",{reason:n})}}}Uie();const Bie={apiKey:"AIzaSyCKVgBb0YV5GoX0w-oeNwXuWOCZ5crLgyc",authDomain:"pingapp-ca5fb.firebaseapp.com",projectId:"pingapp-ca5fb",storageBucket:"pingapp-ca5fb.firebasestorage.app",messagingSenderId:"450129567945",appId:"1:450129567945:web:2c12b1efaaf888b2b5ed18",measurementId:"G-F02GG2QXZF"},Cw=!0;let as=null;try{tO().length===0?as=SF(Bie):as=tO()[0]}catch(t){console.error("Firebase initialization failed:",t)}const Va=as?ene(as):null,Ge=as?SZ(as):null,UD=as?dre(as):null;as&&Lie().then(t=>{t&&Oie(as)}).catch(()=>{console.warn("Firebase Analytics not supported in this environment")});const fi="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOTNhM2FmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PHBhdGggZD0iTTE5IDIxdi0yYTRgMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg4YTQgNCAwIDAgMC00IDR2MiIvPjxjaXJjbGUgY3g9IjEyIiBjeT0iNyIgcj0iNCIvPjwvc3ZnPg==",yu="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMzYjgyZjYiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlYzQ4OTkiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgcng9IjEyOCIgZmlsbD0idXJsKCNhKSIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xNzYgMTI4aDgwYzYxLjg2IDAgMTEyIDUwLjE0IDExMiAxMTJzLTUwLjE0IDExMi0xMTIgMTEyaC0zMnY5NmgtNDhWMTI4em00OCAxNzZoMzJjMzUuMzUgMCA2NC0yOC42NSA2NC02NHMtMjguNjUtNjQtNjQtNjRoLTMydjEyOHoiLz48L3N2Zz4=",Xa={status:Br.ACTIVE,verificationStatus:ai.VERIFIED,joinedAt:Date.now()-1e3*60*60*24*30,reportCount:0,verified:!0,isPremium:!0},Iw=[{...Xa,id:"test-biz-1",name:"Pixel Arcade",email:"hello@pixelarcade.co",role:Ke.BUSINESS,avatar:fi,bio:"Retro gaming bar & arcade chain expanding to new cities. Looking for gaming influencers and lifestyle creators to host launch parties.",location:"Austin, TX",industry:"Entertainment",companySize:"10-50",website:"pixelarcade.co",tags:["Gaming","Events","Lifestyle","Retro"],stats:{budget:"3,000 - 10,000"},aiMatchScore:88,aiMatchReason:"Your gaming content has high overlap with their target demographic for the new Austin location.",portfolio:[]},{...Xa,id:"biz-1",name:"Aura Wellness",email:"partnerships@aurawellness.com",role:Ke.BUSINESS,avatar:fi,bio:"Premium sustainable yoga wear looking for authentic storytellers in the wellness space. We value mindfulness and high-quality aesthetic content.",location:"Los Angeles, CA",industry:"Wellness & Apparel",companySize:"50-100",website:"aurawellness.com",tags:["Wellness","Yoga","Sustainability","Eco-Friendly"],stats:{budget:"5,000 - 15,000"},aiMatchScore:98,aiMatchReason:"Your high engagement in the fitness niche perfectly aligns with their new seasonal collection launch.",portfolio:[]},{...Xa,id:"biz-2",name:"NextGen Tech",email:"hello@nextgentech.ai",role:Ke.BUSINESS,avatar:fi,bio:"Leading AI startup seeking tech reviewers and futurists to showcase our next-generation productivity suite. Looking for creative demo videos.",location:"San Francisco, CA",industry:"Software / AI",companySize:"10-50",website:"nextgen.ai",tags:["Tech","AI","Productivity","B2B"],stats:{budget:"10,000+"},aiMatchScore:85,aiMatchReason:"Their audience demographics overlap with your core tech-savvy followers.",portfolio:[]},{...Xa,id:"biz-3",name:"Glow Skin",email:"collabs@glowskin.co",role:Ke.BUSINESS,avatar:fi,bio:"Organic skincare for the modern lifestyle. We are looking for creators who prioritize natural beauty and honest reviews.",location:"London, UK",industry:"Beauty & Cosmetics",companySize:"100-500",website:"glowskin.co",tags:["Skincare","Beauty","Organic","Self-Care"],stats:{budget:"2,000 - 8,000"},aiMatchScore:72,aiMatchReason:"While beauty isn't your primary niche, your lifestyle content shows a strong interest in wellness products.",portfolio:[]}],Nw=[{...Xa,id:"test-inf-1",name:"Jamie Rivera",email:"jamie.travels@social.com",role:Ke.INFLUENCER,avatar:fi,bio:"Solo traveler documenting hidden gems and local eats. Content focused on budget travel and authentic experiences.",location:"Nomad / Bali",jobTitle:"Travel Vlogger",tags:["Travel","Food","Adventure","Budget"],stats:{followers:"45k",engagement:"8.5%"},socials:{instagram:"@jamietravels",youtube:"youtube.com/jamierivera"},aiMatchScore:92,aiMatchReason:"High engagement in the travel sector makes Jamie perfect for location-based campaigns.",portfolio:[]},{...Xa,id:"inf-1",name:"Sarah Jensen",email:"sarah.jensen@creators.com",role:Ke.INFLUENCER,avatar:fi,bio:"Lifestyle & Wellness creator based in NYC. I share daily routines, healthy recipes, and aesthetic living tips. Helping brands reach Gen-Z naturally.",location:"New York, NY",jobTitle:"Lifestyle Creator",tags:["Wellness","Aesthetic","Gen-Z","Lifestyle"],stats:{followers:"120k",engagement:"4.2%"},socials:{instagram:"@sarahliving",tiktok:"@sarahjensen",youtube:"youtube.com/sarahjensen"},aiMatchScore:94,aiMatchReason:"Your brand values for Aura Wellness align 100% with Sarah's high-quality yoga content.",portfolio:[]},{...Xa,id:"inf-2",name:"Marcus Chen",email:"marcus@techreviews.com",role:Ke.INFLUENCER,avatar:fi,bio:"Tech enthusiast and Software Engineer. I build apps and review the latest hardware. Focused on AI and futuristic gadgets.",location:"San Francisco, CA",jobTitle:"Tech Reviewer",tags:["Tech","AI","Software","Gadgets"],stats:{followers:"540k",engagement:"3.1%"},socials:{twitter:"@marcustech",youtube:"youtube.com/marcusreviews",linkedin:"linkedin.com/in/marcuschen"},aiMatchScore:88,aiMatchReason:"Marcus has a highly conversion-driven audience for SaaS products like NextGen AI.",portfolio:[]},{...Xa,id:"inf-3",name:"Alex Rivera",email:"alex@fitness.fit",role:Ke.INFLUENCER,avatar:fi,bio:"Certified personal trainer and hybrid athlete. Helping you build a body that looks good and performs better. No shortcuts, just hard work.",location:"Miami, FL",jobTitle:"Fitness Coach",tags:["Fitness","Health","Athlete","Nutrition"],stats:{followers:"85k",engagement:"7.8%"},socials:{instagram:"@alexriverafit",tiktok:"@alexfit"},aiMatchScore:79,aiMatchReason:"Exceptional engagement rate. His audience trusts his product recommendations implicitly.",portfolio:[]}];class Fie{constructor(){this.currentUser=null}checkConfig(){if(!Va||!Ge)throw new Error("Firebase is not configured. Please check your environment variables.")}syncSession(e){e&&e.id?this.currentUser=e:this.currentUser=null}async login(e,n,r){if(this.checkConfig(),!n||!r)throw new Error("Email and password required for Firebase Auth");try{const o=(await jee(Va,n,r)).user.uid,s=Un(Ge,"users",o);try{const l=await ch(s);if(l.exists()){const c=l.data();return this.currentUser=c,e===Ke.ADMIN&&c.avatar!==yu&&(this.currentUser.avatar=yu,fh(s,{avatar:yu}).catch(f=>console.warn("Failed to update admin avatar",f))),localStorage.setItem("ping_session_user",JSON.stringify(this.currentUser)),this.currentUser}else{if(e===Ke.ADMIN){const c={id:o,name:"System Admin",email:n,role:Ke.ADMIN,avatar:yu,tags:["Admin"],status:Br.ACTIVE,verificationStatus:ai.VERIFIED,joinedAt:Date.now(),reportCount:0,isPremium:!0};return await Ua(Un(Ge,"users",o),c),this.currentUser=c,c}if(n==="hello@pixelarcade.co"){const c={...Iw[0],id:o};return await Ua(Un(Ge,"users",o),c),this.currentUser=c,c}if(n==="jamie.travels@social.com"){const c={...Nw[0],id:o};return await Ua(Un(Ge,"users",o),c),this.currentUser=c,c}throw new Error("User profile not found in database.")}}catch(l){throw console.error("Firestore Error during login:",l),l.code==="permission-denied"?new Error("Permission denied. Please check your Firestore Security Rules."):l}}catch(i){throw console.error("Login Error:",i),i}}async signup(e,n,r,i){this.checkConfig();try{const s=(await Lee(Va,e,n)).user.uid,l={id:s,name:i,email:e,role:r,avatar:fi,bio:"",location:"",tags:[],stats:r===Ke.BUSINESS?{budget:"0"}:{followers:"0",engagement:"0%"},verified:!1,status:Br.ACTIVE,verificationStatus:ai.UNVERIFIED,joinedAt:Date.now(),reportCount:0,isPremium:!1,socials:{},portfolio:[]};return await Ua(Un(Ge,"users",s),l),this.currentUser=l,localStorage.setItem("ping_session_user",JSON.stringify(this.currentUser)),l}catch(o){throw console.error("Signup Error:",o),o}}async sendMagicLink(e,n=window.location.href){this.checkConfig();const r={url:n,handleCodeInApp:!0};try{await Vee(Va,e,r),localStorage.setItem("emailForSignIn",e)}catch(i){throw console.error("Error sending magic link:",i),i}}async verifyMagicLink(e,n,r,i){if(this.checkConfig(),!Uee(Va,n))throw new Error("Invalid magic link URL.");try{const s=(await Bee(Va,e,n)).user.uid,l=Un(Ge,"users",s),c=await ch(l);if(c.exists())this.currentUser=c.data();else{if(!r||!i)throw new Error("Role and Name are required for new account creation via Magic Link.");const f={id:s,name:i,email:e,role:r,avatar:fi,bio:"",location:"",tags:[],stats:r===Ke.BUSINESS?{budget:"0"}:{followers:"0",engagement:"0%"},verified:!1,status:Br.ACTIVE,verificationStatus:ai.UNVERIFIED,joinedAt:Date.now(),reportCount:0,isPremium:!1,socials:{},portfolio:[]};await Ua(l,f),this.currentUser=f}return localStorage.setItem("ping_session_user",JSON.stringify(this.currentUser)),localStorage.removeItem("emailForSignIn"),this.currentUser}catch(o){throw console.error("Error verifying magic link:",o),o}}async logout(){Va&&await zee(Va),this.currentUser=null,localStorage.removeItem("ping_session_user")}async uploadFile(e,n){this.checkConfig();try{if(!UD)throw new Error("Storage not initialized");const r=fre(UD,n),i=await ure(r,e);return await cre(i.ref)}catch(r){return console.error("Storage Upload Error:",r),alert("Upload failed: Check network/config. Using temporary preview."),URL.createObjectURL(e)}}async updateUserProfile(e,n){this.checkConfig();try{const r=Un(Ge,"users",e);await fh(r,n),this.currentUser&&this.currentUser.id===e&&(this.currentUser={...this.currentUser,...n},localStorage.setItem("ping_session_user",JSON.stringify(this.currentUser)))}catch(r){throw console.error("Update Profile Error:",r),r}}async getCandidates(e){const n=e===Ke.BUSINESS?Nw:Iw;if(!this.currentUser)return n;if(this.currentUser.id&&this.currentUser.id.startsWith("test-"))try{if(!Cw||!Ge)return n;const i=e===Ke.BUSINESS?Ke.INFLUENCER:Ke.BUSINESS,o=ro(jn(Ge,"users"),Lr("role","==",i),Lr("status","==",Br.ACTIVE)),s=(await jr(o)).docs.map(l=>l.data());return s.length<3?n:s}catch{return n}if(!Ge)return n;const r=e===Ke.BUSINESS?Ke.INFLUENCER:Ke.BUSINESS;try{const i=jn(Ge,"users",this.currentUser.id,"received_swipes"),o=ro(i,Lr("direction","==","up"),Lr("seen","==",!1)),s=await jr(o).catch(()=>({docs:[]})),l=new Set(s.docs.map(_=>_.data().fromUserId)),c=ro(jn(Ge,"users"),Lr("role","==",r),Lr("status","==",Br.ACTIVE)),f=await jr(c),h=[],p=[];f.forEach(_=>{var S;if(_.id!==((S=this.currentUser)==null?void 0:S.id)){const A=_.data();l.has(A.id)?(A.aiMatchScore=(A.aiMatchScore||70)+20,p.push(A)):h.push(A)}});const y=[...p,...h];return y.length>0?y:n}catch{return n}}async getDailySwipeCount(e){if(!Ge||e.startsWith("test-"))return 0;try{const n=new Date;n.setHours(0,0,0,0);const r=jn(Ge,"users",e,"swipes"),i=ro(r,Lr("timestamp",">=",n.getTime()),Lr("direction","in",["right","up"]));return(await jr(i)).size}catch(n){return console.error("Failed to fetch daily swipe count",n),0}}async swipe(e,n,r){this.checkConfig();const i=jn(Ge,"users",e,"swipes");if(await bw(i,{targetId:n,direction:r,timestamp:Date.now()}),r==="left")return{isMatch:!1};try{const c=jn(Ge,"users",n,"received_swipes");await bw(c,{fromUserId:e,direction:r,timestamp:Date.now(),seen:!1})}catch{}const o=jn(Ge,"users",n,"swipes"),s=ro(o,Lr("targetId","==",e),Lr("direction","in",["right","up"]));if(!(await jr(s)).empty){const f=(await ch(Un(Ge,"users",n))).data(),h=[e,n].sort().join("_"),p={id:h,users:[e,n],lastActive:Date.now(),userProfile:f,lastMessage:"",lastSenderId:""};return await Ua(Un(Ge,"matches",h),p),{isMatch:!0,match:p}}return{isMatch:!1}}subscribeToMatches(e,n){if(!Ge)return()=>{};const r=ro(jn(Ge,"matches"),Lr("users","array-contains",e));return sD(r,i=>{const o=i.docs.map(s=>{const l=s.data();return l.users.find(c=>c!==e),{...l,id:s.id}});n(o.sort((s,l)=>l.lastActive-s.lastActive))})}async getMatches(){if(!this.currentUser||!Cw||!Ge)return[];try{const e=ro(jn(Ge,"matches"),Lr("users","array-contains",this.currentUser.id)),n=await jr(e),r=[];for(const i of n.docs){const o=i.data(),s=o.users.find(l=>{var c;return l!==((c=this.currentUser)==null?void 0:c.id)});if(s){let l=o.userProfile;try{const c=await ch(Un(Ge,"users",s));c.exists()&&(l=c.data())}catch{}l&&r.push({...o,id:i.id,userProfile:l})}}return r.sort((i,o)=>o.lastActive-i.lastActive)}catch{return[]}}subscribeToMessages(e,n){if(!Ge)return()=>{};const r=jn(Ge,"matches",e,"messages"),i=ro(r,rD("timestamp","asc"));return sD(i,o=>{const s=o.docs.map(l=>({id:l.id,...l.data()}));n(s)})}async getMessages(e){if(!Ge)return[];try{const n=jn(Ge,"matches",e,"messages"),r=ro(n,rD("timestamp","asc"));return(await jr(r)).docs.map(o=>({id:o.id,...o.data()}))}catch{return[]}}async sendMessage(e,n,r){if(!this.currentUser)throw new Error("Not logged in");this.checkConfig();const i={senderId:this.currentUser.id,text:n,timestamp:Date.now(),read:!1,...r},o=jn(Ge,"matches",e,"messages"),s=await bw(o,i),l=Un(Ge,"matches",e);return await Ua(l,{lastMessage:n,lastSenderId:this.currentUser.id,lastActive:Date.now()},{merge:!0}),{id:s.id,...i}}async getNotifications(){return[]}async getNewLikesCount(){if(!this.currentUser||!Cw||!Ge)return 0;try{const e=ro(jn(Ge,"users",this.currentUser.id,"received_swipes"),Lr("seen","==",!1));return(await jr(e)).size}catch{return 0}}async getAnalyticsStats(e){const n={profileViews:0,matchRate:0,chartData:[],recentActivity:[]};if(!Ge||e.startsWith("test-"))return n;try{const r=jn(Ge,"users",e,"received_swipes"),i=await jr(r),o=i.size,s=jn(Ge,"users",e,"swipes"),l=(await jr(s)).size,c=ro(jn(Ge,"matches"),Lr("users","array-contains",e)),f=(await jr(c)).size,h=l>0?Math.round(f/l*100):0,p=Date.now(),y=864e5,_=new Map;for(let M=6;M>=0;M--){const I=new Date(p-M*y);_.set(I.toLocaleDateString("en-US",{weekday:"short"}),0)}const S=[];i.forEach(M=>{const I=M.data();if(I.timestamp){if(p-I.timestamp<7*y){const C=new Date(I.timestamp).toLocaleDateString("en-US",{weekday:"short"});_.has(C)&&_.set(C,(_.get(C)||0)+1)}S.push(I)}}),S.sort((M,I)=>I.timestamp-M.timestamp);const A=S.slice(0,2),E=Array.from(_.entries()).map(([M,I])=>({day:M,value:I}));return{profileViews:o,matchRate:h,chartData:E,recentActivity:A}}catch(r){return console.error("Failed to query analytics",r),n}}async getAllUsers(){if(!Ge)return[];try{return(await jr(jn(Ge,"users"))).docs.map(n=>n.data())}catch{return[]}}async updateUserStatus(e,n){this.checkConfig(),await fh(Un(Ge,"users",e),{status:n})}async verifyUser(e,n){this.checkConfig(),await fh(Un(Ge,"users",e),{verificationStatus:n?ai.VERIFIED:ai.REJECTED,verified:n})}async addMatch(e){if(!this.currentUser)throw new Error("No user");const n=[this.currentUser.id,e.id].sort().join("_"),r=Un(Ge,"matches",n),i=await ch(r);return i.exists()?{...i.data(),id:n,userProfile:e}:this.swipe(this.currentUser.id,e.id,"right").then(o=>{if(!o.match)throw new Error("Failed to create match");return o.match})}async getContract(e){return null}async getAdminStats(){const e={totalUsers:0,split:{business:0,influencer:0},revenue:0,activeMatches:0,pendingVerifications:0};if(!Ge)return e;try{const n=await jr(jn(Ge,"users")),r=await jr(jn(Ge,"matches"));let i=0,o=0,s=0;return n.forEach(l=>{const c=l.data();c.role===Ke.BUSINESS?i++:c.role===Ke.INFLUENCER&&o++,c.verificationStatus===ai.PENDING&&s++}),{totalUsers:n.size,split:{business:i,influencer:o},revenue:n.size*10,activeMatches:r.size,pendingVerifications:s}}catch{return e}}async upgradeToPremium(){this.currentUser&&(this.checkConfig(),await fh(Un(Ge,"users",this.currentUser.id),{isPremium:!0}),this.currentUser.isPremium=!0)}async seedDatabase(){this.checkConfig();const e=LZ(Ge);Iw.forEach(n=>e.set(Un(Ge,"users",n.id),n)),Nw.forEach(n=>e.set(Un(Ge,"users",n.id),n)),await e.commit()}}const kt=new Fie,hb=Y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),pb=Y.createContext({}),mb=Y.createContext(null),gb=typeof document<"u",xm=gb?Y.useLayoutEffect:Y.useEffect,S9=Y.createContext({strict:!1}),CN=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qie="framerAppearId",A9="data-"+CN(qie),C9={skipAnimations:!1,useManualTiming:!1};class BD{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function zie(t){let e=new BD,n=new BD,r=0,i=!1,o=!1;const s=new WeakSet,l={schedule:(c,f=!1,h=!1)=>{const p=h&&i,y=p?e:n;return f&&s.add(c),y.add(c)&&p&&i&&(r=e.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let f=0;f<r;f++){const h=e.order[f];s.has(h)&&(l.schedule(h),t()),h(c)}i=!1,o&&(o=!1,l.process(c))}};return l}const vy=["prepare","read","update","preRender","render","postRender"],$ie=40;function I9(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=vy.reduce((p,y)=>(p[y]=zie(()=>n=!0),p),{}),s=p=>{o[p].process(i)},l=()=>{const p=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,$ie),1),i.timestamp=p,i.isProcessing=!0,vy.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,i.isProcessing||t(l)};return{schedule:vy.reduce((p,y)=>{const _=o[y];return p[y]=(S,A=!1,E=!1)=>(n||c(),_.schedule(S,A,E)),p},{}),cancel:p=>vy.forEach(y=>o[y].cancel(p)),state:i,steps:o}}const{schedule:IN}=I9(queueMicrotask,!1);function Gie(t,e,n,r){const{visualElement:i}=Y.useContext(pb),o=Y.useContext(S9),s=Y.useContext(mb),l=Y.useContext(hb).reducedMotion,c=Y.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));const f=c.current;Y.useInsertionEffect(()=>{f&&f.update(n,s)});const h=Y.useRef(!!(n[A9]&&!window.HandoffComplete));return xm(()=>{f&&(IN.postRender(f.render),h.current&&f.animationState&&f.animationState.animateChanges())}),Y.useEffect(()=>{f&&(f.updateFeatures(),!h.current&&f.animationState&&f.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),f}function Qc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Hie(t,e,n){return Y.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qc(n)&&(n.current=r))},[e])}function mp(t){return typeof t=="string"||Array.isArray(t)}function yb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const NN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RN=["initial",...NN];function vb(t){return yb(t.animate)||RN.some(e=>mp(t[e]))}function N9(t){return!!(vb(t)||t.variants)}function Kie(t,e){if(vb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||mp(n)?n:void 0,animate:mp(r)?r:void 0}}return t.inherit!==!1?e:{}}function Wie(t){const{initial:e,animate:n}=Kie(t,Y.useContext(pb));return Y.useMemo(()=>({initial:e,animate:n}),[FD(e),FD(n)])}function FD(t){return Array.isArray(t)?t.join(" "):t}const qD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gp={};for(const t in qD)gp[t]={isEnabled:e=>qD[t].some(n=>!!e[n])};function Yie(t){for(const e in t)gp[e]={...gp[e],...t[e]}}const kN=Y.createContext({}),R9=Y.createContext({}),Jie=Symbol.for("motionComponentSymbol");function Xie({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Yie(t);function o(l,c){let f;const h={...Y.useContext(hb),...l,layoutId:Qie(l)},{isStatic:p}=h,y=Wie(l),_=r(l,p);if(!p&&gb){y.visualElement=Gie(i,_,h,e);const S=Y.useContext(R9),A=Y.useContext(S9).strict;y.visualElement&&(f=y.visualElement.loadFeatures(h,A,t,S))}return Y.createElement(pb.Provider,{value:y},f&&y.visualElement?Y.createElement(f,{visualElement:y.visualElement,...h}):null,n(i,l,Hie(_,y.visualElement,c),_,p,y.visualElement))}const s=Y.forwardRef(o);return s[Jie]=i,s}function Qie({layoutId:t}){const e=Y.useContext(kN).id;return e&&t!==void 0?e+"-"+t:t}function Zie(t){function e(r,i={}){return Xie(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const eoe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function PN(t){return typeof t!="string"||t.includes("-")?!1:!!(eoe.indexOf(t)>-1||/[A-Z]/.test(t))}const Nv={};function toe(t){Object.assign(Nv,t)}const _m=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yu=new Set(_m);function k9(t,{layout:e,layoutId:n}){return Yu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Nv[t]||t==="opacity")}const Xn=t=>!!(t&&t.getVelocity),noe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},roe=_m.length;function ioe(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<roe;s++){const l=_m[s];if(t[l]!==void 0){const c=noe[l]||l;o+=`${c}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const P9=t=>e=>typeof e=="string"&&e.startsWith(t),M9=P9("--"),ooe=P9("var(--"),Rv=t=>ooe(t)?soe.test(t.split("/*")[0].trim()):!1,soe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,aoe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,pl=(t,e,n)=>n>e?e:n<t?t:n,Jf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Kh={...Jf,transform:t=>pl(0,1,t)},by={...Jf,default:1},Wh=t=>Math.round(t*1e5)/1e5,MN=/(-)?([\d]*\.?[\d])+/g,loe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,uoe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function wm(t){return typeof t=="string"}const Tm=t=>({test:e=>wm(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ba=Tm("deg"),ns=Tm("%"),He=Tm("px"),coe=Tm("vh"),foe=Tm("vw"),zD={...ns,parse:t=>ns.parse(t)/100,transform:t=>ns.transform(t*100)},$D={...Jf,transform:Math.round},O9={borderWidth:He,borderTopWidth:He,borderRightWidth:He,borderBottomWidth:He,borderLeftWidth:He,borderRadius:He,radius:He,borderTopLeftRadius:He,borderTopRightRadius:He,borderBottomRightRadius:He,borderBottomLeftRadius:He,width:He,maxWidth:He,height:He,maxHeight:He,size:He,top:He,right:He,bottom:He,left:He,padding:He,paddingTop:He,paddingRight:He,paddingBottom:He,paddingLeft:He,margin:He,marginTop:He,marginRight:He,marginBottom:He,marginLeft:He,rotate:Ba,rotateX:Ba,rotateY:Ba,rotateZ:Ba,scale:by,scaleX:by,scaleY:by,scaleZ:by,skew:Ba,skewX:Ba,skewY:Ba,distance:He,translateX:He,translateY:He,translateZ:He,x:He,y:He,z:He,perspective:He,transformPerspective:He,opacity:Kh,originX:zD,originY:zD,originZ:He,zIndex:$D,fillOpacity:Kh,strokeOpacity:Kh,numOctaves:$D};function ON(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:l}=t;let c=!1,f=!1,h=!0;for(const p in e){const y=e[p];if(M9(p)){o[p]=y;continue}const _=O9[p],S=aoe(y,_);if(Yu.has(p)){if(c=!0,s[p]=S,!h)continue;y!==(_.default||0)&&(h=!1)}else p.startsWith("origin")?(f=!0,l[p]=S):i[p]=S}if(e.transform||(c||r?i.transform=ioe(t.transform,n,h,r):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:y="50%",originZ:_=0}=l;i.transformOrigin=`${p} ${y} ${_}`}}const DN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function D9(t,e,n){for(const r in e)!Xn(e[r])&&!k9(r,n)&&(t[r]=e[r])}function doe({transformTemplate:t},e,n){return Y.useMemo(()=>{const r=DN();return ON(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function hoe(t,e,n){const r=t.style||{},i={};return D9(i,r,t),Object.assign(i,doe(t,e,n)),i}function poe(t,e,n){const r={},i=hoe(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const moe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||moe.has(t)}let L9=t=>!kv(t);function goe(t){t&&(L9=e=>e.startsWith("on")?!kv(e):t(e))}try{goe(require("@emotion/is-prop-valid").default)}catch{}function yoe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(L9(i)||n===!0&&kv(i)||!e&&!kv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function GD(t,e,n){return typeof t=="string"?t:He.transform(e+n*t)}function voe(t,e,n){const r=GD(e,t.x,t.width),i=GD(n,t.y,t.height);return`${r} ${i}`}const boe={offset:"stroke-dashoffset",array:"stroke-dasharray"},xoe={offset:"strokeDashoffset",array:"strokeDasharray"};function _oe(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?boe:xoe;t[o.offset]=He.transform(-r);const s=He.transform(e),l=He.transform(n);t[o.array]=`${s} ${l}`}function LN(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...f},h,p,y){if(ON(t,f,h,y),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:S,dimensions:A}=t;_.transform&&(A&&(S.transform=_.transform),delete _.transform),A&&(i!==void 0||o!==void 0||S.transform)&&(S.transformOrigin=voe(A,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),s!==void 0&&_oe(_,s,l,c,!1)}const j9=()=>({...DN(),attrs:{}}),jN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function woe(t,e,n,r){const i=Y.useMemo(()=>{const o=j9();return LN(o,e,{enableHardwareAcceleration:!1},jN(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};D9(o,t.style,t),i.style={...o,...i.style}}return i}function Toe(t=!1){return(n,r,i,{latestValues:o},s)=>{const c=(PN(n)?woe:poe)(r,o,s,n),f=yoe(r,typeof n=="string",t),h=n!==Y.Fragment?{...f,...c,ref:i}:{},{children:p}=r,y=Y.useMemo(()=>Xn(p)?p.get():p,[p]);return Y.createElement(n,{...h,children:y})}}function V9(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const U9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function B9(t,e,n,r){V9(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(U9.has(i)?i:CN(i),e.attrs[i])}function VN(t,e){const{style:n}=t,r={};for(const i in n)(Xn(n[i])||e.style&&Xn(e.style[i])||k9(i,t))&&(r[i]=n[i]);return r}function F9(t,e){const n=VN(t,e);for(const r in t)if(Xn(t[r])||Xn(e[r])){const i=_m.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function UN(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function bb(t){const e=Y.useRef(null);return e.current===null&&(e.current=t()),e.current}const Pv=t=>Array.isArray(t),Eoe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Soe=t=>Pv(t)?t[t.length-1]||0:t;function Zy(t){const e=Xn(t)?t.get():t;return Eoe(e)?e.toValue():e}function Aoe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:Coe(r,i,o,t),renderState:e()};return n&&(s.mount=l=>n(r,l,s)),s}const q9=t=>(e,n)=>{const r=Y.useContext(pb),i=Y.useContext(mb),o=()=>Aoe(t,e,r,i);return n?o():bb(o)};function Coe(t,e,n,r){const i={},o=r(t,{});for(const y in o)i[y]=Zy(o[y]);let{initial:s,animate:l}=t;const c=vb(t),f=N9(t);e&&f&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||s===!1;const p=h?l:s;return p&&typeof p!="boolean"&&!yb(p)&&(Array.isArray(p)?p:[p]).forEach(_=>{const S=UN(t,_);if(!S)return;const{transitionEnd:A,transition:E,...M}=S;for(const I in M){let N=M[I];if(Array.isArray(N)){const C=h?N.length-1:0;N=N[C]}N!==null&&(i[I]=N)}for(const I in A)i[I]=A[I]}),i}const Mn=t=>t,{schedule:Qt,cancel:vo,state:Kn,steps:Rw}=I9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0),Ioe={useVisualState:q9({scrapeMotionValuesFromProps:F9,createRenderState:j9,onMount:(t,e,{renderState:n,latestValues:r})=>{Qt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Qt.render(()=>{LN(n,r,{enableHardwareAcceleration:!1},jN(e.tagName),t.transformTemplate),B9(e,n)})}})},Noe={useVisualState:q9({scrapeMotionValuesFromProps:VN,createRenderState:DN})};function Roe(t,{forwardMotionProps:e=!1},n,r){return{...PN(t)?Ioe:Noe,preloadedFeatures:n,useRender:Toe(e),createVisualElement:r,Component:t}}function Os(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const z9=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function xb(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const koe=t=>e=>z9(e)&&t(e,xb(e));function Vs(t,e,n,r){return Os(t,e,koe(n),r)}const Poe=(t,e)=>n=>e(t(n)),Us=(...t)=>t.reduce(Poe);function $9(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const HD=$9("dragHorizontal"),KD=$9("dragVertical");function G9(t){let e=!1;if(t==="y")e=KD();else if(t==="x")e=HD();else{const n=HD(),r=KD();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function H9(){const t=G9(!0);return t?(t(),!1):!0}class Tl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function WD(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||H9())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&Qt.update(()=>l[r](o,s))};return Vs(t.current,n,i,{passive:!t.getProps()[r]})}class Moe extends Tl{mount(){this.unmount=Us(WD(this.node,!0),WD(this.node,!1))}unmount(){}}class Ooe extends Tl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Us(Os(this.node.current,"focus",()=>this.onFocus()),Os(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const K9=(t,e)=>e?t===e?!0:K9(t,e.parentElement):!1;function kw(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,xb(n))}class Doe extends Tl{constructor(){super(...arguments),this.removeStartListeners=Mn,this.removeEndListeners=Mn,this.removeAccessibleListeners=Mn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Vs(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:f,onTapCancel:h,globalTapTarget:p}=this.node.getProps();Qt.update(()=>{!p&&!K9(this.node.current,l.target)?h&&h(l,c):f&&f(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=Vs(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Us(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=l=>{l.key!=="Enter"||!this.checkPressEnd()||kw("up",(c,f)=>{const{onTap:h}=this.node.getProps();h&&Qt.update(()=>h(c,f))})};this.removeEndListeners(),this.removeEndListeners=Os(this.node.current,"keyup",s),kw("down",(l,c)=>{this.startPress(l,c)})},n=Os(this.node.current,"keydown",e),r=()=>{this.isPressing&&kw("cancel",(o,s)=>this.cancelPress(o,s))},i=Os(this.node.current,"blur",r);this.removeAccessibleListeners=Us(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Qt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!H9()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Qt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Vs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Os(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Us(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const SA=new WeakMap,Pw=new WeakMap,Loe=t=>{const e=SA.get(t.target);e&&e(t)},joe=t=>{t.forEach(Loe)};function Voe({root:t,...e}){const n=t||document;Pw.has(n)||Pw.set(n,{});const r=Pw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(joe,{root:t,...e})),r[i]}function Uoe(t,e,n){const r=Voe(e);return SA.set(t,n),r.observe(t),()=>{SA.delete(t),r.unobserve(t)}}const Boe={some:0,all:1};class Foe extends Tl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Boe[i]},l=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),y=f?h:p;y&&y(c)};return Uoe(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qoe(e,n))&&this.startObserver()}unmount(){}}function qoe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zoe={inView:{Feature:Foe},tap:{Feature:Doe},focus:{Feature:Ooe},hover:{Feature:Moe}};function W9(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function $oe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Goe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function _b(t,e,n){const r=t.getProps();return UN(r,e,n!==void 0?n:r.custom,$oe(t),Goe(t))}let BN=Mn;const il=t=>t*1e3,rs=t=>t/1e3,Hoe={current:!1},Y9=t=>Array.isArray(t)&&typeof t[0]=="number";function J9(t){return!!(!t||typeof t=="string"&&X9[t]||Y9(t)||Array.isArray(t)&&t.every(J9))}const Mh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,X9={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mh([0,.65,.55,1]),circOut:Mh([.55,0,1,.45]),backIn:Mh([.31,.01,.66,-.59]),backOut:Mh([.33,1.53,.69,.99])};function Q9(t){if(t)return Y9(t)?Mh(t):Array.isArray(t)?t.map(Q9):X9[t]}function Koe(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:l,times:c}={}){const f={[e]:n};c&&(f.offset=c);const h=Q9(l);return Array.isArray(h)&&(f.easing=h),t.animate(f,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function Woe(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Z9=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Yoe=1e-7,Joe=12;function Xoe(t,e,n,r,i){let o,s,l=0;do s=e+(n-e)/2,o=Z9(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>Yoe&&++l<Joe);return s}function Em(t,e,n,r){if(t===e&&n===r)return Mn;const i=o=>Xoe(o,0,1,t,n);return o=>o===0||o===1?o:Z9(i(o),e,r)}const Qoe=Em(.42,0,1,1),Zoe=Em(0,0,.58,1),e$=Em(.42,0,.58,1),t$=t=>Array.isArray(t)&&typeof t[0]!="number",n$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,r$=t=>e=>1-t(1-e),FN=t=>1-Math.sin(Math.acos(t)),i$=r$(FN),ese=n$(FN),o$=Em(.33,1.53,.69,.99),qN=r$(o$),tse=n$(qN),nse=t=>(t*=2)<1?.5*qN(t):.5*(2-Math.pow(2,-10*(t-1))),rse={linear:Mn,easeIn:Qoe,easeInOut:e$,easeOut:Zoe,circIn:FN,circInOut:ese,circOut:i$,backIn:qN,backInOut:tse,backOut:o$,anticipate:nse},YD=t=>{if(Array.isArray(t)){BN(t.length===4);const[e,n,r,i]=t;return Em(e,n,r,i)}else if(typeof t=="string")return rse[t];return t},Tf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},sn=(t,e,n)=>t+(e-t)*n;function Mw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ise({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=Mw(c,l,t+1/3),o=Mw(c,l,t),s=Mw(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const zN=(t,e)=>n=>!!(wm(n)&&uoe.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),s$=(t,e,n)=>r=>{if(!wm(r))return r;const[i,o,s,l]=r.match(MN);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},ose=t=>pl(0,255,t),Ow={...Jf,transform:t=>Math.round(ose(t))},vu={test:zN("rgb","red"),parse:s$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ow.transform(t)+", "+Ow.transform(e)+", "+Ow.transform(n)+", "+Wh(Kh.transform(r))+")"};function sse(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const AA={test:zN("#"),parse:sse,transform:vu.transform},Zc={test:zN("hsl","hue"),parse:s$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ns.transform(Wh(e))+", "+ns.transform(Wh(n))+", "+Wh(Kh.transform(r))+")"},Dw=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},ase=[AA,vu,Zc],lse=t=>ase.find(e=>e.test(t));function JD(t){const e=lse(t);let n=e.parse(t);return e===Zc&&(n=ise(n)),n}const XD=(t,e)=>{const n=JD(t),r=JD(e),i={...n};return o=>(i.red=Dw(n.red,r.red,o),i.green=Dw(n.green,r.green,o),i.blue=Dw(n.blue,r.blue,o),i.alpha=sn(n.alpha,r.alpha,o),vu.transform(i))},dr={test:t=>vu.test(t)||AA.test(t)||Zc.test(t),parse:t=>vu.test(t)?vu.parse(t):Zc.test(t)?Zc.parse(t):AA.parse(t),transform:t=>wm(t)?t:t.hasOwnProperty("red")?vu.transform(t):Zc.transform(t)};function use(t){var e,n;return isNaN(t)&&wm(t)&&(((e=t.match(MN))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(loe))===null||n===void 0?void 0:n.length)||0)>0}const a$="number",l$="color",cse="var",fse="var(",QD="${}",ZD=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function Mv(t){const e=t.toString(),n=e.match(ZD)||[],r=[],i={color:[],number:[],var:[]},o=[];for(let c=0;c<n.length;c++){const f=n[c];dr.test(f)?(i.color.push(c),o.push(l$),r.push(dr.parse(f))):f.startsWith(fse)?(i.var.push(c),o.push(cse),r.push(f)):(i.number.push(c),o.push(a$),r.push(parseFloat(f)))}const l=e.replace(ZD,QD).split(QD);return{values:r,split:l,indexes:i,types:o}}function u$(t){return Mv(t).values}function c$(t){const{split:e,types:n}=Mv(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const l=n[s];l===a$?o+=Wh(i[s]):l===l$?o+=dr.transform(i[s]):o+=i[s]}return o}}const dse=t=>typeof t=="number"?0:t;function hse(t){const e=u$(t);return c$(t)(e.map(dse))}const ml={test:use,parse:u$,createTransformer:c$,getAnimatableNone:hse};function CA(t,e){return n=>n>0?e:t}function pse(t,e){return n=>sn(t,e,n)}function $N(t){return typeof t=="number"?pse:typeof t=="string"?Rv(t)?CA:dr.test(t)?XD:yse:Array.isArray(t)?f$:typeof t=="object"?dr.test(t)?XD:mse:CA}function f$(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>$N(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function mse(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=$N(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function gse(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],l=t.indexes[s][i[s]],c=(n=t.values[l])!==null&&n!==void 0?n:0;r[o]=c,i[s]++}return r}const yse=(t,e)=>{const n=ml.createTransformer(e),r=Mv(t),i=Mv(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Us(f$(gse(r,i),i.values),n):CA(t,e)};function d$(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?sn(t,e,n):$N(t)(t,e)}function vse(t,e,n){const r=[],i=n||d$,o=t.length-1;for(let s=0;s<o;s++){let l=i(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||Mn:e;l=Us(c,l)}r.push(l)}return r}function h$(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(BN(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=vse(e,r,i),l=s.length,c=f=>{let h=0;if(l>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const p=Tf(t[h],t[h+1],f);return s[h](p)};return n?f=>c(pl(t[0],t[o-1],f)):c}function p$(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Tf(0,e,r);t.push(sn(n,1,i))}}function m$(t){const e=[0];return p$(e,t.length-1),e}function bse(t,e){return t.map(n=>n*e)}function xse(t,e){return t.map(()=>e||e$).splice(0,t.length-1)}function Ov({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=t$(r)?r.map(YD):YD(r),o={done:!1,value:e[0]},s=bse(n&&n.length===e.length?n:m$(e),t),l=h$(s,e,{ease:Array.isArray(i)?i:xse(e,i)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}function g$(t,e){return e?t*(1e3/e):0}const _se=5;function y$(t,e,n){const r=Math.max(e-_se,0);return g$(n-t(r),e-r)}const Lw=.001,wse=.01,Tse=10,Ese=.05,Sse=1;function Ase({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o,s=1-e;s=pl(Ese,Sse,s),t=pl(wse,Tse,rs(t)),s<1?(i=f=>{const h=f*s,p=h*t,y=h-n,_=IA(f,s),S=Math.exp(-p);return Lw-y/_*S},o=f=>{const p=f*s*t,y=p*n+n,_=Math.pow(s,2)*Math.pow(f,2)*t,S=Math.exp(-p),A=IA(Math.pow(f,2),s);return(-i(f)+Lw>0?-1:1)*((y-_)*S)/A}):(i=f=>{const h=Math.exp(-f*t),p=(f-n)*t+1;return-Lw+h*p},o=f=>{const h=Math.exp(-f*t),p=(n-f)*(t*t);return h*p});const l=5/t,c=Ise(i,o,l);if(t=il(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:s*2*Math.sqrt(r*f),duration:t}}}const Cse=12;function Ise(t,e,n){let r=n;for(let i=1;i<Cse;i++)r=r-t(r)/e(r);return r}function IA(t,e){return t*Math.sqrt(1-e*e)}const Nse=["duration","bounce"],Rse=["stiffness","damping","mass"];function eL(t,e){return e.some(n=>t[n]!==void 0)}function kse(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!eL(t,Rse)&&eL(t,Nse)){const n=Ase(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function GN({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:l,damping:c,mass:f,duration:h,velocity:p,isResolvedFromDuration:y}=kse({...r,velocity:-rs(r.velocity||0)}),_=p||0,S=c/(2*Math.sqrt(l*f)),A=o-i,E=rs(Math.sqrt(l/f)),M=Math.abs(A)<5;n||(n=M?.01:2),e||(e=M?.005:.5);let I;if(S<1){const N=IA(E,S);I=C=>{const R=Math.exp(-S*E*C);return o-R*((_+S*E*A)/N*Math.sin(N*C)+A*Math.cos(N*C))}}else if(S===1)I=N=>o-Math.exp(-E*N)*(A+(_+E*A)*N);else{const N=E*Math.sqrt(S*S-1);I=C=>{const R=Math.exp(-S*E*C),L=Math.min(N*C,300);return o-R*((_+S*E*A)*Math.sinh(L)+N*A*Math.cosh(L))/N}}return{calculatedDuration:y&&h||null,next:N=>{const C=I(N);if(y)s.done=N>=h;else{let R=_;N!==0&&(S<1?R=y$(I,N,C):R=0);const L=Math.abs(R)<=n,P=Math.abs(o-C)<=e;s.done=L&&P}return s.value=s.done?o:C,s}}}function tL({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:c,restDelta:f=.5,restSpeed:h}){const p=t[0],y={done:!1,value:p},_=O=>l!==void 0&&O<l||c!==void 0&&O>c,S=O=>l===void 0?c:c===void 0||Math.abs(l-O)<Math.abs(c-O)?l:c;let A=n*e;const E=p+A,M=s===void 0?E:s(E);M!==E&&(A=M-p);const I=O=>-A*Math.exp(-O/r),N=O=>M+I(O),C=O=>{const j=I(O),q=N(O);y.done=Math.abs(j)<=f,y.value=y.done?M:q};let R,L;const P=O=>{_(y.value)&&(R=O,L=GN({keyframes:[y.value,S(y.value)],velocity:y$(N,O,y.value),damping:i,stiffness:o,restDelta:f,restSpeed:h}))};return P(0),{calculatedDuration:null,next:O=>{let j=!1;return!L&&R===void 0&&(j=!0,C(O),P(O)),R!==void 0&&O>R?L.next(O-R):(!j&&C(O),y)}}}let ev;function Pse(){ev=void 0}const Cu={now:()=>(ev===void 0&&Cu.set(Kn.isProcessing||C9.useManualTiming?Kn.timestamp:performance.now()),ev),set:t=>{ev=t,queueMicrotask(Pse)}},Mse=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Qt.update(e,!0),stop:()=>vo(e),now:()=>Kn.isProcessing?Kn.timestamp:Cu.now()}},NA=2e4;function RA(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<NA;)e+=n,r=t.next(e);return e>=NA?1/0:e}const Ose={decay:tL,inertia:tL,tween:Ov,keyframes:Ov,spring:GN},Dse=t=>t/100;function yp({autoplay:t=!0,delay:e=0,driver:n=Mse,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:l="loop",onPlay:c,onStop:f,onComplete:h,onUpdate:p,...y}){let _=1,S=!1,A,E;const M=()=>{E=new Promise(V=>{A=V})};M();let I;const N=Ose[i]||Ov;let C;N!==Ov&&typeof r[0]!="number"&&(C=Us(Dse,d$(r[0],r[1])),r=[0,100]);const R=N({...y,keyframes:r});let L;l==="mirror"&&(L=N({...y,keyframes:[...r].reverse(),velocity:-(y.velocity||0)}));let P="idle",O=null,j=null,q=null;R.calculatedDuration===null&&o&&(R.calculatedDuration=RA(R));const{calculatedDuration:F}=R;let z=1/0,B=1/0;F!==null&&(z=F+s,B=z*(o+1)-s);let X=0;const ie=V=>{if(j===null)return;_>0&&(j=Math.min(j,V)),_<0&&(j=Math.min(V-B/_,j)),O!==null?X=O:X=Math.round(V-j)*_;const $=X-e*(_>=0?1:-1),J=_>=0?$<0:$>B;X=Math.max($,0),P==="finished"&&O===null&&(X=B);let te=X,fe=R;if(o){const he=Math.min(X,B)/z;let Ie=Math.floor(he),Ae=he%1;!Ae&&he>=1&&(Ae=1),Ae===1&&Ie--,Ie=Math.min(Ie,o+1),!!(Ie%2)&&(l==="reverse"?(Ae=1-Ae,s&&(Ae-=s/z)):l==="mirror"&&(fe=L)),te=pl(0,1,Ae)*z}const ye=J?{done:!1,value:r[0]}:fe.next(te);C&&(ye.value=C(ye.value));let{done:Te}=ye;!J&&F!==null&&(Te=_>=0?X>=B:X<=0);const Se=O===null&&(P==="finished"||P==="running"&&Te);return p&&p(ye.value),Se&&se(),ye},W=()=>{I&&I.stop(),I=void 0},ee=()=>{P="idle",W(),A(),M(),j=q=null},se=()=>{P="finished",h&&h(),W(),A()},ge=()=>{if(S)return;I||(I=n(ie));const V=I.now();c&&c(),O!==null?j=V-O:(!j||P==="finished")&&(j=V),P==="finished"&&M(),q=j,O=null,P="running",I.start()};t&&ge();const K={then(V,$){return E.then(V,$)},get time(){return rs(X)},set time(V){V=il(V),X=V,O!==null||!I||_===0?O=V:j=I.now()-V/_},get duration(){const V=R.calculatedDuration===null?RA(R):R.calculatedDuration;return rs(V)},get speed(){return _},set speed(V){V===_||!I||(_=V,K.time=rs(X))},get state(){return P},play:ge,pause:()=>{P="paused",O=X},stop:()=>{S=!0,P!=="idle"&&(P="idle",f&&f(),ee())},cancel:()=>{q!==null&&ie(q),ee()},complete:()=>{P="finished"},sample:V=>(j=0,ie(V))};return K}function v$(t){let e;return()=>(e===void 0&&(e=t()),e)}const Lse=v$(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jse=new Set(["opacity","clipPath","filter","transform"]),xy=10,Vse=2e4,Use=(t,e)=>e.type==="spring"||t==="backgroundColor"||!J9(e.ease);function Bse(t,e,{onUpdate:n,onComplete:r,...i}){if(!(Lse()&&jse.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,l,c,f=!1;const h=()=>{c=new Promise(N=>{l=N})};h();let{keyframes:p,duration:y=300,ease:_,times:S}=i;if(Use(e,i)){const N=yp({...i,repeat:0,delay:0});let C={done:!1,value:p[0]};const R=[];let L=0;for(;!C.done&&L<Vse;)C=N.sample(L),R.push(C.value),L+=xy;S=void 0,p=R,y=L-xy,_="linear"}const A=Koe(t.owner.current,e,p,{...i,duration:y,ease:_,times:S}),E=()=>{f=!1,A.cancel()},M=()=>{f=!0,Qt.update(E),l(),h()};return A.onfinish=()=>{f||(t.set(Woe(p,i)),r&&r(),M())},{then(N,C){return c.then(N,C)},attachTimeline(N){return A.timeline=N,A.onfinish=null,Mn},get time(){return rs(A.currentTime||0)},set time(N){A.currentTime=il(N)},get speed(){return A.playbackRate},set speed(N){A.playbackRate=N},get duration(){return rs(y)},play:()=>{s||(A.play(),vo(E))},pause:()=>A.pause(),stop:()=>{if(s=!0,A.playState==="idle")return;const{currentTime:N}=A;if(N){const C=yp({...i,autoplay:!1});t.setWithVelocity(C.sample(N-xy).value,C.sample(N).value,xy)}M()},complete:()=>{f||A.finish()},cancel:M}}function Fse({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Mn,pause:Mn,stop:Mn,then:o=>(o(),Promise.resolve()),cancel:Mn,complete:Mn});return e?yp({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const qse={type:"spring",stiffness:500,damping:25,restSpeed:10},zse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$se={type:"keyframes",duration:.8},Gse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hse=(t,{keyframes:e})=>e.length>2?$se:Yu.has(t)?t.startsWith("scale")?zse(e[1]):qse:Gse,kA=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ml.test(e)||e==="0")&&!e.startsWith("url(")),Kse=new Set(["brightness","contrast","saturate","opacity"]);function Wse(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(MN)||[];if(!r)return t;const i=n.replace(r,"");let o=Kse.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Yse=/([a-z-]*)\(.*?\)/g,PA={...ml,getAnimatableNone:t=>{const e=t.match(Yse);return e?e.map(Wse).join(" "):t}},Jse={...O9,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:PA,WebkitFilter:PA},HN=t=>Jse[t];function b$(t,e){let n=HN(t);return n!==PA&&(n=ml),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const x$=t=>/^0[^.\s]+$/.test(t);function Xse(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||x$(t)}function Qse(t,e,n,r){const i=kA(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let l;const c=[];for(let f=0;f<o.length;f++)o[f]===null&&(o[f]=f===0?s:o[f-1]),Xse(o[f])&&c.push(f),typeof o[f]=="string"&&o[f]!=="none"&&o[f]!=="0"&&(l=o[f]);if(i&&c.length&&l)for(let f=0;f<c.length;f++){const h=c[f];o[h]=b$(e,l)}return o}function Zse({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:l,from:c,elapsed:f,...h}){return!!Object.keys(h).length}function KN(t,e){return t[e]||t.default||t}const WN=(t,e,n,r={})=>i=>{const o=KN(r,t)||{},s=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-il(s);const c=Qse(e,t,n,o),f=c[0],h=c[c.length-1],p=kA(t,f),y=kA(t,h);let _={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:S=>{e.set(S),o.onUpdate&&o.onUpdate(S)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(Zse(o)||(_={..._,...Hse(t,_)}),_.duration&&(_.duration=il(_.duration)),_.repeatDelay&&(_.repeatDelay=il(_.repeatDelay)),!p||!y||Hoe.current||o.type===!1||C9.skipAnimations)return Fse(_);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const S=Bse(e,t,_);if(S)return S}return yp(_)};function Dv(t){return!!(Xn(t)&&t.add)}const _$=t=>/^\-?\d*\.?\d+$/.test(t);function YN(t,e){t.indexOf(e)===-1&&t.push(e)}function wb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class JN{constructor(){this.subscriptions=[]}add(e){return YN(this.subscriptions,e),()=>wb(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nL=30,eae=t=>!isNaN(parseFloat(t)),Yh={current:void 0};class tae{constructor(e,n={}){this.version="11.0.8",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Cu.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=eae(this.current),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cu.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new JN);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Yh.current&&Yh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Cu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nL);return g$(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fu(t,e){return new tae(t,e)}const w$=t=>e=>e.test(t),nae={test:t=>t==="auto",parse:t=>t},T$=[Jf,He,ns,Ba,foe,coe,nae],hh=t=>T$.find(w$(t)),rae=[...T$,dr,ml],iae=t=>rae.find(w$(t));function oae(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fu(n))}function sae(t,e){const n=_b(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const l=Soe(o[s]);oae(t,s,l)}}function aae(t,e,n){var r,i;const o=Object.keys(e).filter(l=>!t.hasValue(l)),s=o.length;if(s)for(let l=0;l<s;l++){const c=o[l],f=e[c];let h=null;Array.isArray(f)&&(h=f[0]),h===null&&(h=(i=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&i!==void 0?i:e[c]),h!=null&&(typeof h=="string"&&(_$(h)||x$(h))?h=parseFloat(h):!iae(h)&&ml.test(f)&&(h=b$(c,f)),t.addValue(c,Fu(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function lae(t,e){return e?(e[t]||e.default||e).from:void 0}function uae(t,e,n){const r={};for(const i in t){const o=lae(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function cae({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fae(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function XN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(o=r);const f=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const y=t.getValue(p),_=l[p];if(!y||_===void 0||h&&cae(h,p))continue;const S={delay:n,elapsed:0,...KN(o||{},p)};if(window.HandoffAppearAnimations){const M=t.getProps()[A9];if(M){const I=window.HandoffAppearAnimations(M,p,y,Qt);I!==null&&(S.elapsed=I,S.isHandoff=!0)}}let A=!S.isHandoff&&!fae(y,_);if(S.type==="spring"&&(y.getVelocity()||S.velocity)&&(A=!1),y.animation&&(A=!1),A)continue;y.start(WN(p,y,_,t.shouldReduceMotion&&Yu.has(p)?{type:!1}:S));const E=y.animation;Dv(c)&&(c.add(p),E.then(()=>c.remove(p))),f.push(E)}return s&&Promise.all(f).then(()=>{s&&sae(t,s)}),f}function MA(t,e,n={}){const r=_b(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(XN(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=i;return dae(t,e,f+c,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,f]=l==="beforeChildren"?[o,s]:[s,o];return c().then(()=>f())}else return Promise.all([o(),s(n.delay)])}function dae(t,e,n=0,r=0,i=1,o){const s=[],l=(t.variantChildren.size-1)*r,c=i===1?(f=0)=>f*r:(f=0)=>l-f*r;return Array.from(t.variantChildren).sort(hae).forEach((f,h)=>{f.notify("AnimationStart",e),s.push(MA(f,e,{...o,delay:n+c(h)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(s)}function hae(t,e){return t.sortNodePosition(e)}function pae(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>MA(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=MA(t,e,n);else{const i=typeof e=="function"?_b(t,e,n.custom):e;r=Promise.all(XN(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const mae=[...NN].reverse(),gae=NN.length;function yae(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pae(t,n,r)))}function vae(t){let e=yae(t);const n=xae();let r=!0;const i=(c,f)=>{const h=_b(t,f);if(h){const{transition:p,transitionEnd:y,..._}=h;c={...c,..._,...y}}return c};function o(c){e=c(t)}function s(c,f){const h=t.getProps(),p=t.getVariantContext(!0)||{},y=[],_=new Set;let S={},A=1/0;for(let M=0;M<gae;M++){const I=mae[M],N=n[I],C=h[I]!==void 0?h[I]:p[I],R=mp(C),L=I===f?N.isActive:null;L===!1&&(A=M);let P=C===p[I]&&C!==h[I]&&R;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),N.protectedKeys={...S},!N.isActive&&L===null||!C&&!N.prevProp||yb(C)||typeof C=="boolean")continue;let j=bae(N.prevProp,C)||I===f&&N.isActive&&!P&&R||M>A&&R,q=!1;const F=Array.isArray(C)?C:[C];let z=F.reduce(i,{});L===!1&&(z={});const{prevResolvedValues:B={}}=N,X={...B,...z},ie=W=>{j=!0,_.has(W)&&(q=!0,_.delete(W)),N.needsAnimating[W]=!0};for(const W in X){const ee=z[W],se=B[W];if(S.hasOwnProperty(W))continue;let ge=!1;Pv(ee)&&Pv(se)?ge=!W9(ee,se):ge=ee!==se,ge?ee!==void 0?ie(W):_.add(W):ee!==void 0&&_.has(W)?ie(W):N.protectedKeys[W]=!0}N.prevProp=C,N.prevResolvedValues=z,N.isActive&&(S={...S,...z}),r&&t.blockInitialAnimation&&(j=!1),j&&(!P||q)&&y.push(...F.map(W=>({animation:W,options:{type:I,...c}})))}if(_.size){const M={};_.forEach(I=>{const N=t.getBaseTarget(I);N!==void 0&&(M[I]=N)}),y.push({animation:M})}let E=!!y.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(y):Promise.resolve()}function l(c,f,h){var p;if(n[c].isActive===f)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(_=>{var S;return(S=_.animationState)===null||S===void 0?void 0:S.setActive(c,f)}),n[c].isActive=f;const y=s(h,c);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:s,setActive:l,setAnimateFunction:o,getState:()=>n}}function bae(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!W9(e,t):!1}function ou(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xae(){return{animate:ou(!0),whileInView:ou(),whileHover:ou(),whileTap:ou(),whileDrag:ou(),whileFocus:ou(),exit:ou()}}class _ae extends Tl{constructor(e){super(e),e.animationState||(e.animationState=vae(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),yb(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let wae=0;class Tae extends Tl{constructor(){super(...arguments),this.id=wae++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Eae={animation:{Feature:_ae},exit:{Feature:Tae}},rL=(t,e)=>Math.abs(t-e);function Sae(t,e){const n=rL(t.x,e.x),r=rL(t.y,e.y);return Math.sqrt(n**2+r**2)}class E${constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Vw(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=Sae(p.offset,{x:0,y:0})>=3;if(!y&&!_)return;const{point:S}=p,{timestamp:A}=Kn;this.history.push({...S,timestamp:A});const{onStart:E,onMove:M}=this.handlers;y||(E&&E(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=jw(y,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Vw(p.type==="pointercancel"?this.lastMoveEventInfo:jw(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(p,E),S&&S(p,E)},!z9(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=xb(e),l=jw(s,this.transformPagePoint),{point:c}=l,{timestamp:f}=Kn;this.history=[{...c,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,Vw(l,this.history)),this.removeListeners=Us(Vs(this.contextWindow,"pointermove",this.handlePointerMove),Vs(this.contextWindow,"pointerup",this.handlePointerUp),Vs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vo(this.updatePoint)}}function jw(t,e){return e?{point:e(t.point)}:t}function iL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vw({point:t},e){return{point:t,delta:iL(t,S$(e)),offset:iL(t,Aae(e)),velocity:Cae(e,.1)}}function Aae(t){return t[0]}function S$(t){return t[t.length-1]}function Cae(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=S$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>il(e)));)n--;if(!r)return{x:0,y:0};const o=rs(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function pi(t){return t.max-t.min}function OA(t,e=0,n=.01){return Math.abs(t-e)<=n}function oL(t,e,n,r=.5){t.origin=r,t.originPoint=sn(e.min,e.max,t.origin),t.scale=pi(n)/pi(e),(OA(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=sn(n.min,n.max,t.origin)-t.originPoint,(OA(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Jh(t,e,n,r){oL(t.x,e.x,n.x,r?r.originX:void 0),oL(t.y,e.y,n.y,r?r.originY:void 0)}function sL(t,e,n){t.min=n.min+e.min,t.max=t.min+pi(e)}function Iae(t,e,n){sL(t.x,e.x,n.x),sL(t.y,e.y,n.y)}function aL(t,e,n){t.min=e.min-n.min,t.max=t.min+pi(e)}function Xh(t,e,n){aL(t.x,e.x,n.x),aL(t.y,e.y,n.y)}function Nae(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?sn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?sn(n,t,r.max):Math.min(t,n)),t}function lL(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Rae(t,{top:e,left:n,bottom:r,right:i}){return{x:lL(t.x,n,i),y:lL(t.y,e,r)}}function uL(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kae(t,e){return{x:uL(t.x,e.x),y:uL(t.y,e.y)}}function Pae(t,e){let n=.5;const r=pi(t),i=pi(e);return i>r?n=Tf(e.min,e.max-r,t.min):r>i&&(n=Tf(t.min,t.max-i,e.min)),pl(0,1,n)}function Mae(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const DA=.35;function Oae(t=DA){return t===!1?t=0:t===!0&&(t=DA),{x:cL(t,"left","right"),y:cL(t,"top","bottom")}}function cL(t,e,n){return{min:fL(t,e),max:fL(t,n)}}function fL(t,e){return typeof t=="number"?t:t[e]||0}const dL=()=>({translate:0,scale:1,origin:0,originPoint:0}),ef=()=>({x:dL(),y:dL()}),hL=()=>({min:0,max:0}),_n=()=>({x:hL(),y:hL()});function Oi(t){return[t("x"),t("y")]}function A$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Dae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Lae(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Uw(t){return t===void 0||t===1}function LA({scale:t,scaleX:e,scaleY:n}){return!Uw(t)||!Uw(e)||!Uw(n)}function lu(t){return LA(t)||C$(t)||t.z||t.rotate||t.rotateX||t.rotateY}function C$(t){return pL(t.x)||pL(t.y)}function pL(t){return t&&t!=="0%"}function Lv(t,e,n){const r=t-n,i=e*r;return n+i}function mL(t,e,n,r,i){return i!==void 0&&(t=Lv(t,i,r)),Lv(t,n,r)+e}function jA(t,e=0,n=1,r,i){t.min=mL(t.min,e,n,r,i),t.max=mL(t.max,e,n,r,i)}function I$(t,{x:e,y:n}){jA(t.x,e.translate,e.scale,e.originPoint),jA(t.y,n.translate,n.scale,n.originPoint)}function jae(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let l=0;l<i;l++){o=n[l],s=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&tf(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,I$(t,s)),r&&lu(o.latestValues)&&tf(t,o.latestValues))}e.x=gL(e.x),e.y=gL(e.y)}function gL(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function qa(t,e){t.min=t.min+e,t.max=t.max+e}function yL(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=sn(t.min,t.max,o);jA(t,e[n],e[r],s,e.scale)}const Vae=["x","scaleX","originX"],Uae=["y","scaleY","originY"];function tf(t,e){yL(t.x,e,Vae),yL(t.y,e,Uae)}function N$(t,e){return A$(Lae(t.getBoundingClientRect(),e))}function Bae(t,e,n){const r=N$(t,n),{scroll:i}=e;return i&&(qa(r.x,i.offset.x),qa(r.y,i.offset.y)),r}const R$=({current:t})=>t?t.ownerDocument.defaultView:null,Fae=new WeakMap;class qae{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_n(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xb(h,"page").point)},o=(h,p)=>{const{drag:y,dragPropagation:_,onDragStart:S}=this.getProps();if(y&&!_&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=G9(y),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oi(E=>{let M=this.getAxisMotionValue(E).get()||0;if(ns.test(M)){const{projection:I}=this.visualElement;if(I&&I.layout){const N=I.layout.layoutBox[E];N&&(M=pi(N)*(parseFloat(M)/100))}}this.originPoint[E]=M}),S&&Qt.update(()=>S(h,p),!1,!0);const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},s=(h,p)=>{const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:S,onDrag:A}=this.getProps();if(!y&&!this.openGlobalLock)return;const{offset:E}=p;if(_&&this.currentDirection===null){this.currentDirection=zae(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",p.point,E),this.updateAxis("y",p.point,E),this.visualElement.render(),A&&A(h,p)},l=(h,p)=>this.stop(h,p),c=()=>Oi(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new E$(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:R$(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Qt.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!_y(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=Nae(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Qc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Rae(i.layoutBox,n):this.constraints=!1,this.elastic=Oae(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Oi(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Mae(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Bae(r,i.root,this.visualElement.getTransformPagePoint());let s=kae(i.layout.layoutBox,o);if(n){const l=n(Dae(s));this.hasMutatedConstraints=!!l,l&&(s=A$(l))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},f=Oi(h=>{if(!_y(h,n,this.currentDirection))return;let p=c&&c[h]||{};s&&(p={min:0,max:0});const y=i?200:1e6,_=i?40:1e7,S={type:"inertia",velocity:r?e[h]:0,bounceStiffness:y,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(h,S)});return Promise.all(f).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(WN(e,r,0,n))}stopAnimation(){Oi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Oi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Oi(n=>{const{drag:r}=this.getProps();if(!_y(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[n];o.set(e[n]-sn(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Oi(s=>{const l=this.getAxisMotionValue(s);if(l){const c=l.get();i[s]=Pae({min:c,max:c},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Oi(s=>{if(!_y(s,e,null))return;const l=this.getAxisMotionValue(s),{min:c,max:f}=this.constraints[s];l.set(sn(c,f,i[s]))})}addListeners(){if(!this.visualElement.current)return;Fae.set(this.visualElement,this);const e=this.visualElement.current,n=Vs(e,"pointerdown",c=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Qc(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=Os(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Oi(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=c[h].translate,p.set(p.get()+c[h].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=DA,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:l}}}function _y(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zae(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $ae extends Tl{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new qae(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const vL=t=>(e,n)=>{t&&Qt.update(()=>t(e,n))};class Gae extends Tl{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new E$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:R$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vL(e),onStart:vL(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Qt.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=Vs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Hae(){const t=Y.useContext(mb);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=Y.useId();return Y.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const tv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ph={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(He.test(t))t=parseFloat(t);else return t;const n=bL(t,e.target.x),r=bL(t,e.target.y);return`${n}% ${r}%`}},Kae={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ml.parse(t);if(i.length>5)return r;const o=ml.createTransformer(t),s=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+s]/=l,i[1+s]/=c;const f=sn(l,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=f),typeof i[3+s]=="number"&&(i[3+s]/=f),o(i)}};class Wae extends re.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;toe(Yae),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),tv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Qt.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),IN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function k$(t){const[e,n]=Hae(),r=Y.useContext(kN);return re.createElement(Wae,{...t,layoutGroup:r,switchLayoutGroup:Y.useContext(R9),isPresent:e,safeToRemove:n})}const Yae={borderRadius:{...ph,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ph,borderTopRightRadius:ph,borderBottomLeftRadius:ph,borderBottomRightRadius:ph,boxShadow:Kae},P$=["TopLeft","TopRight","BottomLeft","BottomRight"],Jae=P$.length,xL=t=>typeof t=="string"?parseFloat(t):t,_L=t=>typeof t=="number"||He.test(t);function Xae(t,e,n,r,i,o){i?(t.opacity=sn(0,n.opacity!==void 0?n.opacity:1,Qae(r)),t.opacityExit=sn(e.opacity!==void 0?e.opacity:1,0,Zae(r))):o&&(t.opacity=sn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Jae;s++){const l=`border${P$[s]}Radius`;let c=wL(e,l),f=wL(n,l);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||_L(c)===_L(f)?(t[l]=Math.max(sn(xL(c),xL(f),r),0),(ns.test(f)||ns.test(c))&&(t[l]+="%")):t[l]=f}(e.rotate||n.rotate)&&(t.rotate=sn(e.rotate||0,n.rotate||0,r))}function wL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Qae=M$(0,.5,i$),Zae=M$(.5,.95,Mn);function M$(t,e,n){return r=>r<t?0:r>e?1:n(Tf(t,e,r))}function TL(t,e){t.min=e.min,t.max=e.max}function Ri(t,e){TL(t.x,e.x),TL(t.y,e.y)}function EL(t,e,n,r,i){return t-=e,t=Lv(t,1/n,r),i!==void 0&&(t=Lv(t,1/i,r)),t}function ele(t,e=0,n=1,r=.5,i,o=t,s=t){if(ns.test(e)&&(e=parseFloat(e),e=sn(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=sn(o.min,o.max,r);t===o&&(l-=e),t.min=EL(t.min,e,n,l,i),t.max=EL(t.max,e,n,l,i)}function SL(t,e,[n,r,i],o,s){ele(t,e[n],e[r],e[i],e.scale,o,s)}const tle=["x","scaleX","originX"],nle=["y","scaleY","originY"];function AL(t,e,n,r){SL(t.x,e,tle,n?n.x:void 0,r?r.x:void 0),SL(t.y,e,nle,n?n.y:void 0,r?r.y:void 0)}function CL(t){return t.translate===0&&t.scale===1}function O$(t){return CL(t.x)&&CL(t.y)}function rle(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function D$(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function IL(t){return pi(t.x)/pi(t.y)}class ile{constructor(){this.members=[]}add(e){YN(this.members,e),e.scheduleRender()}remove(e){if(wb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NL(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:f,rotateY:h}=n;c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const ole=(t,e)=>t.depth-e.depth;class sle{constructor(){this.children=[],this.isDirty=!1}add(e){YN(this.children,e),this.isDirty=!0}remove(e){wb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ole),this.isDirty=!1,this.children.forEach(e)}}function ale(t,e){const n=Cu.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(vo(r),t(o-e))};return Qt.read(r,!0),()=>vo(r)}function lle(t){window.MotionDebug&&window.MotionDebug.record(t)}function L$(t){return t instanceof SVGElement&&t.tagName!=="svg"}function QN(t,e,n){const r=Xn(t)?t:Fu(t);return r.start(WN("",r,e,n)),r.animation}const RL=["","X","Y","Z"],ule={visibility:"hidden"},kL=1e3;let cle=0;const uu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function j$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},l=e==null?void 0:e()){this.id=cle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,uu.totalNodes=uu.resolvedTargetDeltas=uu.recalculatedProjection=0,this.nodes.forEach(hle),this.nodes.forEach(vle),this.nodes.forEach(ble),this.nodes.forEach(ple),lle(uu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new sle)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new JN),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=L$(s),this.instance=s;const{layoutId:c,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(f||c)&&(this.isLayoutDirty=!0),t){let p;const y=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=ale(y,250),tv.hasAnimatedSinceResize&&(tv.hasAnimatedSinceResize=!1,this.nodes.forEach(ML))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeTargetChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||h.getDefaultTransition()||Ele,{onLayoutAnimationStart:E,onLayoutAnimationComplete:M}=h.getProps(),I=!this.targetLayout||!D$(this.targetLayout,S)||_,N=!y&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||y&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,N);const C={...KN(A,"layout"),onPlay:E,onComplete:M};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else y||ML(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PL);return}this.isUpdating||this.nodes.forEach(gle),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(yle),this.nodes.forEach(fle),this.nodes.forEach(dle),this.clearAllSnapshots();const l=Cu.now();Kn.delta=pl(0,1e3/60,l-Kn.timestamp),Kn.timestamp=l,Kn.isProcessing=!0,Rw.update.process(Kn),Rw.preRender.process(Kn),Rw.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,IN.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(mle),this.sharedNodes.forEach(_le)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!O$(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;s&&(l||lu(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),Sle(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return _n();const l=s.measureViewportBox(),{scroll:c}=this.root;return c&&(qa(l.x,c.offset.x),qa(l.y,c.offset.y)),l}removeElementScroll(s){const l=_n();Ri(l,s);for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:h,options:p}=f;if(f!==this.root&&h&&p.layoutScroll){if(h.isRoot){Ri(l,s);const{scroll:y}=this.root;y&&(qa(l.x,-y.offset.x),qa(l.y,-y.offset.y))}qa(l.x,h.offset.x),qa(l.y,h.offset.y)}}return l}applyTransform(s,l=!1){const c=_n();Ri(c,s);for(let f=0;f<this.path.length;f++){const h=this.path[f];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&tf(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),lu(h.latestValues)&&tf(c,h.latestValues)}return lu(this.latestValues)&&tf(c,this.latestValues),c}removeTransform(s){const l=_n();Ri(l,s);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!lu(f.latestValues))continue;LA(f.latestValues)&&f.updateSnapshot();const h=_n(),p=f.measurePageBox();Ri(h,p),AL(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return lu(this.latestValues)&&AL(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(s||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Kn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Xh(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_n(),this.targetWithTransforms=_n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Iae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ri(this.target,this.layout.layoutBox),I$(this.target,this.targetDelta)):Ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Xh(this.relativeTargetOrigin,this.target,_.target),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}uu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||LA(this.parent.latestValues)||C$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(f=!1),f)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Ri(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;jae(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=_n());const{target:S}=l;if(!S){this.projectionTransform&&(this.projectionDelta=ef(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ef(),this.projectionDeltaWithTransform=ef());const A=this.projectionTransform;Jh(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=NL(this.projectionDelta,this.treeScale),(this.projectionTransform!==A||this.treeScale.x!==y||this.treeScale.y!==_)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),uu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,l=!1){const c=this.snapshot,f=c?c.latestValues:{},h={...this.latestValues},p=ef();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=_n(),_=c?c.source:void 0,S=this.layout?this.layout.source:void 0,A=_!==S,E=this.getStack(),M=!E||E.members.length<=1,I=!!(A&&!M&&this.options.crossfade===!0&&!this.path.some(Tle));this.animationProgress=0;let N;this.mixTargetDelta=C=>{const R=C/1e3;OL(p.x,s.x,R),OL(p.y,s.y,R),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xh(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wle(this.relativeTarget,this.relativeTargetOrigin,y,R),N&&rle(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=_n()),Ri(N,this.relativeTarget)),A&&(this.animationValues=h,Xae(h,f,this.latestValues,R,I,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{tv.hasAnimatedSinceResize=!0,this.currentAnimation=QN(0,kL,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:f,latestValues:h}=s;if(!(!l||!c||!f)){if(this!==s&&this.layout&&f&&V$(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||_n();const p=pi(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+p;const y=pi(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+y}Ri(l,c),tf(l,h),Jh(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ile),this.sharedNodes.get(s).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:l}=this.options;return l?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:l}=this.options;return l?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const f={};for(let h=0;h<RL.length;h++){const p="rotate"+RL[h];c[p]&&(f[p]=c[p],s.setStaticValue(p,0))}s.render();for(const h in f)s.setStaticValue(h,f[h]);s.scheduleRender()}getProjectionStyles(s){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ule;const f={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Zy(s==null?void 0:s.pointerEvents)||"",f.transform=h?h(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Zy(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!lu(this.latestValues)&&(A.transform=h?h({},""):"none",this.hasProjected=!1),A}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=NL(this.projectionDeltaWithTransform,this.treeScale,y),h&&(f.transform=h(y,f.transform));const{x:_,y:S}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,p.animationValues?f.opacity=p===this?(c=(l=y.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const A in Nv){if(y[A]===void 0)continue;const{correct:E,applyTo:M}=Nv[A],I=f.transform==="none"?y[A]:E(y[A],p);if(M){const N=M.length;for(let C=0;C<N;C++)f[M[C]]=I}else f[A]=I}return this.options.layoutId&&(f.pointerEvents=p===this?Zy(s==null?void 0:s.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(PL),this.root.sharedNodes.clear()}}}function fle(t){t.updateLayout()}function dle(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Oi(p=>{const y=s?n.measuredBox[p]:n.layoutBox[p],_=pi(y);y.min=r[p].min,y.max=y.min+_}):V$(o,n.layoutBox,r)&&Oi(p=>{const y=s?n.measuredBox[p]:n.layoutBox[p],_=pi(r[p]);y.max=y.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+_)});const l=ef();Jh(l,r,n.layoutBox);const c=ef();s?Jh(c,t.applyTransform(i,!0),n.measuredBox):Jh(c,r,n.layoutBox);const f=!O$(l);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:_}=p;if(y&&_){const S=_n();Xh(S,n.layoutBox,y.layoutBox);const A=_n();Xh(A,r,_.layoutBox),D$(S,A)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=S,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hle(t){uu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ple(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mle(t){t.clearSnapshot()}function PL(t){t.clearMeasurements()}function gle(t){t.isLayoutDirty=!1}function yle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ML(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vle(t){t.resolveTargetDelta()}function ble(t){t.calcProjection()}function xle(t){t.resetRotation()}function _le(t){t.removeLeadSnapshot()}function OL(t,e,n){t.translate=sn(e.translate,0,n),t.scale=sn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function DL(t,e,n,r){t.min=sn(e.min,n.min,r),t.max=sn(e.max,n.max,r)}function wle(t,e,n,r){DL(t.x,e.x,n.x,r),DL(t.y,e.y,n.y,r)}function Tle(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ele={duration:.45,ease:[.4,0,.1,1]},LL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jL=LL("applewebkit/")&&!LL("chrome/")?Math.round:Mn;function VL(t){t.min=jL(t.min),t.max=jL(t.max)}function Sle(t){VL(t.x),VL(t.y)}function V$(t,e,n){return t==="position"||t==="preserve-aspect"&&!OA(IL(e),IL(n),.2)}const Ale=j$({attachResizeListener:(t,e)=>Os(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bw={current:void 0},U$=j$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bw.current){const t=new Ale({});t.mount(window),t.setOptions({layoutScroll:!0}),Bw.current=t}return Bw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Cle={pan:{Feature:Gae},drag:{Feature:$ae,ProjectionNode:U$,MeasureLayout:k$}},Ile=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Nle(t){const e=Ile.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function VA(t,e,n=1){const[r,i]=Nle(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return _$(s)?parseFloat(s):s}else return Rv(i)?VA(i,e,n+1):i}function Rle(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!Rv(o))return;const s=VA(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!Rv(o))continue;const s=VA(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const kle=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),B$=t=>kle.has(t),Ple=t=>Object.keys(t).some(B$),UL=t=>t===Jf||t===He,BL=(t,e)=>parseFloat(t.split(", ")[e]),FL=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return BL(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?BL(o[1],t):0}},Mle=new Set(["x","y","z"]),Ole=_m.filter(t=>!Mle.has(t));function Dle(t){const e=[];return Ole.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ef={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:FL(4,13),y:FL(5,14)};Ef.translateX=Ef.x;Ef.translateY=Ef.y;const Lle=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,l={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(f=>{l[f]=Ef[f](r,o)}),e.render();const c=e.measureViewportBox();return n.forEach(f=>{const h=e.getValue(f);h&&h.jump(l[f]),t[f]=Ef[f](c,o)}),t},jle=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(B$);let o=[],s=!1;const l=[];if(i.forEach(c=>{const f=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],p=hh(h);const y=e[c];let _;if(Pv(y)){const S=y.length,A=y[0]===null?1:0;h=y[A],p=hh(h);for(let E=A;E<S&&y[E]!==null;E++)_?BN(hh(y[E])===_):_=hh(y[E])}else _=hh(y);if(p!==_)if(UL(p)&&UL(_)){const S=f.get();typeof S=="string"&&f.set(parseFloat(S)),typeof y=="string"?e[c]=parseFloat(y):Array.isArray(y)&&_===He&&(e[c]=y.map(parseFloat))}else p!=null&&p.transform&&(_!=null&&_.transform)&&(h===0||y===0)?h===0?f.set(_.transform(h)):e[c]=p.transform(y):(s||(o=Dle(t),s=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],f.jump(y))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,f=Lle(e,t,l);return o.length&&o.forEach(([h,p])=>{t.getValue(h).set(p)}),t.render(),gb&&c!==null&&window.scrollTo({top:c}),{target:f,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Vle(t,e,n,r){return Ple(e)?jle(t,e,n,r):{target:e,transitionEnd:r}}const Ule=(t,e,n,r)=>{const i=Rle(t,e,r);return e=i.target,r=i.transitionEnd,Vle(t,e,n,r)},UA={current:null},F$={current:!1};function Ble(){if(F$.current=!0,!!gb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>UA.current=t.matches;t.addListener(e),e()}else UA.current=!1}function Fle(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(Xn(o))t.addValue(i,o),Dv(r)&&r.add(i);else if(Xn(s))t.addValue(i,Fu(o,{owner:t})),Dv(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const l=t.getValue(i);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(i);t.addValue(i,Fu(l!==void 0?l:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const vp=new WeakMap,q$=Object.keys(gp),qle=q$.length,qL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],zle=RN.length;class $le{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Qt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=vb(n),this.isVariantNode=N9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{});for(const p in h){const y=h[p];l[p]!==void 0&&Xn(y)&&(y.set(l[p],!1),Dv(f)&&f.add(p))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,vp.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),F$.current||Ble(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:UA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vp.delete(this.current),this.projection&&this.projection.unmount(),vo(this.notifyUpdate),vo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Yu.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Qt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,l;for(let c=0;c<qle;c++){const f=q$[c],{isEnabled:h,Feature:p,ProjectionNode:y,MeasureLayout:_}=gp[f];y&&(s=y),h(n)&&(!this.features[f]&&p&&(this.features[f]=new p(this)),_&&(l=_))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:f,drag:h,dragConstraints:p,layoutScroll:y,layoutRoot:_}=n;this.projection.setOptions({layoutId:c,layout:f,alwaysMeasureLayout:!!h||p&&Qc(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:o,layoutScroll:y,layoutRoot:_})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_n()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<qL.length;r++){const i=qL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Fle(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<zle;r++){const i=RN[r],o=this.props[i];(mp(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Fu(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=UN(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Xn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new JN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class z$ extends $le{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},i){const o=uae(r,e||{},this);if(i){aae(this,r,o);const s=Ule(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:e,transitionEnd:n,...r}}}function Gle(t){return window.getComputedStyle(t)}class $$ extends z${constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Yu.has(n)){const r=HN(n);return r&&r.default||0}else{const r=Gle(e),i=(M9(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return N$(e,n)}build(e,n,r,i){ON(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return VN(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){V9(e,n,r,i)}}class G$ extends z${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yu.has(n)){const r=HN(n);return r&&r.default||0}return n=U9.has(n)?n:CN(n),e.getAttribute(n)}measureInstanceViewportBox(){return _n()}scrapeMotionValuesFromProps(e,n){return F9(e,n)}build(e,n,r,i){LN(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){B9(e,n,r,i)}mount(e){this.isSVGTag=jN(e.tagName),super.mount(e)}}const Hle=(t,e)=>PN(t)?new G$(e,{enableHardwareAcceleration:!1}):new $$(e,{enableHardwareAcceleration:!0}),Kle={layout:{ProjectionNode:U$,MeasureLayout:k$}},Wle={...Eae,...zoe,...Cle,...Kle},qe=Zie((t,e)=>Roe(t,e,Wle,Hle));function H$(){const t=Y.useRef(!1);return xm(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Yle(){const t=H$(),[e,n]=Y.useState(0),r=Y.useCallback(()=>{t.current&&n(e+1)},[e]);return[Y.useCallback(()=>Qt.postRender(r),[r]),e]}class Jle extends Y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xle({children:t,isPresent:e}){const n=Y.useId(),r=Y.useRef(null),i=Y.useRef({width:0,height:0,top:0,left:0});return Y.useInsertionEffect(()=>{const{width:o,height:s,top:l,left:c}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),Y.createElement(Jle,{isPresent:e,childRef:r,sizeRef:i},Y.cloneElement(t,{ref:r}))}const Fw=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const l=bb(Qle),c=Y.useId(),f=Y.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),o?void 0:[n]);return Y.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),Y.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),s==="popLayout"&&(t=Y.createElement(Xle,{isPresent:n},t)),Y.createElement(mb.Provider,{value:f},t)};function Qle(){return new Map}function Zle(t){return Y.useEffect(()=>()=>t(),[])}const cu=t=>t.key||"";function eue(t,e){t.forEach(n=>{const r=cu(n);e.set(r,n)})}function tue(t){const e=[];return Y.Children.forEach(t,n=>{Y.isValidElement(n)&&e.push(n)}),e}const yr=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const l=Y.useContext(kN).forceRender||Yle()[0],c=H$(),f=tue(t);let h=f;const p=Y.useRef(new Map).current,y=Y.useRef(h),_=Y.useRef(new Map).current,S=Y.useRef(!0);if(xm(()=>{S.current=!1,eue(f,_),y.current=h}),Zle(()=>{S.current=!0,_.clear(),p.clear()}),S.current)return Y.createElement(Y.Fragment,null,h.map(I=>Y.createElement(Fw,{key:cu(I),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},I)));h=[...h];const A=y.current.map(cu),E=f.map(cu),M=A.length;for(let I=0;I<M;I++){const N=A[I];E.indexOf(N)===-1&&!p.has(N)&&p.set(N,void 0)}return s==="wait"&&p.size&&(h=[]),p.forEach((I,N)=>{if(E.indexOf(N)!==-1)return;const C=_.get(N);if(!C)return;const R=A.indexOf(N);let L=I;if(!L){const P=()=>{p.delete(N);const O=Array.from(_.keys()).filter(j=>!E.includes(j));if(O.forEach(j=>_.delete(j)),y.current=f.filter(j=>{const q=cu(j);return q===N||O.includes(q)}),!p.size){if(c.current===!1)return;l(),r&&r()}};L=Y.createElement(Fw,{key:cu(C),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:o,mode:s},C),p.set(N,L)}h.splice(R,0,L)}),h=h.map(I=>{const N=I.key;return p.has(N)?I:Y.createElement(Fw,{key:cu(I),isPresent:!0,presenceAffectsLayout:o,mode:s},I)}),Y.createElement(Y.Fragment,null,p.size?h:h.map(I=>Y.cloneElement(I)))};function Sf(t){const e=bb(()=>Fu(t)),{isStatic:n}=Y.useContext(hb);if(n){const[,r]=Y.useState(t);Y.useEffect(()=>e.on("change",r),[])}return e}const nue=t=>t&&typeof t=="object"&&t.mix,rue=t=>nue(t)?t.mix:void 0;function iue(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],s=t[3+n],l=h$(i,o,{mixer:rue(o[0]),...s});return e?l(r):l}function K$(t,e){const n=Sf(e()),r=()=>n.set(e());return r(),xm(()=>{const i=()=>Qt.update(r,!1,!0),o=t.map(s=>s.on("change",i));return()=>{o.forEach(s=>s()),vo(r)}}),n}function oue(t){Yh.current=[],t();const e=K$(Yh.current,t);return Yh.current=void 0,e}function pu(t,e,n,r){if(typeof t=="function")return oue(t);const i=typeof e=="function"?e:iue(e,n,r);return Array.isArray(t)?zL(t,i):zL([t],([o])=>i(o))}function zL(t,e){const n=bb(()=>[]);return K$(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function $L(t,e={}){const{isStatic:n}=Y.useContext(hb),r=Y.useRef(null),i=Sf(Xn(t)?t.get():t),o=()=>{r.current&&r.current.stop()};return Y.useInsertionEffect(()=>i.attach((s,l)=>{if(n)return l(s);const c=r.current;return c&&c.time===0&&c.sample(Kn.delta),o(),r.current=yp({keyframes:[i.get(),s],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:l}),i.get()},o),[JSON.stringify(e)]),xm(()=>{if(Xn(t))return t.on("change",s=>i.set(parseFloat(s)))},[i]),i}function W$(t,e,n){var r;if(typeof t=="string"){let i=document;n?((r=n[t])!==null&&r!==void 0||(n[t]=i.querySelectorAll(t)),t=n[t]):t=i.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}function sue(t,e){let n;const r=()=>{const{currentTime:i}=e,s=(i===null?0:i.value)/100;n!==s&&t(s),n=s};return Qt.update(r,!0),()=>vo(r)}const aue=v$(()=>window.ScrollTimeline!==void 0);class Y${constructor(e){this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(aue()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),sue(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function lue(t){return typeof t=="object"&&!Array.isArray(t)}function uue(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=L$(t)?new G$(e,{enableHardwareAcceleration:!1}):new $$(e,{enableHardwareAcceleration:!0});n.mount(t),vp.set(t,n)}function cue(t,e=100){const n=GN({keyframes:[0,e],...t}),r=Math.min(RA(n),NA);return{type:"keyframes",ease:i=>n.next(r*i).value/e,duration:rs(r)}}function GL(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}const fue=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function due(t,e){return t$(t)?t[fue(0,t.length,e)]:t}function hue(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(wb(t,i),r--)}}function pue(t,e,n,r,i,o){hue(t,i,o);for(let s=0;s<e.length;s++)t.push({value:e[s],at:sn(i,o,r[s]),easing:due(n,s)})}function mue(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const gue="easeInOut";function yue(t,{defaultTransition:e={},...n}={},r){const i=e.duration||.3,o=new Map,s=new Map,l={},c=new Map;let f=0,h=0,p=0;for(let y=0;y<t.length;y++){const _=t[y];if(typeof _=="string"){c.set(_,h);continue}else if(!Array.isArray(_)){c.set(_.name,GL(h,_.at,f,c));continue}let[S,A,E={}]=_;E.at!==void 0&&(h=GL(h,E.at,f,c));let M=0;const I=(N,C,R,L=0,P=0)=>{const O=vue(N),{delay:j=0,times:q=m$(O),type:F="keyframes",...z}=C;let{ease:B=e.ease||"easeOut",duration:X}=C;const ie=typeof j=="function"?j(L,P):j,W=O.length;if(W<=2&&F==="spring"){let K=100;if(W===2&&_ue(O)){const J=O[1]-O[0];K=Math.abs(J)}const V={...z};X!==void 0&&(V.duration=il(X));const $=cue(V,K);B=$.ease,X=$.duration}X??(X=i);const ee=h+ie,se=ee+X;q.length===1&&q[0]===0&&(q[1]=1);const ge=q.length-O.length;ge>0&&p$(q,ge),O.length===1&&O.unshift(null),pue(R,O,B,q,ee,se),M=Math.max(ie+X,M),p=Math.max(se,p)};if(Xn(S)){const N=HL(S,s);I(A,E,KL("default",N))}else{const N=W$(S,r,l),C=N.length;for(let R=0;R<C;R++){A=A,E=E;const L=N[R],P=HL(L,s);for(const O in A)I(A[O],bue(E,O),KL(O,P),R,C)}}f=h,h+=M}return s.forEach((y,_)=>{for(const S in y){const A=y[S];A.sort(mue);const E=[],M=[],I=[];for(let C=0;C<A.length;C++){const{at:R,value:L,easing:P}=A[C];E.push(L),M.push(Tf(0,p,R)),I.push(P||"easeOut")}M[0]!==0&&(M.unshift(0),E.unshift(E[0]),I.unshift(gue)),M[M.length-1]!==1&&(M.push(1),E.push(null)),o.has(_)||o.set(_,{keyframes:{},transition:{}});const N=o.get(_);N.keyframes[S]=E,N.transition[S]={...e,duration:p,ease:I,times:M,...n}}}),o}function HL(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function KL(t,e){return e[t]||(e[t]=[]),e[t]}function vue(t){return Array.isArray(t)?t:[t]}function bue(t,e){return t[e]?{...t,...t[e]}:{...t}}const xue=t=>typeof t=="number",_ue=t=>t.every(xue);function J$(t,e,n,r){const i=W$(t),o=i.length,s=[];for(let l=0;l<o;l++){const c=i[l];vp.has(c)||uue(c);const f=vp.get(c),h={...n};typeof h.delay=="function"&&(h.delay=h.delay(l,o)),s.push(...XN(f,{...e,transition:h},{}))}return new Y$(s)}const wue=t=>Array.isArray(t)&&Array.isArray(t[0]);function Tue(t,e,n){const r=[];return yue(t,e,n).forEach(({keyframes:o,transition:s},l)=>{let c;Xn(l)?c=QN(l,o.default,s.default):c=J$(l,o,s),r.push(c)}),new Y$(r)}const Eue=t=>{function e(n,r,i){let o;return wue(n)?o=Tue(n,r,t):lue(r)?o=J$(n,r,i):o=QN(n,r,i),o}return e},qc=Eue(),$t=({children:t,variant:e="primary",fullWidth:n=!1,className:r="",...i})=>{const o="relative font-bold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed tracking-wide transition-all duration-300 overflow-hidden",s={primary:"bg-gradient-to-r from-pink-500 to-orange-400 text-white shadow-lg shadow-pink-500/30 hover:shadow-xl hover:shadow-pink-500/50 rounded-full border border-white/10 group",secondary:"bg-white/80 dark:bg-white/10 backdrop-blur-md border border-gray-200 dark:border-white/20 hover:bg-white dark:hover:bg-white/20 text-gray-900 dark:text-white rounded-full shadow-sm dark:shadow-none",ghost:"bg-transparent text-gray-600 dark:text-white/70 hover:text-gray-900 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl",icon:"bg-white/80 dark:bg-white/10 backdrop-blur-md border border-gray-200 dark:border-white/20 text-gray-700 dark:text-white rounded-full p-3 aspect-square hover:bg-white dark:hover:bg-white/20 hover:scale-105 shadow-sm dark:shadow-none"},l=e==="icon"?"":"px-8 py-4",c=n?"w-full":"";return g.jsxs(qe.button,{whileHover:{scale:1.02},whileTap:{scale:.96},className:`${o} ${s[e]} ${l} ${c} ${r}`,...i,children:[t,e==="primary"&&g.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent"})]})},Fr=({children:t,className:e="",intensity:n="medium",onClick:r,hoverEffect:i=!1})=>{const o=Y.useRef(null),s=Sf(0),l=Sf(0),c=$L(s,{stiffness:300,damping:20}),f=$L(l,{stiffness:300,damping:20}),h=pu(f,[-.5,.5],["6deg","-6deg"]),p=pu(c,[-.5,.5],["-6deg","6deg"]),y=N=>{if(!o.current)return;const C=o.current.getBoundingClientRect(),R=C.width,L=C.height,P=N.clientX-C.left,O=N.clientY-C.top,j=P/R-.5,q=O/L-.5;s.set(j),l.set(q)},_=()=>{s.set(0),l.set(0)},S="relative overflow-hidden transition-all duration-300 border",A={low:"bg-white/40 dark:bg-black/20 backdrop-blur-md border-white/20 dark:border-white/5",medium:"bg-white/60 dark:bg-black/40 backdrop-blur-xl border-white/30 dark:border-white/10",high:"bg-white/80 dark:bg-black/60 backdrop-blur-2xl border-white/40 dark:border-white/15"},E=i?"hover:shadow-xl hover:bg-white/70 dark:hover:bg-white/10":"",M=r||i?"cursor-pointer":"",I=i?{style:{rotateX:h,rotateY:p,transformStyle:"preserve-3d",transform:"translateZ(0)",willChange:"transform"},onMouseMove:y,onMouseLeave:_}:{};return g.jsx(qe.div,{ref:o,onClick:r,className:`
        ${S}
        ${A[n]}
        ${E}
        ${M}
        shadow-sm dark:shadow-black/40
        rounded-[2rem]
        ${e}
      `,whileHover:i?{scale:1.03}:{},transition:{type:"spring",stiffness:400,damping:15},...I,children:g.jsx("div",{style:{transform:"translateZ(20px)"},children:t})})};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(t,e)=>{const n=Y.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:c,...f},h)=>Y.createElement("svg",{ref:h,...Sue,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Aue(t)}`,l].join(" "),...f},[...e.map(([p,y])=>Y.createElement(p,y)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=Ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=Ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=Ee("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=Ee("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=Ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=Ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=Ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Ee("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=Ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=Ee("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=Ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Ee("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=Ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=Ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=Ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=Ee("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=Ee("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=Ee("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=Ee("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=Ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=Ee("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=Ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=Ee("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=Ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=Ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=Ee("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=Ee("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=Ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=Ee("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=Ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=Ee("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=Ee("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Ee("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=Ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=Ee("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=Ee("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Ee("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=Ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=Ee("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=Ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=Ee("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=Ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=Ee("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=Ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=Ee("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=Ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Ee("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Ee("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=Ee("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=Ee("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=Ee("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=Ee("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=Ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=Ee("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var oR={};(function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=(function(){if(!e.OffscreenCanvas)return!1;try{var K=new OffscreenCanvas(1,1),V=K.getContext("2d");V.fillRect(0,0,1,1);var $=K.transferToImageBitmap();V.createPattern($,"no-repeat")}catch{return!1}return!0})();function c(){}function f(K){var V=n.exports.Promise,$=V!==void 0?V:e.Promise;return typeof $=="function"?new $(K):(K(c,c),null)}var h=(function(K,V){return{transform:function($){if(K)return $;if(V.has($))return V.get($);var J=new OffscreenCanvas($.width,$.height),te=J.getContext("2d");return te.drawImage($,0,0),V.set($,J),J},clear:function(){V.clear()}}})(l,new Map),p=(function(){var K=Math.floor(16.666666666666668),V,$,J={},te=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(V=function(fe){var ye=Math.random();return J[ye]=requestAnimationFrame(function Te(Se){te===Se||te+K-1<Se?(te=Se,delete J[ye],fe()):J[ye]=requestAnimationFrame(Te)}),ye},$=function(fe){J[fe]&&cancelAnimationFrame(J[fe])}):(V=function(fe){return setTimeout(fe,K)},$=function(fe){return clearTimeout(fe)}),{frame:V,cancel:$}})(),y=(function(){var K,V,$={};function J(te){function fe(ye,Te){te.postMessage({options:ye||{},callback:Te})}te.init=function(Te){var Se=Te.transferControlToOffscreen();te.postMessage({canvas:Se},[Se])},te.fire=function(Te,Se,he){if(V)return fe(Te,null),V;var Ie=Math.random().toString(36).slice(2);return V=f(function(Ae){function pe($e){$e.data.callback===Ie&&(delete $[Ie],te.removeEventListener("message",pe),V=null,h.clear(),he(),Ae())}te.addEventListener("message",pe),fe(Te,Ie),$[Ie]=pe.bind(null,{data:{callback:Ie}})}),V},te.reset=function(){te.postMessage({reset:!0});for(var Te in $)$[Te](),delete $[Te]}}return function(){if(K)return K;if(!r&&o){var te=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{K=new Worker(URL.createObjectURL(new Blob([te])))}catch(fe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",fe),null}J(K)}return K}})(),_={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(K,V){return V?V(K):K}function A(K){return K!=null}function E(K,V,$){return S(K&&A(K[V])?K[V]:_[V],$)}function M(K){return K<0?0:Math.floor(K)}function I(K,V){return Math.floor(Math.random()*(V-K))+K}function N(K){return parseInt(K,16)}function C(K){return K.map(R)}function R(K){var V=String(K).replace(/[^0-9a-f]/gi,"");return V.length<6&&(V=V[0]+V[0]+V[1]+V[1]+V[2]+V[2]),{r:N(V.substring(0,2)),g:N(V.substring(2,4)),b:N(V.substring(4,6))}}function L(K){var V=E(K,"origin",Object);return V.x=E(V,"x",Number),V.y=E(V,"y",Number),V}function P(K){K.width=document.documentElement.clientWidth,K.height=document.documentElement.clientHeight}function O(K){var V=K.getBoundingClientRect();K.width=V.width,K.height=V.height}function j(K){var V=document.createElement("canvas");return V.style.position="fixed",V.style.top="0px",V.style.left="0px",V.style.pointerEvents="none",V.style.zIndex=K,V}function q(K,V,$,J,te,fe,ye,Te,Se){K.save(),K.translate(V,$),K.rotate(fe),K.scale(J,te),K.arc(0,0,1,ye,Te,Se),K.restore()}function F(K){var V=K.angle*(Math.PI/180),$=K.spread*(Math.PI/180);return{x:K.x,y:K.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:K.startVelocity*.5+Math.random()*K.startVelocity,angle2D:-V+(.5*$-Math.random()*$),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:K.color,shape:K.shape,tick:0,totalTicks:K.ticks,decay:K.decay,drift:K.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:K.gravity*3,ovalScalar:.6,scalar:K.scalar,flat:K.flat}}function z(K,V){V.x+=Math.cos(V.angle2D)*V.velocity+V.drift,V.y+=Math.sin(V.angle2D)*V.velocity+V.gravity,V.velocity*=V.decay,V.flat?(V.wobble=0,V.wobbleX=V.x+10*V.scalar,V.wobbleY=V.y+10*V.scalar,V.tiltSin=0,V.tiltCos=0,V.random=1):(V.wobble+=V.wobbleSpeed,V.wobbleX=V.x+10*V.scalar*Math.cos(V.wobble),V.wobbleY=V.y+10*V.scalar*Math.sin(V.wobble),V.tiltAngle+=.1,V.tiltSin=Math.sin(V.tiltAngle),V.tiltCos=Math.cos(V.tiltAngle),V.random=Math.random()+2);var $=V.tick++/V.totalTicks,J=V.x+V.random*V.tiltCos,te=V.y+V.random*V.tiltSin,fe=V.wobbleX+V.random*V.tiltCos,ye=V.wobbleY+V.random*V.tiltSin;if(K.fillStyle="rgba("+V.color.r+", "+V.color.g+", "+V.color.b+", "+(1-$)+")",K.beginPath(),s&&V.shape.type==="path"&&typeof V.shape.path=="string"&&Array.isArray(V.shape.matrix))K.fill(ee(V.shape.path,V.shape.matrix,V.x,V.y,Math.abs(fe-J)*.1,Math.abs(ye-te)*.1,Math.PI/10*V.wobble));else if(V.shape.type==="bitmap"){var Te=Math.PI/10*V.wobble,Se=Math.abs(fe-J)*.1,he=Math.abs(ye-te)*.1,Ie=V.shape.bitmap.width*V.scalar,Ae=V.shape.bitmap.height*V.scalar,pe=new DOMMatrix([Math.cos(Te)*Se,Math.sin(Te)*Se,-Math.sin(Te)*he,Math.cos(Te)*he,V.x,V.y]);pe.multiplySelf(new DOMMatrix(V.shape.matrix));var $e=K.createPattern(h.transform(V.shape.bitmap),"no-repeat");$e.setTransform(pe),K.globalAlpha=1-$,K.fillStyle=$e,K.fillRect(V.x-Ie/2,V.y-Ae/2,Ie,Ae),K.globalAlpha=1}else if(V.shape==="circle")K.ellipse?K.ellipse(V.x,V.y,Math.abs(fe-J)*V.ovalScalar,Math.abs(ye-te)*V.ovalScalar,Math.PI/10*V.wobble,0,2*Math.PI):q(K,V.x,V.y,Math.abs(fe-J)*V.ovalScalar,Math.abs(ye-te)*V.ovalScalar,Math.PI/10*V.wobble,0,2*Math.PI);else if(V.shape==="star")for(var Ce=Math.PI/2*3,Je=4*V.scalar,nt=8*V.scalar,yt=V.x,bt=V.y,lt=5,Ze=Math.PI/lt;lt--;)yt=V.x+Math.cos(Ce)*nt,bt=V.y+Math.sin(Ce)*nt,K.lineTo(yt,bt),Ce+=Ze,yt=V.x+Math.cos(Ce)*Je,bt=V.y+Math.sin(Ce)*Je,K.lineTo(yt,bt),Ce+=Ze;else K.moveTo(Math.floor(V.x),Math.floor(V.y)),K.lineTo(Math.floor(V.wobbleX),Math.floor(te)),K.lineTo(Math.floor(fe),Math.floor(ye)),K.lineTo(Math.floor(J),Math.floor(V.wobbleY));return K.closePath(),K.fill(),V.tick<V.totalTicks}function B(K,V,$,J,te){var fe=V.slice(),ye=K.getContext("2d"),Te,Se,he=f(function(Ie){function Ae(){Te=Se=null,ye.clearRect(0,0,J.width,J.height),h.clear(),te(),Ie()}function pe(){r&&!(J.width===i.width&&J.height===i.height)&&(J.width=K.width=i.width,J.height=K.height=i.height),!J.width&&!J.height&&($(K),J.width=K.width,J.height=K.height),ye.clearRect(0,0,J.width,J.height),fe=fe.filter(function($e){return z(ye,$e)}),fe.length?Te=p.frame(pe):Ae()}Te=p.frame(pe),Se=Ae});return{addFettis:function(Ie){return fe=fe.concat(Ie),he},canvas:K,promise:he,reset:function(){Te&&p.cancel(Te),Se&&Se()}}}function X(K,V){var $=!K,J=!!E(V||{},"resize"),te=!1,fe=E(V,"disableForReducedMotion",Boolean),ye=o&&!!E(V||{},"useWorker"),Te=ye?y():null,Se=$?P:O,he=K&&Te?!!K.__confetti_initialized:!1,Ie=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ae;function pe(Ce,Je,nt){for(var yt=E(Ce,"particleCount",M),bt=E(Ce,"angle",Number),lt=E(Ce,"spread",Number),Ze=E(Ce,"startVelocity",Number),mn=E(Ce,"decay",Number),gi=E(Ce,"gravity",Number),Yr=E(Ce,"drift",Number),Kt=E(Ce,"colors",C),Gi=E(Ce,"ticks",Number),_o=E(Ce,"shapes"),wo=E(Ce,"scalar"),Re=!!E(Ce,"flat"),Ve=L(Ce),It=yt,gn=[],Ir=K.width*Ve.x,Mt=K.height*Ve.y;It--;)gn.push(F({x:Ir,y:Mt,angle:bt,spread:lt,startVelocity:Ze,color:Kt[It%Kt.length],shape:_o[I(0,_o.length)],ticks:Gi,decay:mn,gravity:gi,drift:Yr,scalar:wo,flat:Re}));return Ae?Ae.addFettis(gn):(Ae=B(K,gn,Se,Je,nt),Ae.promise)}function $e(Ce){var Je=fe||E(Ce,"disableForReducedMotion",Boolean),nt=E(Ce,"zIndex",Number);if(Je&&Ie)return f(function(Ze){Ze()});$&&Ae?K=Ae.canvas:$&&!K&&(K=j(nt),document.body.appendChild(K)),J&&!he&&Se(K);var yt={width:K.width,height:K.height};Te&&!he&&Te.init(K),he=!0,Te&&(K.__confetti_initialized=!0);function bt(){if(Te){var Ze={getBoundingClientRect:function(){if(!$)return K.getBoundingClientRect()}};Se(Ze),Te.postMessage({resize:{width:Ze.width,height:Ze.height}});return}yt.width=yt.height=null}function lt(){Ae=null,J&&(te=!1,e.removeEventListener("resize",bt)),$&&K&&(document.body.contains(K)&&document.body.removeChild(K),K=null,he=!1)}return J&&!te&&(te=!0,e.addEventListener("resize",bt,!1)),Te?Te.fire(Ce,yt,lt):pe(Ce,yt,lt)}return $e.reset=function(){Te&&Te.reset(),Ae&&Ae.reset()},$e}var ie;function W(){return ie||(ie=X(null,{useWorker:!0,resize:!0})),ie}function ee(K,V,$,J,te,fe,ye){var Te=new Path2D(K),Se=new Path2D;Se.addPath(Te,new DOMMatrix(V));var he=new Path2D;return he.addPath(Se,new DOMMatrix([Math.cos(ye)*te,Math.sin(ye)*te,-Math.sin(ye)*fe,Math.cos(ye)*fe,$,J])),he}function se(K){if(!s)throw new Error("path confetti are not supported in this browser");var V,$;typeof K=="string"?V=K:(V=K.path,$=K.matrix);var J=new Path2D(V),te=document.createElement("canvas"),fe=te.getContext("2d");if(!$){for(var ye=1e3,Te=ye,Se=ye,he=0,Ie=0,Ae,pe,$e=0;$e<ye;$e+=2)for(var Ce=0;Ce<ye;Ce+=2)fe.isPointInPath(J,$e,Ce,"nonzero")&&(Te=Math.min(Te,$e),Se=Math.min(Se,Ce),he=Math.max(he,$e),Ie=Math.max(Ie,Ce));Ae=he-Te,pe=Ie-Se;var Je=10,nt=Math.min(Je/Ae,Je/pe);$=[nt,0,0,nt,-Math.round(Ae/2+Te)*nt,-Math.round(pe/2+Se)*nt]}return{type:"path",path:V,matrix:$}}function ge(K){var V,$=1,J="#000000",te='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof K=="string"?V=K:(V=K.text,$="scalar"in K?K.scalar:$,te="fontFamily"in K?K.fontFamily:te,J="color"in K?K.color:J);var fe=10*$,ye=""+fe+"px "+te,Te=new OffscreenCanvas(fe,fe),Se=Te.getContext("2d");Se.font=ye;var he=Se.measureText(V),Ie=Math.ceil(he.actualBoundingBoxRight+he.actualBoundingBoxLeft),Ae=Math.ceil(he.actualBoundingBoxAscent+he.actualBoundingBoxDescent),pe=2,$e=he.actualBoundingBoxLeft+pe,Ce=he.actualBoundingBoxAscent+pe;Ie+=pe+pe,Ae+=pe+pe,Te=new OffscreenCanvas(Ie,Ae),Se=Te.getContext("2d"),Se.font=ye,Se.fillStyle=J,Se.fillText(V,$e,Ce);var Je=1/$;return{type:"bitmap",bitmap:Te.transferToImageBitmap(),matrix:[Je,0,0,Je,-Ie*Je/2,-Ae*Je/2]}}n.exports=function(){return W().apply(this,arguments)},n.exports.reset=function(){W().reset()},n.exports.create=X,n.exports.shapeFromPath=se,n.exports.shapeFromText=ge})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),oR,!1);const c8=oR.exports;oR.exports.create;const wy=({icon:t,label:e,value:n})=>g.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-xl p-2.5 border border-white/5 flex flex-col justify-center",children:[g.jsxs("div",{className:"flex items-center gap-1.5 text-white/50 text-[10px] uppercase font-bold tracking-wider mb-0.5",children:[t," ",e]}),g.jsx("div",{className:"text-white font-bold text-sm",children:n})]}),Cb=({user:t,role:e,isPremium:n,onUpgrade:r,expanded:i=!1})=>{var M,I,N,C;const o=e===Ke.INFLUENCER,[s,l]=Y.useState(!1),[c,f]=Y.useState(!1),h=Y.useRef(null),[p,y]=Y.useState(!1),_=Y.useRef(null),S=R=>{var L;R.stopPropagation(),p&&((L=_.current)==null||L.pause(),y(!1)),l(P=>!P)},A=R=>{R.stopPropagation(),f(L=>!L)},E=R=>{R.stopPropagation(),_.current&&(p?_.current.pause():(s&&l(!1),_.current.play()),y(!p))};return g.jsxs("div",{className:"w-full h-full overflow-hidden relative bg-[#1a1a1a] border border-white/20 rounded-3xl !p-0 shadow-2xl",children:[g.jsxs("div",{className:`absolute inset-0 z-0 ${i?"":"pointer-events-none"}`,children:[s&&t.introVideoUrl?g.jsx("video",{ref:h,src:t.introVideoUrl,className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:c,playsInline:!0}):g.jsx("img",{src:t.avatar,className:"w-full h-full object-cover pointer-events-none select-none",draggable:!1,alt:t.name}),t.voiceIntroUrl&&g.jsx("audio",{ref:_,src:t.voiceIntroUrl,onEnded:()=>y(!1)})]}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent pointer-events-none z-10"}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2/3 bg-gradient-to-t from-black/90 via-black/50 to-transparent pointer-events-none z-10"}),t.aiMatchScore&&!s&&g.jsx("div",{className:`absolute top-4 left-4 right-4 z-20 ${i?"":"pointer-events-none"}`,children:n?g.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-3 flex items-start gap-3 shadow-lg",children:[g.jsxs("div",{className:"bg-gradient-to-tr from-pink-500 to-orange-400 text-white font-bold text-xs rounded-lg p-2 shrink-0 shadow-inner",children:[t.aiMatchScore,"%"]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-pink-300 font-bold uppercase tracking-wider",children:[g.jsx(Cf,{size:10})," AI Insight"]}),g.jsx("p",{className:"text-xs text-white/90 leading-tight mt-0.5",children:t.aiMatchReason})]})]}):g.jsxs("div",{onClick:R=>{R.stopPropagation(),r&&r()},className:"bg-black/60 backdrop-blur-xl border border-white/10 rounded-2xl p-3 flex items-center justify-between gap-3 shadow-lg cursor-pointer group hover:bg-black/80 transition-all",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"bg-white/10 text-white/40 font-bold text-xs rounded-lg p-2 shrink-0 shadow-inner",children:g.jsx(ls,{size:12})}),g.jsxs("div",{children:[g.jsx("div",{className:"flex items-center gap-1 text-[10px] text-pink-300/50 font-bold uppercase tracking-wider",children:"AI Insight Locked"}),g.jsx("p",{className:"text-xs text-white/50 leading-tight mt-0.5",children:"Unlock advanced match analysis"})]})]}),g.jsx("button",{className:"bg-gradient-to-r from-pink-500 to-orange-400 text-white text-[10px] font-bold px-3 py-1.5 rounded-full shadow-lg group-hover:scale-105 transition-transform",children:"UPGRADE"})]})}),s&&g.jsxs("div",{className:"absolute top-4 right-4 z-40 flex flex-col gap-3",children:[g.jsx("button",{onClick:S,className:"w-10 h-10 bg-black/40 backdrop-blur-md rounded-full flex items-center justify-center text-white border border-white/10 hover:bg-black/60",children:g.jsx(br,{size:18})}),g.jsx("button",{onClick:A,className:"w-10 h-10 bg-black/40 backdrop-blur-md rounded-full flex items-center justify-center text-white border border-white/10 hover:bg-black/60",children:c?g.jsx(fce,{size:18}):g.jsx(u8,{size:18})})]}),g.jsxs("div",{className:`absolute bottom-0 left-0 w-full p-6 pb-8 text-left z-20 ${i?"h-full overflow-y-auto bg-black/60 backdrop-blur-md pt-24 pointer-events-auto no-scrollbar":"pointer-events-none"}`,children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("h2",{className:"text-3xl font-bold text-white drop-shadow-md",children:t.name}),t.verified&&g.jsx(Tb,{className:"text-blue-400 fill-white/10",size:24})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-full px-3 py-1 text-xs font-semibold text-white/90 flex items-center gap-1.5",children:[g.jsx(Af,{size:12,className:"text-pink-400"})," ",t.location||"Unknown"]}),t.jobTitle&&g.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-full px-3 py-1 text-xs font-semibold text-white/90 flex items-center gap-1.5",children:[g.jsx(Ks,{size:12,className:"text-blue-400"})," ",t.jobTitle]}),t.company&&g.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-full px-3 py-1 text-xs font-semibold text-white/90 flex items-center gap-1.5",children:[g.jsx(Nue,{size:12,className:"text-purple-400"})," ",t.company]}),t.school&&g.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-full px-3 py-1 text-xs font-semibold text-white/90 flex items-center gap-1.5",children:[g.jsx(Vue,{size:12,className:"text-yellow-400"})," ",t.school]})]}),g.jsxs("div",{className:"flex items-center gap-3 mb-4 overflow-x-auto no-scrollbar pb-1 pointer-events-auto",children:[t.introVideoUrl&&g.jsxs("button",{onClick:S,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${s?"bg-white text-black border-white":"bg-white/10 text-white border-white/20 hover:bg-white/20"}`,children:[s?g.jsx(Yue,{size:14}):g.jsx(Z$,{size:14}),s?"Playing":"Intro"]}),t.voiceIntroUrl&&g.jsxs("button",{onClick:E,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${p?"bg-purple-500 text-white border-purple-400":"bg-white/10 text-white border-white/20 hover:bg-white/20"}`,children:[p?g.jsx(rce,{size:14}):g.jsx(Kue,{size:14}),p?"Listening":"Voice"]}),(t.introVideoUrl||t.voiceIntroUrl)&&t.socials&&Object.values(t.socials).some(R=>R)&&g.jsx("div",{className:"w-px h-5 bg-white/20 mx-1 shrink-0"}),t.socials&&g.jsxs("div",{className:"flex items-center gap-2",children:[t.socials.instagram&&g.jsx("a",{href:`https://instagram.com/${t.socials.instagram.replace("@","")}`,target:"_blank",rel:"noreferrer",onClick:R=>R.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-pink-600 hover:text-white text-white/80 transition-colors",children:g.jsx(rR,{size:14})}),t.socials.twitter&&g.jsx("a",{href:`https://twitter.com/${t.socials.twitter.replace("@","")}`,target:"_blank",rel:"noreferrer",onClick:R=>R.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-blue-400 hover:text-white text-white/80 transition-colors",children:g.jsx(s8,{size:14})}),t.socials.youtube&&g.jsx("a",{href:t.socials.youtube,target:"_blank",rel:"noreferrer",onClick:R=>R.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-red-600 hover:text-white text-white/80 transition-colors",children:g.jsx(hce,{size:14})}),t.socials.linkedin&&g.jsx("a",{href:t.socials.linkedin,target:"_blank",rel:"noreferrer",onClick:R=>R.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-blue-700 hover:text-white text-white/80 transition-colors",children:g.jsx(Q$,{size:14})}),t.socials.facebook&&g.jsx("a",{href:t.socials.facebook,target:"_blank",rel:"noreferrer",onClick:R=>R.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-blue-600 hover:text-white text-white/80 transition-colors",children:g.jsx(Oue,{size:14})}),t.website&&g.jsx("a",{href:t.website.startsWith("http")?t.website:`https://${t.website}`,target:"_blank",rel:"noreferrer",onClick:R=>R.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-emerald-500 hover:text-white text-white/80 transition-colors",children:g.jsx(qA,{size:14})})]})]}),g.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:o?g.jsxs(g.Fragment,{children:[g.jsx(wy,{icon:g.jsx(nR,{size:14,className:"text-green-400"}),label:"Budget",value:((I=(M=t.stats)==null?void 0:M.budget)==null?void 0:I.replace(/\$/g,""))||"N/A"}),g.jsx(wy,{icon:g.jsx(Ks,{size:14,className:"text-purple-400"}),label:"Niche",value:t.tags[0]})]}):g.jsxs(g.Fragment,{children:[g.jsx(wy,{icon:g.jsx(HA,{size:14,className:"text-pink-400"}),label:"Followers",value:((N=t.stats)==null?void 0:N.followers)||"0"}),g.jsx(wy,{icon:g.jsx(gl,{size:14,className:"text-yellow-400"}),label:"Engagement",value:((C=t.stats)==null?void 0:C.engagement)||"0%"})]})}),g.jsx("p",{className:`text-white/80 text-sm leading-relaxed font-normal mb-4 ${i?"":"line-clamp-2"}`,children:t.bio}),t.portfolio&&t.portfolio.length>0&&g.jsxs("div",{className:i?"grid grid-cols-3 gap-2 pb-4":"flex gap-2 overflow-x-auto pb-1 no-scrollbar mask-linear-fade",children:[t.portfolio.slice(0,i?void 0:3).map((R,L)=>g.jsx("div",{className:`shrink-0 rounded-lg overflow-hidden border border-white/20 ${i?"aspect-square w-full":"w-16 h-16"}`,children:g.jsx("img",{src:R,className:"w-full h-full object-cover",alt:""})},L)),!i&&t.portfolio.length>3&&g.jsxs("div",{className:"w-16 h-16 shrink-0 rounded-lg bg-white/10 border border-white/20 flex items-center justify-center text-xs font-bold text-white",children:["+",t.portfolio.length-3]})]}),i&&g.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 space-y-4",children:[g.jsx("h4",{className:"text-xs font-bold text-white/50 uppercase tracking-widest",children:"Interests"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(R=>g.jsxs("span",{className:"text-xs font-bold bg-white/10 px-3 py-1 rounded-full text-white/90 border border-white/5",children:["#",R]},R))})]})]})]})},so=(t=10)=>{if(typeof navigator<"u"&&navigator.vibrate)try{navigator.vibrate(t)}catch{}},pce=()=>g.jsxs("div",{className:"w-full h-full bg-[#1a1a1a] rounded-3xl overflow-hidden border border-white/10 relative",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full animate-[shimmer_1.5s_infinite]"}),g.jsx("div",{className:"h-[70%] bg-white/5 w-full relative",children:g.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10"}),g.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10"})]})}),g.jsxs("div",{className:"absolute bottom-0 w-full p-6 space-y-4 bg-gradient-to-t from-black via-black/80 to-transparent pt-20",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"h-8 w-2/3 bg-white/10 rounded-lg animate-pulse"}),g.jsx("div",{className:"h-4 w-1/3 bg-white/10 rounded-lg animate-pulse"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"h-6 w-16 bg-white/10 rounded-full animate-pulse"}),g.jsx("div",{className:"h-6 w-24 bg-white/10 rounded-full animate-pulse"})]}),g.jsxs("div",{className:"space-y-2 pt-2",children:[g.jsx("div",{className:"h-3 w-full bg-white/10 rounded animate-pulse"}),g.jsx("div",{className:"h-3 w-5/6 bg-white/10 rounded animate-pulse"})]})]})]}),mce=()=>g.jsx("div",{className:"grid grid-cols-2 gap-3 pb-10",children:[1,2,3,4,5,6].map(t=>g.jsxs("div",{className:"relative aspect-[3/4] rounded-2xl overflow-hidden bg-[#1a1a1a] border border-white/10",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full animate-[shimmer_1.5s_infinite]"}),g.jsxs("div",{className:"absolute bottom-3 left-3 right-3 space-y-2",children:[g.jsx("div",{className:"h-4 w-3/4 bg-white/10 rounded animate-pulse"}),g.jsx("div",{className:"h-3 w-1/2 bg-white/10 rounded animate-pulse"})]})]},t))}),gce=({isOpen:t,onClose:e,onApply:n,currentFilters:r})=>{const[i,o]=Y.useState(r.location),[s,l]=Y.useState(r.niche);return Y.useEffect(()=>{t&&(o(r.location),l(r.niche))},[t,r]),t?g.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:g.jsxs(qe.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"w-full max-w-sm mt-auto sm:mt-0 sm:rounded-3xl rounded-t-3xl overflow-hidden shadow-2xl bg-black/80 backdrop-blur-2xl border border-white/10 relative z-[250]",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-pink-500/10 to-transparent pointer-events-none"}),g.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center relative z-10",children:[g.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[g.jsx(r8,{size:18,className:"text-pink-500"})," Filter Deck"]}),g.jsx("button",{onClick:e,className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white",children:g.jsx(br,{size:20})})]}),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-xs font-bold text-white/50 uppercase tracking-widest ml-1",children:"Location"}),g.jsxs("div",{className:"relative",children:[g.jsx(Af,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30",size:18}),g.jsx("input",{type:"text",value:i,onChange:c=>o(c.target.value),placeholder:"e.g. New York, Remote",className:"w-full bg-black/20 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white focus:outline-none focus:border-pink-500/50 transition-colors placeholder:text-white/20"})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-xs font-bold text-white/50 uppercase tracking-widest ml-1",children:"Niche / Tag"}),g.jsxs("div",{className:"relative",children:[g.jsx(t8,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30",size:18}),g.jsx("input",{type:"text",value:s,onChange:c=>l(c.target.value),placeholder:"e.g. Fitness, Tech, Fashion",className:"w-full bg-black/20 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white focus:outline-none focus:border-pink-500/50 transition-colors placeholder:text-white/20"})]})]})]}),g.jsxs("div",{className:"p-6 pt-2 flex gap-3",children:[g.jsx($t,{variant:"secondary",fullWidth:!0,onClick:()=>{o(""),l(""),n({location:"",niche:""}),e()},children:"Clear"}),g.jsx($t,{fullWidth:!0,onClick:()=>{n({location:i,niche:s}),e()},children:"Apply Filters"})]})]})}):null},yce=({candidate:t,onClose:e,onChat:n})=>g.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex flex-col items-center justify-center bg-black/90 backdrop-blur-xl p-6",children:[g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((r,i)=>g.jsx(qe.div,{initial:{y:-10,x:Math.random()*window.innerWidth,opacity:1},animate:{y:window.innerHeight+10,rotate:360},transition:{duration:2+Math.random()*2,repeat:1/0,ease:"linear"},className:"absolute w-2 h-2 bg-gradient-to-tr from-pink-500 to-yellow-500 rounded-full"},i))}),g.jsxs(qe.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",bounce:.5},className:"text-center space-y-8 relative z-10",children:[g.jsx("div",{className:"font-mono text-pink-500 font-bold tracking-widest text-xl animate-pulse",children:"IT'S A MATCH!"}),g.jsxs("div",{className:"flex items-center justify-center gap-4",children:[g.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white overflow-hidden shadow-[0_0_30px_rgba(255,255,255,0.3)]",children:g.jsx("img",{src:"https://picsum.photos/200/200",className:"w-full h-full object-cover",alt:"user"})}),g.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-pink-500 overflow-hidden shadow-[0_0_30px_rgba(236,72,153,0.5)]",children:g.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"match"})})]}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["You & ",t.name]}),g.jsx("p",{className:"text-white/60",children:"vibe with each other."})]}),g.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs mx-auto",children:[g.jsx($t,{fullWidth:!0,onClick:n,className:"flex items-center gap-2 justify-center",children:"Message"}),g.jsx($t,{fullWidth:!0,variant:"secondary",onClick:e,children:"Keep Swiping"})]})]})]}),vce=({user:t,onClose:e,onAction:n,role:r,isPremium:i})=>g.jsxs(qe.div,{initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},className:"fixed inset-0 z-[300] bg-black/95 backdrop-blur-md flex flex-col",children:[g.jsxs("div",{className:"p-4 flex justify-between items-center shrink-0",children:[g.jsx("button",{onClick:e,className:"p-2 bg-white/10 rounded-full text-white hover:bg-white/20",children:g.jsx(kue,{size:24})}),g.jsx("span",{className:"font-bold text-white text-sm tracking-widest uppercase",children:"Profile Detail"}),g.jsx("div",{className:"w-10"})]}),g.jsx("div",{className:"flex-1 px-4 pb-4 overflow-hidden flex flex-col justify-center",children:g.jsx("div",{className:"w-full max-w-lg mx-auto h-full max-h-[75vh] relative rounded-3xl overflow-hidden shadow-2xl border border-white/10",children:g.jsx(Cb,{user:t,role:r,isPremium:i,expanded:!0})})}),g.jsxs("div",{className:"p-6 pb-8 flex justify-center items-center gap-6 shrink-0",children:[g.jsx(Ya,{icon:g.jsx(br,{size:32}),color:"text-red-500",bg:"bg-black/80 border-red-500/20 shadow-[0_0_20px_rgba(239,68,68,0.15)]",size:"large",onClick:()=>{n("left"),e()}}),g.jsx(Ya,{icon:g.jsx(i8,{size:24,fill:"currentColor"}),color:"text-blue-400",bg:"bg-black/80 border-blue-400/50 shadow-[0_0_20px_rgba(96,165,250,0.3)]",onClick:()=>{n("up"),e()}}),g.jsx(Ya,{icon:g.jsx(Ab,{size:32,fill:"currentColor"}),color:"text-green-500",bg:"bg-black/80 border-green-500/20 shadow-[0_0_20px_rgba(34,197,94,0.15)]",size:"large",onClick:()=>{n("right"),e()}})]})]}),bce=({user:t,onClick:e})=>{var n;return g.jsxs(qe.div,{layoutId:`card-${t.id}`,onClick:e,className:"relative aspect-[3/4] rounded-2xl overflow-hidden cursor-pointer group border border-transparent hover:border-pink-500/50 transition-all",whileHover:{scale:.98},children:[g.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",loading:"lazy",alt:t.name}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent opacity-80"}),g.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[t.aiMatchScore&&g.jsxs("div",{className:"bg-pink-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded shadow-sm",children:[t.aiMatchScore,"%"]}),t.introVideoUrl&&g.jsx("div",{className:"bg-white/20 backdrop-blur-sm text-white p-1 rounded-full flex items-center justify-center",children:g.jsx(Z$,{size:10,fill:"currentColor"})})]}),g.jsxs("div",{className:"absolute bottom-3 left-3 right-3 text-white",children:[g.jsx("h3",{className:"font-bold text-sm truncate",children:t.name}),g.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-white/70",children:[g.jsx(Af,{size:10})," ",(n=t.location)==null?void 0:n.split(",")[0]]}),g.jsx("div",{className:"flex gap-1 mt-1.5",children:t.tags.slice(0,1).map(r=>g.jsx("span",{className:"text-[9px] bg-white/20 px-1.5 py-0.5 rounded backdrop-blur-sm truncate",children:r},r))})]})]})},JL=({filtersActive:t,dislikedCount:e,onRewindDisliked:n})=>g.jsxs("div",{className:"flex flex-col items-center justify-center h-full relative w-full pb-32",children:[g.jsx("div",{className:"absolute w-64 h-64 border border-pink-500/20 rounded-full animate-ping opacity-20"}),g.jsx("div",{className:"absolute w-48 h-48 border border-pink-500/30 rounded-full animate-ping opacity-30 animation-delay-500"}),g.jsx("div",{className:"relative w-24 h-24 rounded-full bg-white/40 dark:bg-white/5 border border-white/20 dark:border-white/10 flex items-center justify-center backdrop-blur-md shadow-[0_0_50px_rgba(236,72,153,0.2)]",children:g.jsx("div",{className:"absolute inset-0 rounded-full border-t-2 border-pink-500 animate-spin"})}),g.jsx("h3",{className:"mt-8 text-xl font-bold text-gray-900 dark:text-white tracking-tight",children:t?"No Matches Found":"All Caught Up"}),g.jsx("p",{className:"text-gray-500 dark:text-white/40 text-sm mt-2 text-center max-w-xs",children:t?"Try adjusting your filters.":"Check back later for more."}),e>0&&!t&&g.jsxs(qe.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:n,className:"mt-8 px-6 py-3 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-full backdrop-blur-md flex items-center gap-2 transition-all active:scale-95 shadow-lg",children:[g.jsx(e8,{size:18,className:"text-yellow-400"}),"Rewind ",e," Disliked Profile",e!==1?"s":""]})]}),xce=({candidates:t,currentUserRole:e,isPremium:n,isLoading:r,dailySwipeCount:i=0,onSwipeCountChange:o,swipeHistory:s,onSwipeHistoryChange:l,onUpgrade:c,onSwipe:f,onMatchChat:h})=>{const[p,y]=Y.useState(null),[_,S]=Y.useState(!1),[A,E]=Y.useState("left"),[M,I]=Y.useState("stack"),[N,C]=Y.useState(null),[R,L]=Y.useState(!1),[P,O]=Y.useState({location:"",niche:""}),j=Y.useMemo(()=>{const J=new Set(s.map(fe=>fe.user.id));let te=t.filter(fe=>!J.has(fe.id));if(P.location){const fe=P.location.toLowerCase();te=te.filter(ye=>ye.location&&ye.location.toLowerCase().includes(fe))}if(P.niche){const fe=P.niche.toLowerCase();te=te.filter(ye=>ye.tags.some(Te=>Te.toLowerCase().includes(fe))||ye.bio&&ye.bio.toLowerCase().includes(fe))}return _&&(te=[...te].sort((fe,ye)=>(ye.aiMatchScore||0)-(fe.aiMatchScore||0))),te},[t,s,P,_]),F=j[0],B=j[1],X=!!(P.location||P.niche),ie=s.filter(J=>J.direction==="left").length,W=async(J,te)=>{console.log(`handleSwipeResult triggered for ${te.name} in direction: ${J}`),E(J),l(fe=>[...fe,{user:te,direction:J}]),J==="up"?(so([30,20,30]),c8({particleCount:150,spread:100,origin:{y:.7},colors:["#3B82F6","#60A5FA","#93C5FD","#FFFFFF"],shapes:["star"],zIndex:100})):so(10);try{const fe=await f(J,te.id);fe&&fe.isMatch&&y(te)}catch(fe){console.error("Swipe API error:",fe)}},ee=J=>n||J==="left"?!0:i>=5?(so([50,50,50]),c&&c(),!1):!0,se=J=>{ee(J)&&F&&(J!=="left"&&o&&o(i+1),W(J,F))},ge=()=>{if(s.length!==0){if(!n){c&&c();return}l(J=>J.slice(0,-1))}},K=()=>{if(!n){c&&c();return}so([20,40,20]),l(J=>J.filter(te=>te.direction!=="left"))},V=()=>{if(!n){c&&c();return}_||(S(!0),so([10,50,10]),setTimeout(()=>S(!1),1e4))},$=()=>{if(!n){c&&c();return}se("up")};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"relative w-full h-full flex flex-col overflow-hidden bg-black",children:[g.jsx(yr,{children:F&&g.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0 z-0 pointer-events-none",children:g.jsx("img",{src:F.avatar,alt:"Background",className:"w-full h-full object-cover opacity-30 blur-[60px] scale-110 saturate-150"})},F.id)}),g.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-t from-black via-black/40 to-black/80 pointer-events-none"}),g.jsx("div",{className:"absolute top-4 left-0 right-0 z-[60] flex justify-end px-6 items-start pointer-events-none",children:g.jsxs("button",{onClick:()=>L(!0),className:`w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-xl border transition-all pointer-events-auto shadow-lg hover:shadow-xl ${X?"bg-gradient-to-r from-pink-500 to-orange-400 text-white border-none":"bg-white/10 text-white/90 border-white/20 hover:bg-white/20"}`,children:[g.jsx(r8,{size:18}),X&&g.jsx("span",{className:"absolute -top-1 -right-1 w-3.5 h-3.5 bg-white rounded-full border-2 border-pink-500"})]})}),g.jsx(yr,{children:_&&M==="stack"&&g.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-30 pointer-events-none flex flex-col items-center justify-center overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 border-[8px] border-purple-500/30 shadow-[inset_0_0_100px_rgba(168,85,247,0.4)]"}),g.jsx(qe.div,{animate:{scale:[1,1.5],opacity:[.5,0]},transition:{duration:1,repeat:1/0},className:"absolute w-full aspect-square bg-purple-500/10 rounded-full"}),g.jsxs(qe.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"bg-purple-600 text-white font-bold px-6 py-2 rounded-full text-sm uppercase tracking-widest shadow-[0_0_30px_rgba(168,85,247,0.6)] flex items-center gap-2 relative z-10",children:[g.jsx(gl,{size:16,fill:"currentColor"})," Boost Active"]})]})}),g.jsxs("div",{className:"flex-1 w-full relative z-[50] h-full",children:[M==="stack"&&g.jsx("div",{className:"w-full h-full max-w-lg mx-auto flex flex-col justify-center px-4 pb-24",children:r?g.jsx("div",{className:"relative w-full h-[75vh] sm:h-[80vh]",children:g.jsx(pce,{})}):j.length===0?g.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:g.jsx(JL,{filtersActive:X,dislikedCount:ie,onRewindDisliked:K})},"radar-empty-wrapper"):g.jsxs("div",{className:"relative w-full h-[75vh] sm:h-[80vh]",children:[B&&g.jsx("div",{className:"absolute inset-0 scale-95 opacity-60 pointer-events-none z-0 transition-transform duration-300",children:g.jsx("div",{className:"w-full h-full overflow-hidden relative bg-[#1a1a1a] border border-white/20 rounded-3xl !p-0 shadow-2xl",children:g.jsx(Cb,{user:B,role:e,isPremium:n})})},`next-preview-${B.id}`),g.jsx(yr,{mode:"popLayout",custom:A,children:F&&g.jsx(_ce,{user:F,role:e,isPremium:n,dailySwipeCount:i,onSwipeCountChange:o,onUpgrade:c,onSwipe:J=>{W(J,F)},onClick:()=>{C(F)},customSwipeDir:A},F.id)})]})}),M==="grid"&&g.jsx("div",{className:"w-full h-full overflow-y-auto px-4 pt-20 pb-32 no-scrollbar",children:r?g.jsx(mce,{}):j.length===0?g.jsx("div",{className:"h-full flex items-center justify-center",children:g.jsx(JL,{filtersActive:X,dislikedCount:ie,onRewindDisliked:K})}):g.jsx("div",{className:"grid grid-cols-2 gap-3 pb-10",children:j.map(J=>g.jsx(bce,{user:J,onClick:()=>C(J)},J.id))})})]}),M==="stack"&&!r&&g.jsx("div",{className:"absolute bottom-6 left-0 w-full z-[50] flex justify-center pointer-events-none px-4 shrink-0",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:g.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 px-4 py-3 bg-white/5 backdrop-blur-2xl border border-white/10 rounded-[2.5rem] shadow-[0_20px_40px_rgba(0,0,0,0.5)]",children:[g.jsx(Ya,{icon:g.jsx(e8,{size:20}),color:s.length>0?"text-yellow-400":"text-white/30",bg:"bg-transparent",onClick:ge,disabled:s.length===0,className:"pointer-events-auto border-transparent shadow-none"}),g.jsx(Ya,{icon:g.jsx(br,{size:32}),color:"text-red-500",bg:"bg-black/60 border-red-500/20 shadow-[0_0_20px_rgba(239,68,68,0.15)] hover:shadow-[0_0_30px_rgba(239,68,68,0.3)]",size:"large",onClick:()=>{F&&se("left")},disabled:j.length===0,className:"pointer-events-auto"}),g.jsx(Ya,{icon:g.jsx(i8,{size:24,fill:"currentColor"}),color:n?"text-blue-400":"text-white/50",bg:"bg-blue-500/10 border-blue-400/50 shadow-[0_0_20px_rgba(96,165,250,0.3)] hover:shadow-[0_0_40px_rgba(96,165,250,0.5)]",onClick:()=>{F&&$()},disabled:j.length===0,className:"scale-110 hover:scale-125 transition-all duration-300 ring-4 ring-black/50 pointer-events-auto"}),g.jsx(Ya,{icon:g.jsx(Ab,{size:32,fill:"currentColor"}),color:"text-green-500",bg:"bg-black/60 border-green-500/20 shadow-[0_0_20px_rgba(34,197,94,0.15)] hover:shadow-[0_0_30px_rgba(34,197,94,0.3)]",size:"large",onClick:()=>{F&&se("right")},disabled:j.length===0,className:"pointer-events-auto"}),g.jsx(Ya,{icon:g.jsx(gl,{size:20,fill:"currentColor"}),color:_?"text-white":"text-purple-500",bg:_?"bg-purple-500 border-purple-400":"bg-transparent",onClick:V,className:`pointer-events-auto ${!_&&"border-transparent shadow-none"}`})]})})]}),g.jsxs(yr,{children:[p&&g.jsx(yce,{candidate:p,onClose:()=>y(null),onChat:()=>{h&&h(p),y(null)}}),R&&g.jsx(gce,{isOpen:R,onClose:()=>L(!1),currentFilters:P,onApply:O}),N&&g.jsx(vce,{user:N,role:e,isPremium:n,onClose:()=>C(null),onAction:J=>{W(J,N),C(null)}})]})]})},_ce=Y.forwardRef(({user:t,role:e,isPremium:n,dailySwipeCount:r=0,onSwipeCountChange:i,onUpgrade:o,onSwipe:s,onClick:l,customSwipeDir:c="left"},f)=>{const h=Sf(0),p=Sf(0),y=pu(h,[-200,200],[-15,15]);Y.useImperativeHandle(f,()=>({triggerSwipe:async I=>{s(I)}}),[s]);const _=pu(h,[20,150],[0,1]),S=pu(h,[-20,-150],[0,1]),A=pu(p,[-20,-150],[0,1]),E=pu(h,[-200,0,200],["0px 0px 50px rgba(239, 68, 68, 0.4)","0px 0px 0px rgba(0,0,0,0)","0px 0px 50px rgba(34, 197, 94, 0.4)"]),M=async(I,N)=>{const{x:R,y:L}=N.offset,{x:P,y:O}=N.velocity;if(console.log(`onDragEnd: offset=[${Math.round(R)}, ${Math.round(L)}], velocity=[${Math.round(P)}, ${Math.round(O)}]`),R>100||P>500){if(!n&&r>=5){so([50,50,50]),qc(h,0,{type:"spring",stiffness:300,damping:20}),qc(p,0,{type:"spring",stiffness:300,damping:20}),o&&o();return}so(20),s("right")}else if(R<-100||P<-500)so(20),s("left");else if(L<-100||O<-500){if(!n){so([50,50]),qc(h,0,{type:"spring",stiffness:300,damping:20}),qc(p,0,{type:"spring",stiffness:300,damping:20}),o&&o();return}so([15,30,15]),s("up")}else qc(h,0,{type:"spring",stiffness:300,damping:20}),qc(p,0,{type:"spring",stiffness:300,damping:20})};return g.jsxs(qe.div,{drag:!0,dragConstraints:{left:0,right:0,top:0,bottom:0},dragElastic:.8,dragSnapToOrigin:!0,onDragEnd:M,onTap:(I,N)=>{Math.abs(N.offset.x)<5&&Math.abs(N.offset.y)<5&&l&&l()},whileTap:{scale:.98},whileDrag:{scale:1.02,cursor:"grabbing"},custom:c,exit:I=>({x:I==="left"?-1e3:I==="right"?1e3:0,y:I==="up"?-1200:0,opacity:0,rotate:I==="left"?-30:I==="right"?30:0,transition:{duration:.3}}),style:{x:h,y:p,rotate:y,boxShadow:E,touchAction:"none"},className:"absolute inset-0 z-[100] cursor-grab active:cursor-grabbing rounded-3xl",children:[g.jsx("div",{className:"pointer-events-none h-full w-full",children:g.jsx(Cb,{user:t,role:e,isPremium:n,onUpgrade:o})}),g.jsx(qe.div,{style:{opacity:_},className:"absolute top-10 left-8 border-4 border-green-400 text-green-400 font-bold text-4xl px-4 py-2 rounded-xl -rotate-12 bg-black/50 backdrop-blur-md z-50 pointer-events-none",children:"LIKE"}),g.jsx(qe.div,{style:{opacity:S},className:"absolute top-10 right-8 border-4 border-red-500 text-red-500 font-bold text-4xl px-4 py-2 rounded-xl rotate-12 bg-black/50 backdrop-blur-md z-50 pointer-events-none",children:"NOPE"}),g.jsx(qe.div,{style:{opacity:A},className:"absolute bottom-32 left-1/2 -translate-x-1/2 border-4 border-blue-400 text-blue-400 font-bold text-3xl px-4 py-2 rounded-xl -rotate-6 bg-black/50 backdrop-blur-md z-50 pointer-events-none whitespace-nowrap shadow-[0_0_30px_rgba(96,165,250,0.5)]",children:"SUPER LIKE"})]})}),Ya=({icon:t,color:e,bg:n,size:r="normal",onClick:i,disabled:o,className:s=""})=>{const l=r==="large",c=()=>{o||(so(10),i())};return g.jsx(qe.button,{whileTap:o?void 0:{scale:.9},onClick:c,disabled:o,className:`
        rounded-full flex items-center justify-center backdrop-blur-xl transition-all duration-200
        ${n} ${e}
        border dark:border-white/5
        ${l?"w-16 h-16 text-xl":"w-12 h-12"}
        ${o?"opacity-30 cursor-not-allowed grayscale":"hover:scale-105 active:scale-95 shadow-xl hover:shadow-2xl"}
        ${s}
      `,children:t})};var mh={exports:{}},$w={},Gw,XL;function wce(){if(XL)return Gw;XL=1;function t(e,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Gw=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var n=new Date().getTime();if(e&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,n){this._fn=e,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},n=null,r=0,i=0;i<this._errors.length;i++){var o=this._errors[i],s=o.message,l=(e[s]||0)+1;e[s]=l,l>=r&&(n=o,r=l)}return n},Gw}var QL;function Tce(){return QL||(QL=1,(function(t){var e=wce();t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],s=0;s<r.retries;s++)o.push(this.createTimeout(s,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(s,r)),o.sort(function(l,c){return l-c}),o},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,o=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var o in n)typeof n[o]=="function"&&i.push(o)}for(var s=0;s<i.length;s++){var l=i[s],c=n[l];n[l]=(function(h){var p=t.operation(r),y=Array.prototype.slice.call(arguments,1),_=y.pop();y.push(function(S){p.retry(S)||(S&&(arguments[0]=p.mainError()),_.apply(this,arguments))}),p.attempt(function(){h.apply(n,y)})}).bind(n,c),n[l].options=r}}})($w)),$w}var Hw,ZL;function Ece(){return ZL||(ZL=1,Hw=Tce()),Hw}var e5;function Sce(){if(e5)return mh.exports;e5=1;const t=Ece(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(l){super(),l instanceof Error?(this.originalError=l,{message:l}=l):(this.originalError=new Error(l),this.originalError.stack=this.stack),this.name="AbortError",this.message=l}}const r=(s,l,c)=>{const f=c.retries-(l-1);return s.attemptNumber=l,s.retriesLeft=f,s},i=s=>e.includes(s),o=(s,l)=>new Promise((c,f)=>{l={onFailedAttempt:()=>{},retries:10,...l};const h=t.operation(l);h.attempt(async p=>{try{c(await s(p))}catch(y){if(!(y instanceof Error)){f(new TypeError(`Non-error was thrown: "${y}". You should only throw errors.`));return}if(y instanceof n)h.stop(),f(y.originalError);else if(y instanceof TypeError&&!i(y.message))h.stop(),f(y);else{r(y,p,l);try{await l.onFailedAttempt(y)}catch(_){f(_);return}h.retry(y)||f(h.mainError())}}})});return mh.exports=o,mh.exports.default=o,mh.exports.AbortError=n,mh.exports}var f8=Sce();const Ace=Ht(f8);var Cce={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ice,Nce;function Rce(){return{geminiUrl:Ice,vertexUrl:Nce}}function kce(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=Rce();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ta{}function Me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];b(h,e.slice(o+1),n[f])}else for(const f of c)b(f,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const l=s.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];b(c[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(l=>v(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Pce(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&o.length>l)for(let c=l;c<o.length;c++){const f=o[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}KA(t,i,o,0,s)}}function KA(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(const c of l[s])KA(c,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,l=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of l)c[f]=s[f];for(const[f,h]of Object.entries(c)){const p=[];for(const y of n.slice(r))y==="*"?p.push(f):p.push(y);b(s,p,h)}for(const f of l)delete s[f]}}else{const s=t;o in s&&KA(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sR(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mce(t){const e={},n=v(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&b(e,["_url","resourceName"],r),e}function Oce(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response","generateVideoResponse"]);return s!=null&&b(e,["response"],Lce(s)),e}function Dce(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response"]);return s!=null&&b(e,["response"],jce(s)),e}function Lce(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Vce(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function jce(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Uce(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function Vce(t){const e={},n=v(t,["video"]);return n!=null&&b(e,["video"],Gce(n)),e}function Uce(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],Hce(n)),e}function Bce(t){const e={},n=v(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function Fce(t){const e={},n=v(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function qce(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response"]);return s!=null&&b(e,["response"],zce(s)),e}function zce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&b(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function d8(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response"]);return s!=null&&b(e,["response"],$ce(s)),e}function $ce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&b(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function Gce(t){const e={},n=v(t,["uri"]);n!=null&&b(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],sR(r));const i=v(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function Hce(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],sR(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var t5;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(t5||(t5={}));var n5;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(n5||(n5={}));var r5;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(r5||(r5={}));var Ko;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ko||(Ko={}));var i5;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(i5||(i5={}));var o5;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(o5||(o5={}));var s5;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(s5||(s5={}));var a5;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(a5||(a5={}));var l5;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(l5||(l5={}));var u5;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(u5||(u5={}));var c5;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(c5||(c5={}));var f5;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(f5||(f5={}));var d5;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(d5||(d5={}));var h5;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(h5||(h5={}));var p5;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(p5||(p5={}));var m5;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(m5||(m5={}));var g5;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(g5||(g5={}));var y5;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(y5||(y5={}));var v5;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(v5||(v5={}));var b5;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(b5||(b5={}));var x5;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(x5||(x5={}));var Bv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Bv||(Bv={}));var _5;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_5||(_5={}));var w5;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(w5||(w5={}));var T5;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(T5||(T5={}));var WA;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(WA||(WA={}));var E5;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(E5||(E5={}));var S5;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(S5||(S5={}));var YA;(function(t){t.COLLECTION="COLLECTION"})(YA||(YA={}));var A5;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(A5||(A5={}));var C5;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(C5||(C5={}));var Fv;(function(t){t.PREDICT="PREDICT",t.EMBED_CONTENT="EMBED_CONTENT"})(Fv||(Fv={}));var I5;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(I5||(I5={}));var N5;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(N5||(N5={}));var R5;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(R5||(R5={}));var k5;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(k5||(k5={}));var P5;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(P5||(P5={}));var M5;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(M5||(M5={}));var O5;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(O5||(O5={}));var D5;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(D5||(D5={}));var L5;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(L5||(L5={}));var j5;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(j5||(j5={}));var V5;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(V5||(V5={}));var U5;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(U5||(U5={}));var B5;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(B5||(B5={}));var F5;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(F5||(F5={}));var q5;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(q5||(q5={}));var z5;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(z5||(z5={}));var $5;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})($5||($5={}));var G5;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(G5||(G5={}));var H5;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(H5||(H5={}));var K5;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(K5||(K5={}));var W5;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(W5||(W5={}));var Y5;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Y5||(Y5={}));var J5;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(J5||(J5={}));var X5;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(X5||(X5={}));var Q5;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Q5||(Q5={}));var nf;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(nf||(nf={}));class JA{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class gh{get text(){var e,n,r,i,o,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const y of(c=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[_,S]of Object.entries(y))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(S!==null||S!==void 0)&&p.push(_);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,f+=y.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,o,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[y,_]of Object.entries(p))y!=="inlineData"&&(_!==null||_!==void 0)&&h.push(y);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,s,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,s,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class Z5{}class ej{}class Kce{}class Wce{}class Yce{}class Jce{}class tj{}class nj{}class rj{}class Xce{}class qv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new qv;let i;const o=e;return n?i=Dce(o):i=Oce(o),Object.assign(r,i),r}}class ij{}class oj{}class sj{}class aj{}class Qce{}class Zce{}class efe{}class aR{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new aR,o=qce(e);return Object.assign(r,o),r}}class tfe{}class nfe{}class rfe{}class ife{}class lj{}class ofe{get text(){var e,n,r;let i="",o=!1;const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;o=!0,i+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(s))l!=="inlineData"&&c!==null&&o.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class sfe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class lR{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new lR,o=d8(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Et(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function h8(t,e){const n=Et(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function p8(t){return Array.isArray(t)?t.map(e=>zv(e)):[zv(t)]}function zv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function m8(t){const e=zv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function g8(t){const e=zv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function uj(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function y8(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>uj(e)):[uj(t)]}function XA(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function cj(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function fj(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Jn(t){if(t==null)throw new Error("ContentUnion is required");return XA(t)?t:{role:"user",parts:y8(t)}}function uR(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Jn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Jn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Jn(n)):[Jn(e)]}function di(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(cj(t)||fj(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Jn(t)]}const e=[],n=[],r=XA(t[0]);for(const i of t){const o=XA(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(cj(i)||fj(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:y8(n)}),e}function afe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ko).includes(n[0].toUpperCase())?n[0].toUpperCase():Ko.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ko).includes(r.toUpperCase())?r.toUpperCase():Ko.TYPE_UNSPECIFIED})}}function hf(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&afe(t.type,e);for(const[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Ko).includes(l.toUpperCase())?l.toUpperCase():Ko.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=hf(l);else if(r.includes(s)){const c=[];for(const f of l){if(f.type=="null"){e.nullable=!0;continue}c.push(hf(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(l))c[f]=hf(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=l}return e}function cR(t){return hf(t)}function fR(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function dR(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Xf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=hf(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=hf(e.response));return t}function Qf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function lfe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function na(t,e){if(typeof e!="string")throw new Error("name must be a string");return lfe(t,e,"cachedContents")}function v8(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function El(t){return sR(t)}function ufe(t){return t!=null&&typeof t=="object"&&"name"in t}function cfe(t){return t!=null&&typeof t=="object"&&"video"in t}function ffe(t){return t!=null&&typeof t=="object"&&"uri"in t}function b8(t){var e;let n;if(ufe(t)&&(n=t.name),!(ffe(t)&&(n=t.uri,n===void 0))&&!(cfe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function x8(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function _8(t){for(const e of["models","tunedModels","publisherModels"])if(dfe(t,e))return t[e];return[]}function dfe(t,e){return t!==null&&typeof t=="object"&&e in t}function hfe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function pfe(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=hfe(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function w8(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function mfe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function T8(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Zf(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function E8(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function gfe(t){return t.includes("gemini")&&t!=="gemini-embedding-001"||t.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yfe(t){const e={},n=v(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Xfe(s))),b(e,["inlinedResponses"],o)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["inlinedEmbedContentResponses"],o)}return e}function vfe(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function bfe(t){const e={},n=v(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function nv(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&b(e,["state"],E8(i));const o=v(t,["metadata","createTime"]);o!=null&&b(e,["createTime"],o);const s=v(t,["metadata","endTime"]);s!=null&&b(e,["endTime"],s);const l=v(t,["metadata","updateTime"]);l!=null&&b(e,["updateTime"],l);const c=v(t,["metadata","model"]);c!=null&&b(e,["model"],c);const f=v(t,["metadata","output"]);return f!=null&&b(e,["dest"],yfe(T8(f))),e}function QA(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["state"]);i!=null&&b(e,["state"],E8(i));const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["createTime"]);s!=null&&b(e,["createTime"],s);const l=v(t,["startTime"]);l!=null&&b(e,["startTime"],l);const c=v(t,["endTime"]);c!=null&&b(e,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&b(e,["updateTime"],f);const h=v(t,["model"]);h!=null&&b(e,["model"],h);const p=v(t,["inputConfig"]);p!=null&&b(e,["src"],xfe(p));const y=v(t,["outputConfig"]);y!=null&&b(e,["dest"],vfe(T8(y)));const _=v(t,["completionStats"]);return _!=null&&b(e,["completionStats"],_),e}function xfe(t){const e={},n=v(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function _fe(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&b(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Jfe(t,s))),b(n,["requests","requests"],o)}return n}function wfe(t){const e={},n=v(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Tfe(t){const e={},n=v(t,["data"]);if(n!=null&&b(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Efe(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Zf(t,r)),n}function Sfe(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Zf(t,r)),n}function Afe(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],Cfe(r));const i=v(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const s=v(t,["avgLogprobs"]);s!=null&&b(e,["avgLogprobs"],s);const l=v(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const c=v(t,["index"]);c!=null&&b(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&b(e,["logprobsResult"],f);const h=v(t,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(_=>_)),b(e,["safetyRatings"],y)}const p=v(t,["urlContextMetadata"]);return p!=null&&b(e,["urlContextMetadata"],p),e}function Cfe(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function S8(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ide(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function Ife(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Nfe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],bfe(mfe(i))),n}function dj(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Et(t,r));const i=v(e,["src"]);i!=null&&b(n,["batch","inputConfig"],_fe(t,w8(t,i)));const o=v(e,["config"]);return o!=null&&Ife(o,n),n}function Rfe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],Et(t,r));const i=v(e,["src"]);i!=null&&b(n,["inputConfig"],wfe(w8(t,i)));const o=v(e,["config"]);return o!=null&&Nfe(o,n),n}function kfe(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["batch","displayName"],r),n}function Pfe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Et(t,r));const i=v(e,["src"]);i!=null&&b(n,["batch","inputConfig"],Ufe(t,i));const o=v(e,["config"]);return o!=null&&kfe(o,n),n}function Mfe(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Zf(t,r)),n}function Ofe(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Zf(t,r)),n}function Dfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);return o!=null&&b(e,["error"],o),e}function Lfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);return o!=null&&b(e,["error"],o),e}function jfe(t,e){const n={},r=v(e,["contents"]);if(r!=null){let o=uR(t,r);Array.isArray(o)&&(o=o.map(s=>s)),b(n,["requests[]","request","content"],o)}const i=v(e,["config"]);return i!=null&&(b(n,["_self"],Vfe(i,n)),Pce(n,{"requests[].*":"requests[].request.*"})),n}function Vfe(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const o=v(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&b(e,["requests[]","outputDimensionality"],o),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Ufe(t,e){const n={},r=v(e,["fileName"]);r!=null&&b(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&b(n,["requests"],jfe(t,i)),n}function Bfe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Ffe(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);if(i!=null&&b(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qfe(t){const e={},n=v(t,["allowedFunctionNames"]);n!=null&&b(e,["allowedFunctionNames"],n);const r=v(t,["mode"]);if(r!=null&&b(e,["mode"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function zfe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],S8(Jn(i)));const o=v(e,["temperature"]);o!=null&&b(r,["temperature"],o);const s=v(e,["topP"]);s!=null&&b(r,["topP"],s);const l=v(e,["topK"]);l!=null&&b(r,["topK"],l);const c=v(e,["candidateCount"]);c!=null&&b(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const y=v(e,["logprobs"]);y!=null&&b(r,["logprobs"],y);const _=v(e,["presencePenalty"]);_!=null&&b(r,["presencePenalty"],_);const S=v(e,["frequencyPenalty"]);S!=null&&b(r,["frequencyPenalty"],S);const A=v(e,["seed"]);A!=null&&b(r,["seed"],A);const E=v(e,["responseMimeType"]);E!=null&&b(r,["responseMimeType"],E);const M=v(e,["responseSchema"]);M!=null&&b(r,["responseSchema"],cR(M));const I=v(e,["responseJsonSchema"]);if(I!=null&&b(r,["responseJsonSchema"],I),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=v(e,["safetySettings"]);if(n!==void 0&&N!=null){let B=N;Array.isArray(B)&&(B=B.map(X=>ode(X))),b(n,["safetySettings"],B)}const C=v(e,["tools"]);if(n!==void 0&&C!=null){let B=Qf(C);Array.isArray(B)&&(B=B.map(X=>ade(Xf(X)))),b(n,["tools"],B)}const R=v(e,["toolConfig"]);if(n!==void 0&&R!=null&&b(n,["toolConfig"],sde(R)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=v(e,["cachedContent"]);n!==void 0&&L!=null&&b(n,["cachedContent"],na(t,L));const P=v(e,["responseModalities"]);P!=null&&b(r,["responseModalities"],P);const O=v(e,["mediaResolution"]);O!=null&&b(r,["mediaResolution"],O);const j=v(e,["speechConfig"]);if(j!=null&&b(r,["speechConfig"],fR(j)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=v(e,["thinkingConfig"]);q!=null&&b(r,["thinkingConfig"],q);const F=v(e,["imageConfig"]);F!=null&&b(r,["imageConfig"],Yfe(F));const z=v(e,["enableEnhancedCivicAnswers"]);if(z!=null&&b(r,["enableEnhancedCivicAnswers"],z),v(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function $fe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Afe(f))),b(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const o=v(t,["promptFeedback"]);o!=null&&b(e,["promptFeedback"],o);const s=v(t,["responseId"]);s!=null&&b(e,["responseId"],s);const l=v(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function Gfe(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Zf(t,r)),n}function Hfe(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Zf(t,r)),n}function Kfe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Wfe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Yfe(t){const e={},n=v(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),v(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Jfe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["request","model"],Et(t,r));const i=v(e,["contents"]);if(i!=null){let l=di(i);Array.isArray(l)&&(l=l.map(c=>S8(c))),b(n,["request","contents"],l)}const o=v(e,["metadata"]);o!=null&&b(n,["metadata"],o);const s=v(e,["config"]);return s!=null&&b(n,["request","generationConfig"],zfe(t,s,v(n,["request"],{}))),n}function Xfe(t){const e={},n=v(t,["response"]);n!=null&&b(e,["response"],$fe(n));const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["error"]);return i!=null&&b(e,["error"],i),e}function Qfe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Zfe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function ede(t){const e={},n=v(t,["config"]);return n!=null&&Qfe(n,e),e}function tde(t){const e={},n=v(t,["config"]);return n!=null&&Zfe(n,e),e}function nde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>nv(s))),b(e,["batchJobs"],o)}return e}function rde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>QA(s))),b(e,["batchJobs"],o)}return e}function ide(t){const e={},n=v(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],Bfe(o));const s=v(t,["functionCall"]);s!=null&&b(e,["functionCall"],Ffe(s));const l=v(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=v(t,["inlineData"]);c!=null&&b(e,["inlineData"],Tfe(c));const f=v(t,["text"]);f!=null&&b(e,["text"],f);const h=v(t,["thought"]);h!=null&&b(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const y=v(t,["videoMetadata"]);return y!=null&&b(e,["videoMetadata"],y),e}function ode(t){const e={},n=v(t,["category"]);if(n!=null&&b(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function sde(t){const e={},n=v(t,["retrievalConfig"]);n!=null&&b(e,["retrievalConfig"],n);const r=v(t,["functionCallingConfig"]);return r!=null&&b(e,["functionCallingConfig"],qfe(r)),e}function ade(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}const s=v(t,["googleMaps"]);s!=null&&b(e,["googleMaps"],Kfe(s));const l=v(t,["googleSearch"]);l!=null&&b(e,["googleSearch"],Wfe(l));const c=v(t,["googleSearchRetrieval"]);c!=null&&b(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ws;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ws||(Ws={}));class Ju{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lde extends ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ju(Ws.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=dj(this.apiClient,e),r=n._url,i=Me("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const y=p.systemInstruction;delete p.systemInstruction;const _=p.request;_.systemInstruction=y,p.request=_}f.push(p)}return l.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Rfe(this.apiClient,e);return l=Me("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>QA(h))}else{const f=dj(this.apiClient,e);return l=Me("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>nv(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Pfe(this.apiClient,e);return o=Me("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>nv(c))}}async get(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Hfe(this.apiClient,e);return l=Me("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>QA(h))}else{const f=Gfe(this.apiClient,e);return l=Me("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>nv(h))}}async cancel(e){var n,r,i,o;let s="",l={};if(this.apiClient.isVertexAI()){const c=Sfe(this.apiClient,e);s=Me("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Efe(this.apiClient,e);s=Me("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=tde(e);return l=Me("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=rde(h),y=new lj;return Object.assign(y,p),y})}else{const f=ede(e);return l=Me("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=nde(h),y=new lj;return Object.assign(y,p),y})}}async delete(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Ofe(this.apiClient,e);return l=Me("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>Lfe(h))}else{const f=Mfe(this.apiClient,e);return l=Me("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>Dfe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ude(t){const e={},n=v(t,["data"]);if(n!=null&&b(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function hj(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Pde(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function cde(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let h=di(s);Array.isArray(h)&&(h=h.map(p=>hj(p))),b(e,["contents"],h)}const l=v(t,["systemInstruction"]);e!==void 0&&l!=null&&b(e,["systemInstruction"],hj(Jn(l)));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Ode(p))),b(e,["tools"],h)}const f=v(t,["toolConfig"]);if(e!==void 0&&f!=null&&b(e,["toolConfig"],Mde(f)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function fde(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let p=di(s);Array.isArray(p)&&(p=p.map(y=>y)),b(e,["contents"],p)}const l=v(t,["systemInstruction"]);e!==void 0&&l!=null&&b(e,["systemInstruction"],Jn(l));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>Dde(y))),b(e,["tools"],p)}const f=v(t,["toolConfig"]);e!==void 0&&f!=null&&b(e,["toolConfig"],f);const h=v(t,["kmsKeyName"]);return e!==void 0&&h!=null&&b(e,["encryption_spec","kmsKeyName"],h),n}function dde(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],h8(t,r));const i=v(e,["config"]);return i!=null&&cde(i,n),n}function hde(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],h8(t,r));const i=v(e,["config"]);return i!=null&&fde(i,n),n}function pde(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],na(t,r)),n}function mde(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],na(t,r)),n}function gde(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function yde(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function vde(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function bde(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);if(i!=null&&b(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xde(t){const e={},n=v(t,["allowedFunctionNames"]);n!=null&&b(e,["allowedFunctionNames"],n);const r=v(t,["mode"]);if(r!=null&&b(e,["mode"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _de(t){const e={},n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=v(t,["response"]);s!=null&&b(e,["response"],s);const l=v(t,["responseJsonSchema"]);if(l!=null&&b(e,["responseJsonSchema"],l),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function wde(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],na(t,r)),n}function Tde(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],na(t,r)),n}function Ede(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Sde(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Ade(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Cde(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Ide(t){const e={},n=v(t,["config"]);return n!=null&&Ade(n,e),e}function Nde(t){const e={},n=v(t,["config"]);return n!=null&&Cde(n,e),e}function Rde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["cachedContents"],o)}return e}function kde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["cachedContents"],o)}return e}function Pde(t){const e={},n=v(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],vde(o));const s=v(t,["functionCall"]);s!=null&&b(e,["functionCall"],bde(s));const l=v(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=v(t,["inlineData"]);c!=null&&b(e,["inlineData"],ude(c));const f=v(t,["text"]);f!=null&&b(e,["text"],f);const h=v(t,["thought"]);h!=null&&b(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const y=v(t,["videoMetadata"]);return y!=null&&b(e,["videoMetadata"],y),e}function Mde(t){const e={},n=v(t,["retrievalConfig"]);n!=null&&b(e,["retrievalConfig"],n);const r=v(t,["functionCallingConfig"]);return r!=null&&b(e,["functionCallingConfig"],xde(r)),e}function Ode(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}const s=v(t,["googleMaps"]);s!=null&&b(e,["googleMaps"],Ede(s));const l=v(t,["googleSearch"]);l!=null&&b(e,["googleSearch"],Sde(l));const c=v(t,["googleSearchRetrieval"]);c!=null&&b(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function Dde(t){const e={},n=v(t,["retrieval"]);n!=null&&b(e,["retrieval"],n);const r=v(t,["computerUse"]);if(r!=null&&b(e,["computerUse"],r),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(t,["codeExecution"]);i!=null&&b(e,["codeExecution"],i);const o=v(t,["enterpriseWebSearch"]);o!=null&&b(e,["enterpriseWebSearch"],o);const s=v(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(y=>_de(y))),b(e,["functionDeclarations"],p)}const l=v(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],l);const c=v(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],c);const f=v(t,["googleSearchRetrieval"]);f!=null&&b(e,["googleSearchRetrieval"],f);const h=v(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function Lde(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function jde(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function Vde(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],na(t,r));const i=v(e,["config"]);return i!=null&&Lde(i,n),n}function Ude(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],na(t,r));const i=v(e,["config"]);return i!=null&&jde(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bde extends ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ju(Ws.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=hde(this.apiClient,e);return l=Me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=dde(this.apiClient,e);return l=Me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Tde(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=wde(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=mde(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=yde(h),y=new sj;return Object.assign(y,p),y})}else{const f=pde(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=gde(h),y=new sj;return Object.assign(y,p),y})}}async update(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Ude(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Vde(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Nde(e);return l=Me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=kde(h),y=new aj;return Object.assign(y,p),y})}else{const f=Ide(e);return l=Me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=Rde(h),y=new aj;return Object.assign(y,p),y})}}}function $v(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pj(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xe(t){return this instanceof Xe?(this.v=t,this):new Xe(t)}function fo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(S){return Promise.resolve(S).then(_,p)}}function l(_,S){r[_]&&(i[_]=function(A){return new Promise(function(E,M){o.push([_,A,E,M])>1||c(_,A)})},S&&(i[_]=S(i[_])))}function c(_,S){try{f(r[_](S))}catch(A){y(o[0][3],A)}}function f(_){_.value instanceof Xe?Promise.resolve(_.value.v).then(h,p):y(o[0][2],_)}function h(_){c("next",_)}function p(_){c("throw",_)}function y(_,S){_(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function ho(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pj=="function"?pj(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(l,c){s=t[o](s),i(l,c,s.done,s.value)})}}function i(o,s,l,c){Promise.resolve(c).then(function(f){o({value:f,done:l})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fde(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:A8(n)}function A8(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function qde(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function mj(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!A8(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class zde{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new $de(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class $de{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),qde(o)}async sendMessage(e){var n;await this.sendPromise;const r=Jn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,l;const c=await i,f=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let y=[];h!=null&&(y=(l=h.slice(p))!==null&&l!==void 0?l:[]);const _=f?[f]:[];this.recordHistory(r,_,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Jn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?mj(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return fo(this,arguments,function*(){var i,o,s,l,c,f;const h=[];try{for(var p=!0,y=ho(e),_;_=yield Xe(y.next()),i=_.done,!i;p=!0){l=_.value,p=!1;const S=l;if(Fde(S)){const A=(f=(c=S.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;A!==void 0&&h.push(A)}yield yield Xe(S)}}catch(S){o={error:S}}finally{try{!p&&!i&&(s=y.return)&&(yield Xe(s.call(y)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...mj(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,xp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gde(t){const e={},n=v(t,["file"]);return n!=null&&b(e,["file"],n),e}function Hde(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Kde(t){const e={},n=v(t,["name"]);return n!=null&&b(e,["_url","file"],b8(n)),e}function Wde(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Yde(t){const e={},n=v(t,["name"]);return n!=null&&b(e,["_url","file"],b8(n)),e}function Jde(t){const e={},n=v(t,["uris"]);return n!=null&&b(e,["uris"],n),e}function Xde(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Qde(t){const e={},n=v(t,["config"]);return n!=null&&Xde(n,e),e}function Zde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["files"],o)}return e}function ehe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class the extends ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ju(Ws.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Qde(e);return o=Me("files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Zde(c),h=new tfe;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Gde(e);return o=Me("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Hde(c),h=new nfe;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Yde(e);return o=Me("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Kde(e);return o=Me("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Wde(c),h=new rfe;return Object.assign(h,f),h})}}async registerFilesInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Jde(e);return o=Me("files:register",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=ehe(c),h=new ife;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rv(t){const e={},n=v(t,["data"]);if(n!=null&&b(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function nhe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vhe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function rhe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function ihe(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);if(i!=null&&b(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ohe(t){const e={},n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=v(t,["response"]);s!=null&&b(e,["response"],s);const l=v(t,["responseJsonSchema"]);if(l!=null&&b(e,["responseJsonSchema"],l),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function she(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const o=v(t,["candidateCount"]);o!=null&&b(e,["candidateCount"],o);const s=v(t,["enableAffectiveDialog"]);s!=null&&b(e,["enableAffectiveDialog"],s);const l=v(t,["frequencyPenalty"]);l!=null&&b(e,["frequencyPenalty"],l);const c=v(t,["logprobs"]);c!=null&&b(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&b(e,["maxOutputTokens"],f);const h=v(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const p=v(t,["presencePenalty"]);p!=null&&b(e,["presencePenalty"],p);const y=v(t,["responseLogprobs"]);y!=null&&b(e,["responseLogprobs"],y);const _=v(t,["responseMimeType"]);_!=null&&b(e,["responseMimeType"],_);const S=v(t,["responseModalities"]);S!=null&&b(e,["responseModalities"],S);const A=v(t,["responseSchema"]);A!=null&&b(e,["responseSchema"],A);const E=v(t,["routingConfig"]);E!=null&&b(e,["routingConfig"],E);const M=v(t,["seed"]);M!=null&&b(e,["seed"],M);const I=v(t,["speechConfig"]);I!=null&&b(e,["speechConfig"],I);const N=v(t,["stopSequences"]);N!=null&&b(e,["stopSequences"],N);const C=v(t,["temperature"]);C!=null&&b(e,["temperature"],C);const R=v(t,["thinkingConfig"]);R!=null&&b(e,["thinkingConfig"],R);const L=v(t,["topK"]);L!=null&&b(e,["topK"],L);const P=v(t,["topP"]);if(P!=null&&b(e,["topP"],P),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ahe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function lhe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function uhe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const l=v(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],dR(p));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&b(e,["setup","generationConfig","thinkingConfig"],y);const _=v(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=v(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],nhe(Jn(S)));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let L=Qf(A);Array.isArray(L)&&(L=L.map(P=>xhe(Xf(P)))),b(e,["setup","tools"],L)}const E=v(t,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],bhe(E));const M=v(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&b(e,["setup","inputAudioTranscription"],M);const I=v(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&b(e,["setup","outputAudioTranscription"],I);const N=v(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&b(e,["setup","realtimeInputConfig"],N);const C=v(t,["contextWindowCompression"]);e!==void 0&&C!=null&&b(e,["setup","contextWindowCompression"],C);const R=v(t,["proactivity"]);if(e!==void 0&&R!=null&&b(e,["setup","proactivity"],R),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function che(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],she(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const l=v(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],dR(p));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&b(e,["setup","generationConfig","thinkingConfig"],y);const _=v(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=v(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],Jn(S));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let P=Qf(A);Array.isArray(P)&&(P=P.map(O=>_he(Xf(O)))),b(e,["setup","tools"],P)}const E=v(t,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],E);const M=v(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&b(e,["setup","inputAudioTranscription"],M);const I=v(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&b(e,["setup","outputAudioTranscription"],I);const N=v(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&b(e,["setup","realtimeInputConfig"],N);const C=v(t,["contextWindowCompression"]);e!==void 0&&C!=null&&b(e,["setup","contextWindowCompression"],C);const R=v(t,["proactivity"]);e!==void 0&&R!=null&&b(e,["setup","proactivity"],R);const L=v(t,["explicitVadSignal"]);return e!==void 0&&L!=null&&b(e,["setup","explicitVadSignal"],L),n}function fhe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Et(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],uhe(i,n)),n}function dhe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Et(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],che(i,n)),n}function hhe(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],n),e}function phe(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["weightedPrompts"],r)}return e}function mhe(t){const e={},n=v(t,["media"]);if(n!=null){let f=p8(n);Array.isArray(f)&&(f=f.map(h=>rv(h))),b(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&b(e,["audio"],rv(g8(r)));const i=v(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const o=v(t,["video"]);o!=null&&b(e,["video"],rv(m8(o)));const s=v(t,["text"]);s!=null&&b(e,["text"],s);const l=v(t,["activityStart"]);l!=null&&b(e,["activityStart"],l);const c=v(t,["activityEnd"]);return c!=null&&b(e,["activityEnd"],c),e}function ghe(t){const e={},n=v(t,["media"]);if(n!=null){let f=p8(n);Array.isArray(f)&&(f=f.map(h=>h)),b(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&b(e,["audio"],g8(r));const i=v(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const o=v(t,["video"]);o!=null&&b(e,["video"],m8(o));const s=v(t,["text"]);s!=null&&b(e,["text"],s);const l=v(t,["activityStart"]);l!=null&&b(e,["activityStart"],l);const c=v(t,["activityEnd"]);return c!=null&&b(e,["activityEnd"],c),e}function yhe(t){const e={},n=v(t,["setupComplete"]);n!=null&&b(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&b(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&b(e,["toolCall"],i);const o=v(t,["toolCallCancellation"]);o!=null&&b(e,["toolCallCancellation"],o);const s=v(t,["usageMetadata"]);s!=null&&b(e,["usageMetadata"],whe(s));const l=v(t,["goAway"]);l!=null&&b(e,["goAway"],l);const c=v(t,["sessionResumptionUpdate"]);c!=null&&b(e,["sessionResumptionUpdate"],c);const f=v(t,["voiceActivityDetectionSignal"]);f!=null&&b(e,["voiceActivityDetectionSignal"],f);const h=v(t,["voiceActivity"]);return h!=null&&b(e,["voiceActivity"],The(h)),e}function vhe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],rhe(o));const s=v(t,["functionCall"]);s!=null&&b(e,["functionCall"],ihe(s));const l=v(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=v(t,["inlineData"]);c!=null&&b(e,["inlineData"],rv(c));const f=v(t,["text"]);f!=null&&b(e,["text"],f);const h=v(t,["thought"]);h!=null&&b(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const y=v(t,["videoMetadata"]);return y!=null&&b(e,["videoMetadata"],y),e}function bhe(t){const e={},n=v(t,["handle"]);if(n!=null&&b(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xhe(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}const s=v(t,["googleMaps"]);s!=null&&b(e,["googleMaps"],ahe(s));const l=v(t,["googleSearch"]);l!=null&&b(e,["googleSearch"],lhe(l));const c=v(t,["googleSearchRetrieval"]);c!=null&&b(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function _he(t){const e={},n=v(t,["retrieval"]);n!=null&&b(e,["retrieval"],n);const r=v(t,["computerUse"]);if(r!=null&&b(e,["computerUse"],r),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(t,["codeExecution"]);i!=null&&b(e,["codeExecution"],i);const o=v(t,["enterpriseWebSearch"]);o!=null&&b(e,["enterpriseWebSearch"],o);const s=v(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(y=>ohe(y))),b(e,["functionDeclarations"],p)}const l=v(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],l);const c=v(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],c);const f=v(t,["googleSearchRetrieval"]);f!=null&&b(e,["googleSearchRetrieval"],f);const h=v(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function whe(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const o=v(t,["toolUsePromptTokenCount"]);o!=null&&b(e,["toolUsePromptTokenCount"],o);const s=v(t,["thoughtsTokenCount"]);s!=null&&b(e,["thoughtsTokenCount"],s);const l=v(t,["totalTokenCount"]);l!=null&&b(e,["totalTokenCount"],l);const c=v(t,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>S)),b(e,["promptTokensDetails"],_)}const f=v(t,["cacheTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>S)),b(e,["cacheTokensDetails"],_)}const h=v(t,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>S)),b(e,["responseTokensDetails"],_)}const p=v(t,["toolUsePromptTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(S=>S)),b(e,["toolUsePromptTokensDetails"],_)}const y=v(t,["trafficType"]);return y!=null&&b(e,["trafficType"],y),e}function The(t){const e={},n=v(t,["type"]);return n!=null&&b(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ehe(t,e){const n={},r=v(t,["data"]);if(r!=null&&b(n,["data"],r),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=v(t,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function She(t,e){const n={},r=v(t,["content"]);r!=null&&b(n,["content"],r);const i=v(t,["citationMetadata"]);i!=null&&b(n,["citationMetadata"],Ahe(i));const o=v(t,["tokenCount"]);o!=null&&b(n,["tokenCount"],o);const s=v(t,["finishReason"]);s!=null&&b(n,["finishReason"],s);const l=v(t,["avgLogprobs"]);l!=null&&b(n,["avgLogprobs"],l);const c=v(t,["groundingMetadata"]);c!=null&&b(n,["groundingMetadata"],c);const f=v(t,["index"]);f!=null&&b(n,["index"],f);const h=v(t,["logprobsResult"]);h!=null&&b(n,["logprobsResult"],h);const p=v(t,["safetyRatings"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(S=>S)),b(n,["safetyRatings"],_)}const y=v(t,["urlContextMetadata"]);return y!=null&&b(n,["urlContextMetadata"],y),n}function Ahe(t,e){const n={},r=v(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(n,["citations"],i)}return n}function Che(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["contents"]);if(o!=null){let s=di(o);Array.isArray(s)&&(s=s.map(l=>l)),b(r,["contents"],s)}return r}function Ihe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(n,["tokensInfo"],o)}return n}function Nhe(t,e){const n={},r=v(t,["values"]);r!=null&&b(n,["values"],r);const i=v(t,["statistics"]);return i!=null&&b(n,["statistics"],Rhe(i)),n}function Rhe(t,e){const n={},r=v(t,["truncated"]);r!=null&&b(n,["truncated"],r);const i=v(t,["token_count"]);return i!=null&&b(n,["tokenCount"],i),n}function Am(t,e){const n={},r=v(t,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Upe(s))),b(n,["parts"],o)}const i=v(t,["role"]);return i!=null&&b(n,["role"],i),n}function khe(t,e){const n={},r=v(t,["controlType"]);r!=null&&b(n,["controlType"],r);const i=v(t,["enableControlImageComputation"]);return i!=null&&b(n,["computeControl"],i),n}function Phe(t,e){const n={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Mhe(t,e,n){const r={},i=v(t,["systemInstruction"]);e!==void 0&&i!=null&&b(e,["systemInstruction"],Jn(i));const o=v(t,["tools"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>R8(c))),b(e,["tools"],l)}const s=v(t,["generationConfig"]);return e!==void 0&&s!=null&&b(e,["generationConfig"],Epe(s)),r}function Ohe(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["contents"]);if(o!=null){let l=di(o);Array.isArray(l)&&(l=l.map(c=>Am(c))),b(r,["contents"],l)}const s=v(e,["config"]);return s!=null&&Phe(s),r}function Dhe(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["contents"]);if(o!=null){let l=di(o);Array.isArray(l)&&(l=l.map(c=>c)),b(r,["contents"],l)}const s=v(e,["config"]);return s!=null&&Mhe(s,r),r}function Lhe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["totalTokens"]);i!=null&&b(n,["totalTokens"],i);const o=v(t,["cachedContentTokenCount"]);return o!=null&&b(n,["cachedContentTokenCount"],o),n}function jhe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["totalTokens"]);return i!=null&&b(n,["totalTokens"],i),n}function Vhe(t,e,n){const r={},i=v(e,["model"]);return i!=null&&b(r,["_url","name"],Et(t,i)),r}function Uhe(t,e,n){const r={},i=v(e,["model"]);return i!=null&&b(r,["_url","name"],Et(t,i)),r}function Bhe(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function Fhe(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function qhe(t,e,n){const r={},i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const o=v(t,["negativePrompt"]);e!==void 0&&o!=null&&b(e,["parameters","negativePrompt"],o);const s=v(t,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const l=v(t,["aspectRatio"]);e!==void 0&&l!=null&&b(e,["parameters","aspectRatio"],l);const c=v(t,["guidanceScale"]);e!==void 0&&c!=null&&b(e,["parameters","guidanceScale"],c);const f=v(t,["seed"]);e!==void 0&&f!=null&&b(e,["parameters","seed"],f);const h=v(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&b(e,["parameters","safetySetting"],h);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&b(e,["parameters","personGeneration"],p);const y=v(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&b(e,["parameters","includeSafetyAttributes"],y);const _=v(t,["includeRaiReason"]);e!==void 0&&_!=null&&b(e,["parameters","includeRaiReason"],_);const S=v(t,["language"]);e!==void 0&&S!=null&&b(e,["parameters","language"],S);const A=v(t,["outputMimeType"]);e!==void 0&&A!=null&&b(e,["parameters","outputOptions","mimeType"],A);const E=v(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&b(e,["parameters","outputOptions","compressionQuality"],E);const M=v(t,["addWatermark"]);e!==void 0&&M!=null&&b(e,["parameters","addWatermark"],M);const I=v(t,["labels"]);e!==void 0&&I!=null&&b(e,["labels"],I);const N=v(t,["editMode"]);e!==void 0&&N!=null&&b(e,["parameters","editMode"],N);const C=v(t,["baseSteps"]);return e!==void 0&&C!=null&&b(e,["parameters","editConfig","baseSteps"],C),r}function zhe(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["prompt"]);o!=null&&b(r,["instances[0]","prompt"],o);const s=v(e,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>Gpe(f))),b(r,["instances[0]","referenceImages"],c)}const l=v(e,["config"]);return l!=null&&qhe(l,r),r}function $he(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ib(s))),b(n,["generatedImages"],o)}return n}function Ghe(t,e,n){const r={},i=v(t,["taskType"]);e!==void 0&&i!=null&&b(e,["requests[]","taskType"],i);const o=v(t,["title"]);e!==void 0&&o!=null&&b(e,["requests[]","title"],o);const s=v(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&b(e,["requests[]","outputDimensionality"],s),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Hhe(t,e,n){const r={};let i=v(n,["embeddingApiType"]);if(i===void 0&&(i="PREDICT"),i==="PREDICT"){const f=v(t,["taskType"]);e!==void 0&&f!=null&&b(e,["instances[]","task_type"],f)}else if(i==="EMBED_CONTENT"){const f=v(t,["taskType"]);e!==void 0&&f!=null&&b(e,["taskType"],f)}let o=v(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const f=v(t,["title"]);e!==void 0&&f!=null&&b(e,["instances[]","title"],f)}else if(o==="EMBED_CONTENT"){const f=v(t,["title"]);e!==void 0&&f!=null&&b(e,["title"],f)}let s=v(n,["embeddingApiType"]);if(s===void 0&&(s="PREDICT"),s==="PREDICT"){const f=v(t,["outputDimensionality"]);e!==void 0&&f!=null&&b(e,["parameters","outputDimensionality"],f)}else if(s==="EMBED_CONTENT"){const f=v(t,["outputDimensionality"]);e!==void 0&&f!=null&&b(e,["outputDimensionality"],f)}let l=v(n,["embeddingApiType"]);if(l===void 0&&(l="PREDICT"),l==="PREDICT"){const f=v(t,["mimeType"]);e!==void 0&&f!=null&&b(e,["instances[]","mimeType"],f)}let c=v(n,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const f=v(t,["autoTruncate"]);e!==void 0&&f!=null&&b(e,["parameters","autoTruncate"],f)}else if(c==="EMBED_CONTENT"){const f=v(t,["autoTruncate"]);e!==void 0&&f!=null&&b(e,["autoTruncate"],f)}return r}function Khe(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["contents"]);if(o!=null){let f=uR(t,o);Array.isArray(f)&&(f=f.map(h=>h)),b(r,["requests[]","content"],f)}const s=v(e,["content"]);s!=null&&Am(Jn(s));const l=v(e,["config"]);l!=null&&Ghe(l,r);const c=v(e,["model"]);return c!==void 0&&b(r,["requests[]","model"],Et(t,c)),r}function Whe(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));let o=v(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const c=v(e,["contents"]);if(c!=null){let f=uR(t,c);Array.isArray(f)&&(f=f.map(h=>h)),b(r,["instances[]","content"],f)}}let s=v(n,["embeddingApiType"]);if(s===void 0&&(s="PREDICT"),s==="EMBED_CONTENT"){const c=v(e,["content"]);c!=null&&b(r,["content"],Jn(c))}const l=v(e,["config"]);return l!=null&&Hhe(l,r,n),r}function Yhe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),b(n,["embeddings"],s)}const o=v(t,["metadata"]);return o!=null&&b(n,["metadata"],o),n}function Jhe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Nhe(l))),b(n,["embeddings"],s)}const o=v(t,["metadata"]);if(o!=null&&b(n,["metadata"],o),e&&v(e,["embeddingApiType"])==="EMBED_CONTENT"){const s=v(t,["embedding"]),l=v(t,["usageMetadata"]),c=v(t,["truncated"]);if(s){const f={};l&&l.promptTokenCount&&(f.tokenCount=l.promptTokenCount),c&&(f.truncated=c),s.statistics=f,b(n,["embeddings"],[s])}}return n}function Xhe(t,e){const n={},r=v(t,["endpoint"]);r!=null&&b(n,["name"],r);const i=v(t,["deployedModelId"]);return i!=null&&b(n,["deployedModelId"],i),n}function Qhe(t,e){const n={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["fileUri"]);r!=null&&b(n,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function Zhe(t,e){const n={},r=v(t,["id"]);r!=null&&b(n,["id"],r);const i=v(t,["args"]);i!=null&&b(n,["args"],i);const o=v(t,["name"]);if(o!=null&&b(n,["name"],o),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function epe(t,e){const n={},r=v(t,["allowedFunctionNames"]);r!=null&&b(n,["allowedFunctionNames"],r);const i=v(t,["mode"]);if(i!=null&&b(n,["mode"],i),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function tpe(t,e){const n={},r=v(t,["description"]);r!=null&&b(n,["description"],r);const i=v(t,["name"]);i!=null&&b(n,["name"],i);const o=v(t,["parameters"]);o!=null&&b(n,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(n,["parametersJsonSchema"],s);const l=v(t,["response"]);l!=null&&b(n,["response"],l);const c=v(t,["responseJsonSchema"]);if(c!=null&&b(n,["responseJsonSchema"],c),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function npe(t,e,n,r){const i={},o=v(e,["systemInstruction"]);n!==void 0&&o!=null&&b(n,["systemInstruction"],Am(Jn(o)));const s=v(e,["temperature"]);s!=null&&b(i,["temperature"],s);const l=v(e,["topP"]);l!=null&&b(i,["topP"],l);const c=v(e,["topK"]);c!=null&&b(i,["topK"],c);const f=v(e,["candidateCount"]);f!=null&&b(i,["candidateCount"],f);const h=v(e,["maxOutputTokens"]);h!=null&&b(i,["maxOutputTokens"],h);const p=v(e,["stopSequences"]);p!=null&&b(i,["stopSequences"],p);const y=v(e,["responseLogprobs"]);y!=null&&b(i,["responseLogprobs"],y);const _=v(e,["logprobs"]);_!=null&&b(i,["logprobs"],_);const S=v(e,["presencePenalty"]);S!=null&&b(i,["presencePenalty"],S);const A=v(e,["frequencyPenalty"]);A!=null&&b(i,["frequencyPenalty"],A);const E=v(e,["seed"]);E!=null&&b(i,["seed"],E);const M=v(e,["responseMimeType"]);M!=null&&b(i,["responseMimeType"],M);const I=v(e,["responseSchema"]);I!=null&&b(i,["responseSchema"],cR(I));const N=v(e,["responseJsonSchema"]);if(N!=null&&b(i,["responseJsonSchema"],N),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=v(e,["safetySettings"]);if(n!==void 0&&C!=null){let X=C;Array.isArray(X)&&(X=X.map(ie=>Hpe(ie))),b(n,["safetySettings"],X)}const R=v(e,["tools"]);if(n!==void 0&&R!=null){let X=Qf(R);Array.isArray(X)&&(X=X.map(ie=>Zpe(Xf(ie)))),b(n,["tools"],X)}const L=v(e,["toolConfig"]);if(n!==void 0&&L!=null&&b(n,["toolConfig"],Qpe(L)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=v(e,["cachedContent"]);n!==void 0&&P!=null&&b(n,["cachedContent"],na(t,P));const O=v(e,["responseModalities"]);O!=null&&b(i,["responseModalities"],O);const j=v(e,["mediaResolution"]);j!=null&&b(i,["mediaResolution"],j);const q=v(e,["speechConfig"]);if(q!=null&&b(i,["speechConfig"],fR(q)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=v(e,["thinkingConfig"]);F!=null&&b(i,["thinkingConfig"],F);const z=v(e,["imageConfig"]);z!=null&&b(i,["imageConfig"],Npe(z));const B=v(e,["enableEnhancedCivicAnswers"]);if(B!=null&&b(i,["enableEnhancedCivicAnswers"],B),v(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function rpe(t,e,n,r){const i={},o=v(e,["systemInstruction"]);n!==void 0&&o!=null&&b(n,["systemInstruction"],Jn(o));const s=v(e,["temperature"]);s!=null&&b(i,["temperature"],s);const l=v(e,["topP"]);l!=null&&b(i,["topP"],l);const c=v(e,["topK"]);c!=null&&b(i,["topK"],c);const f=v(e,["candidateCount"]);f!=null&&b(i,["candidateCount"],f);const h=v(e,["maxOutputTokens"]);h!=null&&b(i,["maxOutputTokens"],h);const p=v(e,["stopSequences"]);p!=null&&b(i,["stopSequences"],p);const y=v(e,["responseLogprobs"]);y!=null&&b(i,["responseLogprobs"],y);const _=v(e,["logprobs"]);_!=null&&b(i,["logprobs"],_);const S=v(e,["presencePenalty"]);S!=null&&b(i,["presencePenalty"],S);const A=v(e,["frequencyPenalty"]);A!=null&&b(i,["frequencyPenalty"],A);const E=v(e,["seed"]);E!=null&&b(i,["seed"],E);const M=v(e,["responseMimeType"]);M!=null&&b(i,["responseMimeType"],M);const I=v(e,["responseSchema"]);I!=null&&b(i,["responseSchema"],cR(I));const N=v(e,["responseJsonSchema"]);N!=null&&b(i,["responseJsonSchema"],N);const C=v(e,["routingConfig"]);C!=null&&b(i,["routingConfig"],C);const R=v(e,["modelSelectionConfig"]);R!=null&&b(i,["modelConfig"],R);const L=v(e,["safetySettings"]);if(n!==void 0&&L!=null){let se=L;Array.isArray(se)&&(se=se.map(ge=>ge)),b(n,["safetySettings"],se)}const P=v(e,["tools"]);if(n!==void 0&&P!=null){let se=Qf(P);Array.isArray(se)&&(se=se.map(ge=>R8(Xf(ge)))),b(n,["tools"],se)}const O=v(e,["toolConfig"]);n!==void 0&&O!=null&&b(n,["toolConfig"],O);const j=v(e,["labels"]);n!==void 0&&j!=null&&b(n,["labels"],j);const q=v(e,["cachedContent"]);n!==void 0&&q!=null&&b(n,["cachedContent"],na(t,q));const F=v(e,["responseModalities"]);F!=null&&b(i,["responseModalities"],F);const z=v(e,["mediaResolution"]);z!=null&&b(i,["mediaResolution"],z);const B=v(e,["speechConfig"]);B!=null&&b(i,["speechConfig"],fR(B));const X=v(e,["audioTimestamp"]);X!=null&&b(i,["audioTimestamp"],X);const ie=v(e,["thinkingConfig"]);ie!=null&&b(i,["thinkingConfig"],ie);const W=v(e,["imageConfig"]);if(W!=null&&b(i,["imageConfig"],Rpe(W)),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ee=v(e,["modelArmorConfig"]);return n!==void 0&&ee!=null&&b(n,["modelArmorConfig"],ee),i}function gj(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["contents"]);if(o!=null){let l=di(o);Array.isArray(l)&&(l=l.map(c=>Am(c))),b(r,["contents"],l)}const s=v(e,["config"]);return s!=null&&b(r,["generationConfig"],npe(t,s,r)),r}function yj(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["contents"]);if(o!=null){let l=di(o);Array.isArray(l)&&(l=l.map(c=>c)),b(r,["contents"],l)}const s=v(e,["config"]);return s!=null&&b(r,["generationConfig"],rpe(t,s,r)),r}function vj(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>She(h))),b(n,["candidates"],f)}const o=v(t,["modelVersion"]);o!=null&&b(n,["modelVersion"],o);const s=v(t,["promptFeedback"]);s!=null&&b(n,["promptFeedback"],s);const l=v(t,["responseId"]);l!=null&&b(n,["responseId"],l);const c=v(t,["usageMetadata"]);return c!=null&&b(n,["usageMetadata"],c),n}function bj(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>p)),b(n,["candidates"],h)}const o=v(t,["createTime"]);o!=null&&b(n,["createTime"],o);const s=v(t,["modelVersion"]);s!=null&&b(n,["modelVersion"],s);const l=v(t,["promptFeedback"]);l!=null&&b(n,["promptFeedback"],l);const c=v(t,["responseId"]);c!=null&&b(n,["responseId"],c);const f=v(t,["usageMetadata"]);return f!=null&&b(n,["usageMetadata"],f),n}function ipe(t,e,n){const r={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&b(e,["parameters","sampleCount"],i);const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&b(e,["parameters","aspectRatio"],o);const s=v(t,["guidanceScale"]);if(e!==void 0&&s!=null&&b(e,["parameters","guidanceScale"],s),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=v(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&b(e,["parameters","safetySetting"],l);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const f=v(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&b(e,["parameters","includeSafetyAttributes"],f);const h=v(t,["includeRaiReason"]);e!==void 0&&h!=null&&b(e,["parameters","includeRaiReason"],h);const p=v(t,["language"]);e!==void 0&&p!=null&&b(e,["parameters","language"],p);const y=v(t,["outputMimeType"]);e!==void 0&&y!=null&&b(e,["parameters","outputOptions","mimeType"],y);const _=v(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&b(e,["parameters","outputOptions","compressionQuality"],_),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=v(t,["imageSize"]);if(e!==void 0&&S!=null&&b(e,["parameters","sampleImageSize"],S),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function ope(t,e,n){const r={},i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const o=v(t,["negativePrompt"]);e!==void 0&&o!=null&&b(e,["parameters","negativePrompt"],o);const s=v(t,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const l=v(t,["aspectRatio"]);e!==void 0&&l!=null&&b(e,["parameters","aspectRatio"],l);const c=v(t,["guidanceScale"]);e!==void 0&&c!=null&&b(e,["parameters","guidanceScale"],c);const f=v(t,["seed"]);e!==void 0&&f!=null&&b(e,["parameters","seed"],f);const h=v(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&b(e,["parameters","safetySetting"],h);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&b(e,["parameters","personGeneration"],p);const y=v(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&b(e,["parameters","includeSafetyAttributes"],y);const _=v(t,["includeRaiReason"]);e!==void 0&&_!=null&&b(e,["parameters","includeRaiReason"],_);const S=v(t,["language"]);e!==void 0&&S!=null&&b(e,["parameters","language"],S);const A=v(t,["outputMimeType"]);e!==void 0&&A!=null&&b(e,["parameters","outputOptions","mimeType"],A);const E=v(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&b(e,["parameters","outputOptions","compressionQuality"],E);const M=v(t,["addWatermark"]);e!==void 0&&M!=null&&b(e,["parameters","addWatermark"],M);const I=v(t,["labels"]);e!==void 0&&I!=null&&b(e,["labels"],I);const N=v(t,["imageSize"]);e!==void 0&&N!=null&&b(e,["parameters","sampleImageSize"],N);const C=v(t,["enhancePrompt"]);return e!==void 0&&C!=null&&b(e,["parameters","enhancePrompt"],C),r}function spe(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["prompt"]);o!=null&&b(r,["instances[0]","prompt"],o);const s=v(e,["config"]);return s!=null&&ipe(s,r),r}function ape(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["prompt"]);o!=null&&b(r,["instances[0]","prompt"],o);const s=v(e,["config"]);return s!=null&&ope(s,r),r}function lpe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>xpe(l))),b(n,["generatedImages"],s)}const o=v(t,["positivePromptSafetyAttributes"]);return o!=null&&b(n,["positivePromptSafetyAttributes"],I8(o)),n}function upe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Ib(l))),b(n,["generatedImages"],s)}const o=v(t,["positivePromptSafetyAttributes"]);return o!=null&&b(n,["positivePromptSafetyAttributes"],N8(o)),n}function cpe(t,e,n){const r={},i=v(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&b(e,["parameters","sampleCount"],i),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=v(t,["durationSeconds"]);if(e!==void 0&&o!=null&&b(e,["parameters","durationSeconds"],o),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const l=v(t,["resolution"]);e!==void 0&&l!=null&&b(e,["parameters","resolution"],l);const c=v(t,["personGeneration"]);if(e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=v(t,["negativePrompt"]);e!==void 0&&f!=null&&b(e,["parameters","negativePrompt"],f);const h=v(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&b(e,["parameters","enhancePrompt"],h),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=v(t,["lastFrame"]);e!==void 0&&p!=null&&b(e,["instances[0]","lastFrame"],Nb(p));const y=v(t,["referenceImages"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>dme(S))),b(e,["instances[0]","referenceImages"],_)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function fpe(t,e,n){const r={},i=v(t,["numberOfVideos"]);e!==void 0&&i!=null&&b(e,["parameters","sampleCount"],i);const o=v(t,["outputGcsUri"]);e!==void 0&&o!=null&&b(e,["parameters","storageUri"],o);const s=v(t,["fps"]);e!==void 0&&s!=null&&b(e,["parameters","fps"],s);const l=v(t,["durationSeconds"]);e!==void 0&&l!=null&&b(e,["parameters","durationSeconds"],l);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["parameters","seed"],c);const f=v(t,["aspectRatio"]);e!==void 0&&f!=null&&b(e,["parameters","aspectRatio"],f);const h=v(t,["resolution"]);e!==void 0&&h!=null&&b(e,["parameters","resolution"],h);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&b(e,["parameters","personGeneration"],p);const y=v(t,["pubsubTopic"]);e!==void 0&&y!=null&&b(e,["parameters","pubsubTopic"],y);const _=v(t,["negativePrompt"]);e!==void 0&&_!=null&&b(e,["parameters","negativePrompt"],_);const S=v(t,["enhancePrompt"]);e!==void 0&&S!=null&&b(e,["parameters","enhancePrompt"],S);const A=v(t,["generateAudio"]);e!==void 0&&A!=null&&b(e,["parameters","generateAudio"],A);const E=v(t,["lastFrame"]);e!==void 0&&E!=null&&b(e,["instances[0]","lastFrame"],bo(E));const M=v(t,["referenceImages"]);if(e!==void 0&&M!=null){let C=M;Array.isArray(C)&&(C=C.map(R=>hme(R))),b(e,["instances[0]","referenceImages"],C)}const I=v(t,["mask"]);e!==void 0&&I!=null&&b(e,["instances[0]","mask"],fme(I));const N=v(t,["compressionQuality"]);return e!==void 0&&N!=null&&b(e,["parameters","compressionQuality"],N),r}function dpe(t,e){const n={},r=v(t,["name"]);r!=null&&b(n,["name"],r);const i=v(t,["metadata"]);i!=null&&b(n,["metadata"],i);const o=v(t,["done"]);o!=null&&b(n,["done"],o);const s=v(t,["error"]);s!=null&&b(n,["error"],s);const l=v(t,["response","generateVideoResponse"]);return l!=null&&b(n,["response"],gpe(l)),n}function hpe(t,e){const n={},r=v(t,["name"]);r!=null&&b(n,["name"],r);const i=v(t,["metadata"]);i!=null&&b(n,["metadata"],i);const o=v(t,["done"]);o!=null&&b(n,["done"],o);const s=v(t,["error"]);s!=null&&b(n,["error"],s);const l=v(t,["response"]);return l!=null&&b(n,["response"],ype(l)),n}function ppe(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["prompt"]);o!=null&&b(r,["instances[0]","prompt"],o);const s=v(e,["image"]);s!=null&&b(r,["instances[0]","image"],Nb(s));const l=v(e,["video"]);l!=null&&b(r,["instances[0]","video"],k8(l));const c=v(e,["source"]);c!=null&&vpe(c,r);const f=v(e,["config"]);return f!=null&&cpe(f,r),r}function mpe(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["prompt"]);o!=null&&b(r,["instances[0]","prompt"],o);const s=v(e,["image"]);s!=null&&b(r,["instances[0]","image"],bo(s));const l=v(e,["video"]);l!=null&&b(r,["instances[0]","video"],P8(l));const c=v(e,["source"]);c!=null&&bpe(c,r);const f=v(e,["config"]);return f!=null&&fpe(f,r),r}function gpe(t,e){const n={},r=v(t,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>wpe(l))),b(n,["generatedVideos"],s)}const i=v(t,["raiMediaFilteredCount"]);i!=null&&b(n,["raiMediaFilteredCount"],i);const o=v(t,["raiMediaFilteredReasons"]);return o!=null&&b(n,["raiMediaFilteredReasons"],o),n}function ype(t,e){const n={},r=v(t,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Tpe(l))),b(n,["generatedVideos"],s)}const i=v(t,["raiMediaFilteredCount"]);i!=null&&b(n,["raiMediaFilteredCount"],i);const o=v(t,["raiMediaFilteredReasons"]);return o!=null&&b(n,["raiMediaFilteredReasons"],o),n}function vpe(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&b(e,["instances[0]","prompt"],i);const o=v(t,["image"]);e!==void 0&&o!=null&&b(e,["instances[0]","image"],Nb(o));const s=v(t,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],k8(s)),r}function bpe(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&b(e,["instances[0]","prompt"],i);const o=v(t,["image"]);e!==void 0&&o!=null&&b(e,["instances[0]","image"],bo(o));const s=v(t,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],P8(s)),r}function xpe(t,e){const n={},r=v(t,["_self"]);r!=null&&b(n,["image"],kpe(r));const i=v(t,["raiFilteredReason"]);i!=null&&b(n,["raiFilteredReason"],i);const o=v(t,["_self"]);return o!=null&&b(n,["safetyAttributes"],I8(o)),n}function Ib(t,e){const n={},r=v(t,["_self"]);r!=null&&b(n,["image"],C8(r));const i=v(t,["raiFilteredReason"]);i!=null&&b(n,["raiFilteredReason"],i);const o=v(t,["_self"]);o!=null&&b(n,["safetyAttributes"],N8(o));const s=v(t,["prompt"]);return s!=null&&b(n,["enhancedPrompt"],s),n}function _pe(t,e){const n={},r=v(t,["_self"]);r!=null&&b(n,["mask"],C8(r));const i=v(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(n,["labels"],o)}return n}function wpe(t,e){const n={},r=v(t,["video"]);return r!=null&&b(n,["video"],ume(r)),n}function Tpe(t,e){const n={},r=v(t,["_self"]);return r!=null&&b(n,["video"],cme(r)),n}function Epe(t,e){const n={},r=v(t,["modelSelectionConfig"]);r!=null&&b(n,["modelConfig"],r);const i=v(t,["responseJsonSchema"]);i!=null&&b(n,["responseJsonSchema"],i);const o=v(t,["audioTimestamp"]);o!=null&&b(n,["audioTimestamp"],o);const s=v(t,["candidateCount"]);s!=null&&b(n,["candidateCount"],s);const l=v(t,["enableAffectiveDialog"]);l!=null&&b(n,["enableAffectiveDialog"],l);const c=v(t,["frequencyPenalty"]);c!=null&&b(n,["frequencyPenalty"],c);const f=v(t,["logprobs"]);f!=null&&b(n,["logprobs"],f);const h=v(t,["maxOutputTokens"]);h!=null&&b(n,["maxOutputTokens"],h);const p=v(t,["mediaResolution"]);p!=null&&b(n,["mediaResolution"],p);const y=v(t,["presencePenalty"]);y!=null&&b(n,["presencePenalty"],y);const _=v(t,["responseLogprobs"]);_!=null&&b(n,["responseLogprobs"],_);const S=v(t,["responseMimeType"]);S!=null&&b(n,["responseMimeType"],S);const A=v(t,["responseModalities"]);A!=null&&b(n,["responseModalities"],A);const E=v(t,["responseSchema"]);E!=null&&b(n,["responseSchema"],E);const M=v(t,["routingConfig"]);M!=null&&b(n,["routingConfig"],M);const I=v(t,["seed"]);I!=null&&b(n,["seed"],I);const N=v(t,["speechConfig"]);N!=null&&b(n,["speechConfig"],N);const C=v(t,["stopSequences"]);C!=null&&b(n,["stopSequences"],C);const R=v(t,["temperature"]);R!=null&&b(n,["temperature"],R);const L=v(t,["thinkingConfig"]);L!=null&&b(n,["thinkingConfig"],L);const P=v(t,["topK"]);P!=null&&b(n,["topK"],P);const O=v(t,["topP"]);if(O!=null&&b(n,["topP"],O),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function Spe(t,e,n){const r={},i=v(e,["model"]);return i!=null&&b(r,["_url","name"],Et(t,i)),r}function Ape(t,e,n){const r={},i=v(e,["model"]);return i!=null&&b(r,["_url","name"],Et(t,i)),r}function Cpe(t,e){const n={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=v(t,["enableWidget"]);return r!=null&&b(n,["enableWidget"],r),n}function Ipe(t,e){const n={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=v(t,["timeRangeFilter"]);return r!=null&&b(n,["timeRangeFilter"],r),n}function Npe(t,e){const n={},r=v(t,["aspectRatio"]);r!=null&&b(n,["aspectRatio"],r);const i=v(t,["imageSize"]);if(i!=null&&b(n,["imageSize"],i),v(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Rpe(t,e){const n={},r=v(t,["aspectRatio"]);r!=null&&b(n,["aspectRatio"],r);const i=v(t,["imageSize"]);i!=null&&b(n,["imageSize"],i);const o=v(t,["personGeneration"]);o!=null&&b(n,["personGeneration"],o);const s=v(t,["outputMimeType"]);s!=null&&b(n,["imageOutputOptions","mimeType"],s);const l=v(t,["outputCompressionQuality"]);return l!=null&&b(n,["imageOutputOptions","compressionQuality"],l),n}function kpe(t,e){const n={},r=v(t,["bytesBase64Encoded"]);r!=null&&b(n,["imageBytes"],El(r));const i=v(t,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function C8(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&b(n,["gcsUri"],r);const i=v(t,["bytesBase64Encoded"]);i!=null&&b(n,["imageBytes"],El(i));const o=v(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function Nb(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=v(t,["imageBytes"]);r!=null&&b(n,["bytesBase64Encoded"],El(r));const i=v(t,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function bo(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&b(n,["gcsUri"],r);const i=v(t,["imageBytes"]);i!=null&&b(n,["bytesBase64Encoded"],El(i));const o=v(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function Ppe(t,e,n,r){const i={},o=v(e,["pageSize"]);n!==void 0&&o!=null&&b(n,["_query","pageSize"],o);const s=v(e,["pageToken"]);n!==void 0&&s!=null&&b(n,["_query","pageToken"],s);const l=v(e,["filter"]);n!==void 0&&l!=null&&b(n,["_query","filter"],l);const c=v(e,["queryBase"]);return n!==void 0&&c!=null&&b(n,["_url","models_url"],x8(t,c)),i}function Mpe(t,e,n,r){const i={},o=v(e,["pageSize"]);n!==void 0&&o!=null&&b(n,["_query","pageSize"],o);const s=v(e,["pageToken"]);n!==void 0&&s!=null&&b(n,["_query","pageToken"],s);const l=v(e,["filter"]);n!==void 0&&l!=null&&b(n,["_query","filter"],l);const c=v(e,["queryBase"]);return n!==void 0&&c!=null&&b(n,["_url","models_url"],x8(t,c)),i}function Ope(t,e,n){const r={},i=v(e,["config"]);return i!=null&&Ppe(t,i,r),r}function Dpe(t,e,n){const r={},i=v(e,["config"]);return i!=null&&Mpe(t,i,r),r}function Lpe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=v(t,["_self"]);if(o!=null){let s=_8(o);Array.isArray(s)&&(s=s.map(l=>ZA(l))),b(n,["models"],s)}return n}function jpe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=v(t,["_self"]);if(o!=null){let s=_8(o);Array.isArray(s)&&(s=s.map(l=>eC(l))),b(n,["models"],s)}return n}function Vpe(t,e){const n={},r=v(t,["maskMode"]);r!=null&&b(n,["maskMode"],r);const i=v(t,["segmentationClasses"]);i!=null&&b(n,["maskClasses"],i);const o=v(t,["maskDilation"]);return o!=null&&b(n,["dilation"],o),n}function ZA(t,e){const n={},r=v(t,["name"]);r!=null&&b(n,["name"],r);const i=v(t,["displayName"]);i!=null&&b(n,["displayName"],i);const o=v(t,["description"]);o!=null&&b(n,["description"],o);const s=v(t,["version"]);s!=null&&b(n,["version"],s);const l=v(t,["_self"]);l!=null&&b(n,["tunedModelInfo"],eme(l));const c=v(t,["inputTokenLimit"]);c!=null&&b(n,["inputTokenLimit"],c);const f=v(t,["outputTokenLimit"]);f!=null&&b(n,["outputTokenLimit"],f);const h=v(t,["supportedGenerationMethods"]);h!=null&&b(n,["supportedActions"],h);const p=v(t,["temperature"]);p!=null&&b(n,["temperature"],p);const y=v(t,["maxTemperature"]);y!=null&&b(n,["maxTemperature"],y);const _=v(t,["topP"]);_!=null&&b(n,["topP"],_);const S=v(t,["topK"]);S!=null&&b(n,["topK"],S);const A=v(t,["thinking"]);return A!=null&&b(n,["thinking"],A),n}function eC(t,e){const n={},r=v(t,["name"]);r!=null&&b(n,["name"],r);const i=v(t,["displayName"]);i!=null&&b(n,["displayName"],i);const o=v(t,["description"]);o!=null&&b(n,["description"],o);const s=v(t,["versionId"]);s!=null&&b(n,["version"],s);const l=v(t,["deployedModels"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(_=>Xhe(_))),b(n,["endpoints"],y)}const c=v(t,["labels"]);c!=null&&b(n,["labels"],c);const f=v(t,["_self"]);f!=null&&b(n,["tunedModelInfo"],tme(f));const h=v(t,["defaultCheckpointId"]);h!=null&&b(n,["defaultCheckpointId"],h);const p=v(t,["checkpoints"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>_)),b(n,["checkpoints"],y)}return n}function Upe(t,e){const n={},r=v(t,["mediaResolution"]);r!=null&&b(n,["mediaResolution"],r);const i=v(t,["codeExecutionResult"]);i!=null&&b(n,["codeExecutionResult"],i);const o=v(t,["executableCode"]);o!=null&&b(n,["executableCode"],o);const s=v(t,["fileData"]);s!=null&&b(n,["fileData"],Qhe(s));const l=v(t,["functionCall"]);l!=null&&b(n,["functionCall"],Zhe(l));const c=v(t,["functionResponse"]);c!=null&&b(n,["functionResponse"],c);const f=v(t,["inlineData"]);f!=null&&b(n,["inlineData"],Ehe(f));const h=v(t,["text"]);h!=null&&b(n,["text"],h);const p=v(t,["thought"]);p!=null&&b(n,["thought"],p);const y=v(t,["thoughtSignature"]);y!=null&&b(n,["thoughtSignature"],y);const _=v(t,["videoMetadata"]);return _!=null&&b(n,["videoMetadata"],_),n}function Bpe(t,e){const n={},r=v(t,["productImage"]);return r!=null&&b(n,["image"],bo(r)),n}function Fpe(t,e,n){const r={},i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&b(e,["parameters","sampleCount"],i);const o=v(t,["baseSteps"]);e!==void 0&&o!=null&&b(e,["parameters","baseSteps"],o);const s=v(t,["outputGcsUri"]);e!==void 0&&s!=null&&b(e,["parameters","storageUri"],s);const l=v(t,["seed"]);e!==void 0&&l!=null&&b(e,["parameters","seed"],l);const c=v(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&b(e,["parameters","safetySetting"],c);const f=v(t,["personGeneration"]);e!==void 0&&f!=null&&b(e,["parameters","personGeneration"],f);const h=v(t,["addWatermark"]);e!==void 0&&h!=null&&b(e,["parameters","addWatermark"],h);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&b(e,["parameters","outputOptions","mimeType"],p);const y=v(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&b(e,["parameters","outputOptions","compressionQuality"],y);const _=v(t,["enhancePrompt"]);e!==void 0&&_!=null&&b(e,["parameters","enhancePrompt"],_);const S=v(t,["labels"]);return e!==void 0&&S!=null&&b(e,["labels"],S),r}function qpe(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["source"]);o!=null&&$pe(o,r);const s=v(e,["config"]);return s!=null&&Fpe(s,r),r}function zpe(t,e){const n={},r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ib(o))),b(n,["generatedImages"],i)}return n}function $pe(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&b(e,["instances[0]","prompt"],i);const o=v(t,["personImage"]);e!==void 0&&o!=null&&b(e,["instances[0]","personImage","image"],bo(o));const s=v(t,["productImages"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Bpe(c))),b(e,["instances[0]","productImages"],l)}return r}function Gpe(t,e){const n={},r=v(t,["referenceImage"]);r!=null&&b(n,["referenceImage"],bo(r));const i=v(t,["referenceId"]);i!=null&&b(n,["referenceId"],i);const o=v(t,["referenceType"]);o!=null&&b(n,["referenceType"],o);const s=v(t,["maskImageConfig"]);s!=null&&b(n,["maskImageConfig"],Vpe(s));const l=v(t,["controlImageConfig"]);l!=null&&b(n,["controlImageConfig"],khe(l));const c=v(t,["styleImageConfig"]);c!=null&&b(n,["styleImageConfig"],c);const f=v(t,["subjectImageConfig"]);return f!=null&&b(n,["subjectImageConfig"],f),n}function I8(t,e){const n={},r=v(t,["safetyAttributes","categories"]);r!=null&&b(n,["categories"],r);const i=v(t,["safetyAttributes","scores"]);i!=null&&b(n,["scores"],i);const o=v(t,["contentType"]);return o!=null&&b(n,["contentType"],o),n}function N8(t,e){const n={},r=v(t,["safetyAttributes","categories"]);r!=null&&b(n,["categories"],r);const i=v(t,["safetyAttributes","scores"]);i!=null&&b(n,["scores"],i);const o=v(t,["contentType"]);return o!=null&&b(n,["contentType"],o),n}function Hpe(t,e){const n={},r=v(t,["category"]);if(r!=null&&b(n,["category"],r),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=v(t,["threshold"]);return i!=null&&b(n,["threshold"],i),n}function Kpe(t,e){const n={},r=v(t,["image"]);return r!=null&&b(n,["image"],bo(r)),n}function Wpe(t,e,n){const r={},i=v(t,["mode"]);e!==void 0&&i!=null&&b(e,["parameters","mode"],i);const o=v(t,["maxPredictions"]);e!==void 0&&o!=null&&b(e,["parameters","maxPredictions"],o);const s=v(t,["confidenceThreshold"]);e!==void 0&&s!=null&&b(e,["parameters","confidenceThreshold"],s);const l=v(t,["maskDilation"]);e!==void 0&&l!=null&&b(e,["parameters","maskDilation"],l);const c=v(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&b(e,["parameters","binaryColorThreshold"],c);const f=v(t,["labels"]);return e!==void 0&&f!=null&&b(e,["labels"],f),r}function Ype(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["source"]);o!=null&&Xpe(o,r);const s=v(e,["config"]);return s!=null&&Wpe(s,r),r}function Jpe(t,e){const n={},r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_pe(o))),b(n,["generatedMasks"],i)}return n}function Xpe(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&b(e,["instances[0]","prompt"],i);const o=v(t,["image"]);e!==void 0&&o!=null&&b(e,["instances[0]","image"],bo(o));const s=v(t,["scribbleImage"]);return e!==void 0&&s!=null&&b(e,["instances[0]","scribble"],Kpe(s)),r}function Qpe(t,e){const n={},r=v(t,["retrievalConfig"]);r!=null&&b(n,["retrievalConfig"],r);const i=v(t,["functionCallingConfig"]);return i!=null&&b(n,["functionCallingConfig"],epe(i)),n}function Zpe(t,e){const n={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["computerUse"]);r!=null&&b(n,["computerUse"],r);const i=v(t,["fileSearch"]);i!=null&&b(n,["fileSearch"],i);const o=v(t,["codeExecution"]);if(o!=null&&b(n,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=v(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(y=>y)),b(n,["functionDeclarations"],p)}const l=v(t,["googleMaps"]);l!=null&&b(n,["googleMaps"],Cpe(l));const c=v(t,["googleSearch"]);c!=null&&b(n,["googleSearch"],Ipe(c));const f=v(t,["googleSearchRetrieval"]);f!=null&&b(n,["googleSearchRetrieval"],f);const h=v(t,["urlContext"]);return h!=null&&b(n,["urlContext"],h),n}function R8(t,e){const n={},r=v(t,["retrieval"]);r!=null&&b(n,["retrieval"],r);const i=v(t,["computerUse"]);if(i!=null&&b(n,["computerUse"],i),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=v(t,["codeExecution"]);o!=null&&b(n,["codeExecution"],o);const s=v(t,["enterpriseWebSearch"]);s!=null&&b(n,["enterpriseWebSearch"],s);const l=v(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(_=>tpe(_))),b(n,["functionDeclarations"],y)}const c=v(t,["googleMaps"]);c!=null&&b(n,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&b(n,["googleSearch"],f);const h=v(t,["googleSearchRetrieval"]);h!=null&&b(n,["googleSearchRetrieval"],h);const p=v(t,["urlContext"]);return p!=null&&b(n,["urlContext"],p),n}function eme(t,e){const n={},r=v(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=v(t,["createTime"]);i!=null&&b(n,["createTime"],i);const o=v(t,["updateTime"]);return o!=null&&b(n,["updateTime"],o),n}function tme(t,e){const n={},r=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&b(n,["baseModel"],r);const i=v(t,["createTime"]);i!=null&&b(n,["createTime"],i);const o=v(t,["updateTime"]);return o!=null&&b(n,["updateTime"],o),n}function nme(t,e,n){const r={},i=v(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const o=v(t,["description"]);e!==void 0&&o!=null&&b(e,["description"],o);const s=v(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),r}function rme(t,e,n){const r={},i=v(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const o=v(t,["description"]);e!==void 0&&o!=null&&b(e,["description"],o);const s=v(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),r}function ime(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","name"],Et(t,i));const o=v(e,["config"]);return o!=null&&nme(o,r),r}function ome(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["config"]);return o!=null&&rme(o,r),r}function sme(t,e,n){const r={},i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const o=v(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&b(e,["parameters","safetySetting"],o);const s=v(t,["personGeneration"]);e!==void 0&&s!=null&&b(e,["parameters","personGeneration"],s);const l=v(t,["includeRaiReason"]);e!==void 0&&l!=null&&b(e,["parameters","includeRaiReason"],l);const c=v(t,["outputMimeType"]);e!==void 0&&c!=null&&b(e,["parameters","outputOptions","mimeType"],c);const f=v(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&b(e,["parameters","outputOptions","compressionQuality"],f);const h=v(t,["enhanceInputImage"]);e!==void 0&&h!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=v(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const y=v(t,["labels"]);e!==void 0&&y!=null&&b(e,["labels"],y);const _=v(t,["numberOfImages"]);e!==void 0&&_!=null&&b(e,["parameters","sampleCount"],_);const S=v(t,["mode"]);return e!==void 0&&S!=null&&b(e,["parameters","mode"],S),r}function ame(t,e,n){const r={},i=v(e,["model"]);i!=null&&b(r,["_url","model"],Et(t,i));const o=v(e,["image"]);o!=null&&b(r,["instances[0]","image"],bo(o));const s=v(e,["upscaleFactor"]);s!=null&&b(r,["parameters","upscaleConfig","upscaleFactor"],s);const l=v(e,["config"]);return l!=null&&sme(l,r),r}function lme(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ib(s))),b(n,["generatedImages"],o)}return n}function ume(t,e){const n={},r=v(t,["uri"]);r!=null&&b(n,["uri"],r);const i=v(t,["encodedVideo"]);i!=null&&b(n,["videoBytes"],El(i));const o=v(t,["encoding"]);return o!=null&&b(n,["mimeType"],o),n}function cme(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&b(n,["uri"],r);const i=v(t,["bytesBase64Encoded"]);i!=null&&b(n,["videoBytes"],El(i));const o=v(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function fme(t,e){const n={},r=v(t,["image"]);r!=null&&b(n,["_self"],bo(r));const i=v(t,["maskMode"]);return i!=null&&b(n,["maskMode"],i),n}function dme(t,e){const n={},r=v(t,["image"]);r!=null&&b(n,["image"],Nb(r));const i=v(t,["referenceType"]);return i!=null&&b(n,["referenceType"],i),n}function hme(t,e){const n={},r=v(t,["image"]);r!=null&&b(n,["image"],bo(r));const i=v(t,["referenceType"]);return i!=null&&b(n,["referenceType"],i),n}function k8(t,e){const n={},r=v(t,["uri"]);r!=null&&b(n,["uri"],r);const i=v(t,["videoBytes"]);i!=null&&b(n,["encodedVideo"],El(i));const o=v(t,["mimeType"]);return o!=null&&b(n,["encoding"],o),n}function P8(t,e){const n={},r=v(t,["uri"]);r!=null&&b(n,["gcsUri"],r);const i=v(t,["videoBytes"]);i!=null&&b(n,["bytesBase64Encoded"],El(i));const o=v(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pme(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["displayName"],r),n}function mme(t){const e={},n=v(t,["config"]);return n!=null&&pme(n,e),e}function gme(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function yme(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&gme(r,e),e}function vme(t){const e={},n=v(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function bme(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["customMetadata"],o)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&b(e,["chunkingConfig"],i),n}function xme(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response"]);return s!=null&&b(e,["response"],wme(s)),e}function _me(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&b(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&bme(i,e),e}function wme(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&b(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function Tme(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Eme(t){const e={},n=v(t,["config"]);return n!=null&&Tme(n,e),e}function Sme(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["fileSearchStores"],o)}return e}function M8(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&b(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const o=v(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),b(e,["customMetadata"],l)}const s=v(t,["chunkingConfig"]);return e!==void 0&&s!=null&&b(e,["chunkingConfig"],s),n}function Ame(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&M8(r,e),e}function Cme(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ime="Content-Type",Nme="X-Server-Timeout",Rme="User-Agent",tC="x-goog-api-client",kme="1.42.0",Pme=`google-genai-sdk/${kme}`,Mme="v1beta1",Ome="v1beta",Dme=5,Lme=[408,429,500,502,503,504];class jme{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const l=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!l?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Mme}else{if(!this.clientOptions.apiKey)throw new xp({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Ome,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===YA.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,l]of Object.entries(e.queryParams))i.searchParams.append(s,String(l));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>o.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&Vme(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await xj(i),new JA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await xj(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return fo(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Xe(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(h,{stream:!0});try{const S=JSON.parse(p);if("error"in S){const A=JSON.parse(JSON.stringify(S.error)),E=A.status,M=A.code,I=`got status: ${E}. ${JSON.stringify(S)}`;if(M>=400&&M<600)throw new xp({message:I,status:M})}}catch(S){if(S.name==="ApiError")throw S}s+=p;let y=-1,_=0;for(;;){y=-1,_=0;for(const E of c){const M=s.indexOf(E);M!==-1&&(y===-1||M<y)&&(y=M,_=E.length)}if(y===-1)break;const S=s.substring(0,y);s=s.substring(y+_);const A=S.trim();if(A.startsWith(l)){const E=A.substring(l.length).trim();try{const M=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Xe(new JA(M))}catch(M){throw new Error(`exception parsing stream chunk ${E}. ${M}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,n);const i=this.clientOptions.httpOptions.retryOptions;return Ace(async()=>{const s=await fetch(e,n);if(s.ok)return s;throw Lme.includes(s.status)?new Error(`Retryable HTTP Error: ${s.statusText}`):new f8.AbortError(`Non-retryable exception ${s.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:Dme)-1})}getDefaultHeaders(){const e={},n=Pme+" "+this.clientOptions.userAgentExtra;return e[Rme]=n,e[tC]=n,e[Ime]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Nme,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},f=this.getFileName(e),h=Me("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),l=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&M8(r,p);const y=await this.fetchUploadUrl(f,l,c,h,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var l;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=f==null?void 0:f.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function xj(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new xp({message:i,status:n}):new Error(i)}}function Vme(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const l=Object.assign({},o);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=l[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?l[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),l[c]=f)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ume="mcp_used/unknown";let Bme=!1;function O8(t){for(const e of t)if(Fme(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Bme}function D8(t){var e;const n=(e=t[tC])!==null&&e!==void 0?e:"";t[tC]=(n+` ${Ume}`).trimStart()}function Fme(t){return t!==null&&typeof t=="object"&&t instanceof hR}function qme(t){return fo(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Xe(n.listTools({cursor:i}));for(const l of s.tools)yield yield Xe(l),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class hR{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new hR(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var l=!0,c=(n=void 0,ho(qme(h))),f;f=await c.next(),e=f.done,!e;l=!0){i=f.value,l=!1;const p=i;s.push(p);const y=p.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=h}}catch(p){n={error:p}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),pfe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zme(t,e,n){const r=new sfe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class $me{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=Kme(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${l}`;let f=()=>{};const h=new Promise(N=>{f=N}),p=e.callbacks,y=function(){f({})},_=this.apiClient,S={onopen:y,onmessage:N=>{zme(_,p.onmessage,N)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(N){}},A=this.webSocketFactory.create(c,Hme(s),S);A.connect(),await h;const I={setup:{model:Et(this.apiClient,e.model)}};return A.send(JSON.stringify(I)),new Gme(A,this.apiClient)}}class Gme{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=phe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=hhe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(nf.PLAY)}pause(){this.sendPlaybackControl(nf.PAUSE)}stop(){this.sendPlaybackControl(nf.STOP)}resetContext(){this.sendPlaybackControl(nf.RESET_CONTEXT)}close(){this.conn.close()}}function Hme(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Kme(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wme="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Yme(t,e,n){const r=new ofe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=yhe(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class Jme{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new $me(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&O8(e.config.tools)&&D8(p);const y=ege(p);if(this.apiClient.isVertexAI()){const j=this.apiClient.getProject(),q=this.apiClient.getLocation(),F=this.apiClient.getApiKey(),z=!!j&&!!q||!!F;this.apiClient.getCustomBaseUrl()&&!z?h=c:(h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,h))}else{const j=this.apiClient.getApiKey();let q="BidiGenerateContent",F="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",F="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${q}?${F}=${j}`}let _=()=>{};const S=new Promise(j=>{_=j}),A=e.callbacks,E=function(){var j;(j=A==null?void 0:A.onopen)===null||j===void 0||j.call(A),_({})},M=this.apiClient,I={onopen:E,onmessage:j=>{Yme(M,A.onmessage,j)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(j){}},N=this.webSocketFactory.create(h,Zme(y),I);N.connect(),await S;let C=Et(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const j=this.apiClient.getProject(),q=this.apiClient.getLocation();j&&q&&(C=`projects/${j}/locations/${q}/`+C)}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Bv.AUDIO]}:e.config.responseModalities=[Bv.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],P=[];for(const j of L)if(this.isCallableTool(j)){const q=j;P.push(await q.tool())}else P.push(j);P.length>0&&(e.config.tools=P);const O={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=dhe(this.apiClient,O):R=fhe(this.apiClient,O),delete R.config,N.send(JSON.stringify(R)),new Qme(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Xme={turnComplete:!0};class Qme{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=di(n.turns),e.isVertexAI()||(r=r.map(i=>Am(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Wme)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Xme),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ghe(e)}:n={realtimeInput:mhe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Zme(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ege(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _j=10;function wj(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(pf(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function pf(t){return"callTool"in t&&typeof t.callTool=="function"}function tge(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>pf(i)))!==null&&r!==void 0?r:!1}function Tj(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(pf(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Ej(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nge extends ta{constructor(e){super(),this.apiClient=e,this.embedContent=async n=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(n);if(n.model.includes("gemini")&&n.model!=="gemini-embedding-001"||n.model.includes("maas")){const i=di(n.contents);if(i.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const o=Object.assign(Object.assign({},n),{content:i[0],embeddingApiType:Fv.EMBED_CONTENT});return await this.embedContentInternal(o)}else{const i=Object.assign(Object.assign({},n),{embeddingApiType:Fv.PREDICT});return await this.embedContentInternal(i)}},this.generateContent=async n=>{var r,i,o,s,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tge(n)||wj(n.config))return await this.generateContentInternal(c);const f=Tj(n);if(f.length>0){const A=f.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,p;const y=di(c.contents),_=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:_j;let S=0;for(;S<_&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,E=[];for(const M of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(pf(M)){const N=await M.callTool(h.functionCalls);E.push(...N)}S++,p={role:"user",parts:E},c.contents=di(c.contents),c.contents.push(A),c.contents.push(p),Ej(c.config)&&(y.push(A),y.push(p))}return Ej(c.config)&&(h.automaticFunctionCallingHistory=y),h},this.generateContentStream=async n=>{var r,i,o,s,l;if(this.maybeMoveToResponseJsonSchem(n),wj(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=Tj(n);if(c.length>0){const p=c.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(l=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let l;return o?l={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ju(Ws.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>pf(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&O8(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),D8(f),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return l}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(pf(s)){const l=s,c=await l.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,l)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:_j;let s=!1,l=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return fo(this,arguments,function*(){for(var y,_,S,A,E,M;l<o;){s&&(l++,s=!1);const R=yield Xe(f.processParamsMaybeAddMcpUsage(p)),L=yield Xe(f.generateContentStreamInternal(R)),P=[],O=[];try{for(var I=!0,N=(_=void 0,ho(L)),C;C=yield Xe(N.next()),y=C.done,!y;I=!0){A=C.value,I=!1;const j=A;if(yield yield Xe(j),j.candidates&&(!((E=j.candidates[0])===null||E===void 0)&&E.content)){O.push(j.candidates[0].content);for(const q of(M=j.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(l<o&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(q.functionCall.name)){const F=yield Xe(h.get(q.functionCall.name).callTool([q.functionCall]));P.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(j){_={error:j}}finally{try{!I&&!y&&(S=N.return)&&(yield Xe(S.call(N)))}finally{if(_)throw _.error}}if(P.length>0){s=!0;const j=new gh;j.candidates=[{content:{role:"user",parts:P}}],yield yield Xe(j);const q=[];q.push(...O),q.push({role:"user",parts:P});const F=di(p.contents).concat(q);p.contents=F}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=yj(this.apiClient,e);return l=Me("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=bj(h),y=new gh;return Object.assign(y,p),y})}else{const f=gj(this.apiClient,e);return l=Me("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=vj(h),y=new gh;return Object.assign(y,p),y})}}async generateContentStreamInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=yj(this.apiClient,e);return l=Me("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return fo(this,arguments,function*(){var y,_,S,A;try{for(var E=!0,M=ho(p),I;I=yield Xe(M.next()),y=I.done,!y;E=!0){A=I.value,E=!1;const N=A,C=bj(yield Xe(N.json()),e);C.sdkHttpResponse={headers:N.headers};const R=new gh;Object.assign(R,C),yield yield Xe(R)}}catch(N){_={error:N}}finally{try{!E&&!y&&(S=M.return)&&(yield Xe(S.call(M)))}finally{if(_)throw _.error}}})})}else{const f=gj(this.apiClient,e);return l=Me("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return fo(this,arguments,function*(){var y,_,S,A;try{for(var E=!0,M=ho(p),I;I=yield Xe(M.next()),y=I.done,!y;E=!0){A=I.value,E=!1;const N=A,C=vj(yield Xe(N.json()),e);C.sdkHttpResponse={headers:N.headers};const R=new gh;Object.assign(R,C),yield yield Xe(R)}}catch(N){_={error:N}}finally{try{!E&&!y&&(S=M.return)&&(yield Xe(S.call(M)))}finally{if(_)throw _.error}}})})}}async embedContentInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Whe(this.apiClient,e,e),h=gfe(e.model)?"{model}:embedContent":"{model}:predict";return l=Me(h,f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),s.then(p=>{const y=Jhe(p,e),_=new Z5;return Object.assign(_,y),_})}else{const f=Khe(this.apiClient,e);return l=Me("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=Yhe(h),y=new Z5;return Object.assign(y,p),y})}}async generateImagesInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=ape(this.apiClient,e);return l=Me("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=upe(h),y=new ej;return Object.assign(y,p),y})}else{const f=spe(this.apiClient,e);return l=Me("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=lpe(h),y=new ej;return Object.assign(y,p),y})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=zhe(this.apiClient,e);return o=Me("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=$he(c),h=new Kce;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=ame(this.apiClient,e);return o=Me("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=lme(c),h=new Wce;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=qpe(this.apiClient,e);return o=Me("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=zpe(c),h=new Yce;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=Ype(this.apiClient,e);return o=Me("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Jpe(c),h=new Jce;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Ape(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>eC(h))}else{const f=Spe(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>ZA(h))}}async listInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Dpe(this.apiClient,e);return l=Me("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=jpe(h),y=new tj;return Object.assign(y,p),y})}else{const f=Ope(this.apiClient,e);return l=Me("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=Lpe(h),y=new tj;return Object.assign(y,p),y})}}async update(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=ome(this.apiClient,e);return l=Me("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>eC(h))}else{const f=ime(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>ZA(h))}}async delete(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Uhe(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=Fhe(h),y=new nj;return Object.assign(y,p),y})}else{const f=Vhe(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=Bhe(h),y=new nj;return Object.assign(y,p),y})}}async countTokens(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Dhe(this.apiClient,e);return l=Me("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=jhe(h),y=new rj;return Object.assign(y,p),y})}else{const f=Ohe(this.apiClient,e);return l=Me("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=Lhe(h),y=new rj;return Object.assign(y,p),y})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=Che(this.apiClient,e);return o=Me("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Ihe(c),h=new Xce;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=mpe(this.apiClient,e);return l=Me("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=hpe(h),y=new qv;return Object.assign(y,p),y})}else{const f=ppe(this.apiClient,e);return l=Me("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const p=dpe(h),y=new qv;return Object.assign(y,p),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rge extends ta{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Fce(e);return l=Me("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=Bce(e);return l=Me("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=Mce(e);return o=Me("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ige(t){const e={},n=v(t,["data"]);if(n!=null&&b(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function oge(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pge(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function sge(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const o=v(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&b(n,["newSessionExpireTime"],o);const s=v(e,["uses"]);n!==void 0&&s!=null&&b(n,["uses"],s);const l=v(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&b(n,["bidiGenerateContentSetup"],hge(t,l));const c=v(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&b(n,["fieldMask"],c),r}function age(t,e){const n={},r=v(e,["config"]);return r!=null&&b(n,["config"],sge(t,r,n)),n}function lge(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function uge(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);if(i!=null&&b(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cge(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function fge(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function dge(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const l=v(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],dR(p));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&b(e,["setup","generationConfig","thinkingConfig"],y);const _=v(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=v(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],oge(Jn(S)));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let L=Qf(A);Array.isArray(L)&&(L=L.map(P=>gge(Xf(P)))),b(e,["setup","tools"],L)}const E=v(t,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],mge(E));const M=v(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&b(e,["setup","inputAudioTranscription"],M);const I=v(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&b(e,["setup","outputAudioTranscription"],I);const N=v(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&b(e,["setup","realtimeInputConfig"],N);const C=v(t,["contextWindowCompression"]);e!==void 0&&C!=null&&b(e,["setup","contextWindowCompression"],C);const R=v(t,["proactivity"]);if(e!==void 0&&R!=null&&b(e,["setup","proactivity"],R),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function hge(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Et(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],dge(i,n)),n}function pge(t){const e={},n=v(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],lge(o));const s=v(t,["functionCall"]);s!=null&&b(e,["functionCall"],uge(s));const l=v(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=v(t,["inlineData"]);c!=null&&b(e,["inlineData"],ige(c));const f=v(t,["text"]);f!=null&&b(e,["text"],f);const h=v(t,["thought"]);h!=null&&b(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const y=v(t,["videoMetadata"]);return y!=null&&b(e,["videoMetadata"],y),e}function mge(t){const e={},n=v(t,["handle"]);if(n!=null&&b(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gge(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}const s=v(t,["googleMaps"]);s!=null&&b(e,["googleMaps"],cge(s));const l=v(t,["googleSearch"]);l!=null&&b(e,["googleSearch"],fge(l));const c=v(t,["googleSearchRetrieval"]);c!=null&&b(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yge(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function vge(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=yge(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class bge extends ta{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=age(this.apiClient,e);o=Me("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const c=vge(l,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xge(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function _ge(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&xge(r,e),e}function wge(t){const e={},n=v(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function Tge(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Ege(t){const e={},n=v(t,["parent"]);n!=null&&b(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&Tge(r,e),e}function Sge(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Age extends ta{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ju(Ws.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=wge(e);return o=Me("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=_ge(e);i=Me("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ege(e);return o=Me("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Sge(c),h=new Qce;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cge extends ta{constructor(e,n=new Age(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ju(Ws.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=mme(e);return o=Me("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=vme(e);return o=Me("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=yme(e);i=Me("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Eme(e);return o=Me("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Sme(c),h=new Zce;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ame(e);return o=Me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Cme(c),h=new efe;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_me(e);return o=Me("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=xme(c),h=new aR;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let L8=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return L8=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Ige=()=>L8();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nC(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const rC=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fi extends Error{}class Cr extends Fi{constructor(e,n,r,i){super(`${Cr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Rb({message:r,cause:rC(n)});const o=n;return e===400?new V8(e,o,r,i):e===401?new U8(e,o,r,i):e===403?new B8(e,o,r,i):e===404?new F8(e,o,r,i):e===409?new q8(e,o,r,i):e===422?new z8(e,o,r,i):e===429?new $8(e,o,r,i):e>=500?new G8(e,o,r,i):new Cr(e,o,r,i)}}class iC extends Cr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Rb extends Cr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class j8 extends Rb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class V8 extends Cr{}class U8 extends Cr{}class B8 extends Cr{}class F8 extends Cr{}class q8 extends Cr{}class z8 extends Cr{}class $8 extends Cr{}class G8 extends Cr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nge=/^[a-z][a-z0-9+.-]*:/i,Rge=t=>Nge.test(t);let oC=t=>(oC=Array.isArray,oC(t));const kge=oC;let Pge=kge;const Sj=Pge;function Mge(t){if(!t)return!0;for(const e in t)return!1;return!0}function Oge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Dge=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Fi(`${t} must be an integer`);if(e<0)throw new Fi(`${t} must be a positive integer`);return e},Lge=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jge=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yc="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vge(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Uge=()=>{var t,e,n,r,i;const o=Vge();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yc,"X-Stainless-OS":Cj(Deno.build.os),"X-Stainless-Arch":Aj(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yc,"X-Stainless-OS":Cj((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Aj((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=Bge();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Bge(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const Aj=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Cj=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ty;const Fge=()=>Ty??(Ty=Uge());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qge(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function H8(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function zge(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return H8({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function K8(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function $ge(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gge=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W8=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Kw(t,e,n){return W8(),new File(t,e??"unknown_file",n)}function Hge(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Kge=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y8=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Wge=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Y8(t),Yge=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Jge(t,e,n){if(W8(),t=await t,Wge(t))return t instanceof File?t:Kw([await t.arrayBuffer()],t.name);if(Yge(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Kw(await sC(i),e,n)}const r=await sC(t);if(e||(e=Hge(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Kw(r,e,n)}async function sC(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Y8(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(Kge(t))try{for(var l=!0,c=ho(t),f;f=await c.next(),e=f.done,!e;l=!0){i=f.value,l=!1;const h=i;s.push(...await sC(h))}}catch(h){n={error:h}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${Xge(t)}`)}return s}function Xge(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J8{constructor(e){this._client=e}}J8._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X8(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ij=Object.freeze(Object.create(null)),Qge=(t=X8)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((h,p,y)=>{var _,S,A;/[?#]/.test(p)&&(i=!0);const E=r[y];let M=(i?encodeURIComponent:t)(""+E);return y!==r.length&&(E==null||typeof E=="object"&&E.toString===((A=Object.getPrototypeOf((S=Object.getPrototypeOf((_=E.hasOwnProperty)!==null&&_!==void 0?_:Ij))!==null&&S!==void 0?S:Ij))===null||A===void 0?void 0:A.toString))&&(M=E+"",o.push({start:h.length+p.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),h+p+(y===r.length?"":M)},""),l=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(l))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((h,p)=>h.start-p.start),o.length>0){let h=0;const p=o.reduce((y,_)=>{const S=" ".repeat(_.start-h),A="^".repeat(_.length);return h=_.start+_.length,y+S+A},"");throw new Fi(`Path parameters result in path with invalid segments:
${o.map(y=>y.error).join(`
`)}
${s}
${p}`)}return s}),Ey=Qge(X8);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q8 extends J8{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=$v(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Fi("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Fi("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ey`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Ey`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Ey`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,l=$v(o,["api_version"]);return this._client.get(Ey`/${s}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Q8._key=Object.freeze(["interactions"]);class Z8 extends Q8{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zge(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Sy;function pR(t){let e;return(Sy??(e=new globalThis.TextEncoder,Sy=e.encode.bind(e)))(t)}let Ay;function Nj(t){let e;return(Ay??(e=new globalThis.TextDecoder,Ay=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kb{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?pR(e):e;this.buffer=Zge([this.buffer,n]);const r=[];let i;for(;(i=eye(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Nj(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=Nj(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}kb.NEWLINE_CHARS=new Set([`
`,"\r"]);kb.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eye(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function tye(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gv={off:0,error:200,warn:300,info:400,debug:500},Rj=(t,e,n)=>{if(t){if(Oge(Gv,t))return t;Er(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Gv))}`)}};function Oh(){}function Cy(t,e,n){return!e||Gv[t]>Gv[n]?Oh:e[t].bind(e)}const nye={error:Oh,warn:Oh,info:Oh,debug:Oh};let kj=new WeakMap;function Er(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return nye;const i=kj.get(n);if(i&&i[0]===r)return i[1];const o={error:Cy("error",n,r),warn:Cy("warn",n,r),info:Cy("info",n,r),debug:Cy("debug",n,r)};return kj.set(n,[r,o]),o}const fu=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rf{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Er(r):console;function s(){return fo(this,arguments,function*(){var c,f,h,p;if(i)throw new Fi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var _=!0,S=ho(rye(e,n)),A;A=yield Xe(S.next()),c=A.done,!c;_=!0){p=A.value,_=!1;const E=p;if(!y)if(E.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield Xe(JSON.parse(E.data))}catch(M){throw o.error("Could not parse message into JSON:",E.data),o.error("From chunk:",E.raw),M}}}catch(E){f={error:E}}finally{try{!_&&!c&&(h=S.return)&&(yield Xe(h.call(S)))}finally{if(f)throw f.error}}y=!0}catch(E){if(nC(E))return yield Xe(void 0);throw E}finally{y||n.abort()}})}return new rf(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return fo(this,arguments,function*(){var c,f,h,p;const y=new kb,_=K8(e);try{for(var S=!0,A=ho(_),E;E=yield Xe(A.next()),c=E.done,!c;S=!0){p=E.value,S=!1;const M=p;for(const I of y.decode(M))yield yield Xe(I)}}catch(M){f={error:M}}finally{try{!S&&!c&&(h=A.return)&&(yield Xe(h.call(A)))}finally{if(f)throw f.error}}for(const M of y.flush())yield yield Xe(M)})}function s(){return fo(this,arguments,function*(){var c,f,h,p;if(i)throw new Fi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var _=!0,S=ho(o()),A;A=yield Xe(S.next()),c=A.done,!c;_=!0){p=A.value,_=!1;const E=p;y||E&&(yield yield Xe(JSON.parse(E)))}}catch(E){f={error:E}}finally{try{!_&&!c&&(h=S.return)&&(yield Xe(h.call(S)))}finally{if(f)throw f.error}}y=!0}catch(E){if(nC(E))return yield Xe(void 0);throw E}finally{y||n.abort()}})}return new rf(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new rf(()=>i(e),this.controller,this.client),new rf(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return H8({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=pR(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function rye(t,e){return fo(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Fi("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Fi("Attempted to iterate over a response with no body");const l=new oye,c=new kb,f=K8(t.body);try{for(var h=!0,p=ho(iye(f)),y;y=yield Xe(p.next()),r=y.done,!r;h=!0){s=y.value,h=!1;const _=s;for(const S of c.decode(_)){const A=l.decode(S);A&&(yield yield Xe(A))}}}catch(_){i={error:_}}finally{try{!h&&!r&&(o=p.return)&&(yield Xe(o.call(p)))}finally{if(i)throw i.error}}for(const _ of c.flush()){const S=l.decode(_);S&&(yield yield Xe(S))}})}function iye(t){return fo(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var l=!0,c=ho(t),f;f=yield Xe(c.next()),n=f.done,!n;l=!0){o=f.value,l=!1;const h=o;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?pR(h):h;let y=new Uint8Array(s.length+p.length);y.set(s),y.set(p,s.length),s=y;let _;for(;(_=tye(s))!==-1;)yield yield Xe(s.slice(0,_)),s=s.slice(_)}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=c.return)&&(yield Xe(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Xe(s))})}class oye{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=sye(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function sye(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function aye(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var l;if(e.options.stream)return Er(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):rf.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Er(t).debug(`[${r}] response parsed`,fu({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mR extends Promise{constructor(e,n,r=aye){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new mR(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eG=Symbol("brand.privateNullableHeaders");function*lye(t){if(!t)return;if(eG in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Sj(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Sj(r[1])?r[1]:[r[1]];let s=!1;for(const l of o)l!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,l])}}const yh=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of lye(r)){const l=o.toLowerCase();i.has(l)||(e.delete(o),i.add(l)),s===null?(e.delete(o),n.add(l)):(e.append(o,s),n.delete(l))}}return{[eG]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ww=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=Cce)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var tG;class Pb{constructor(e){var n,r,i,o,s,l,c,{baseURL:f=Ww("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Ww("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,y=$v(e,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:h,apiVersion:p},y),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(r=_.timeout)!==null&&r!==void 0?r:Pb.DEFAULT_TIMEOUT,this.logger=(i=_.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(s=(o=Rj(_.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:Rj(Ww("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:S,this.fetchOptions=_.fetchOptions,this.maxRetries=(l=_.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=_.fetch)!==null&&c!==void 0?c:qge(),this.encoder=Gge,this._options=_,this.apiKey=h,this.apiVersion=p,this.clientAdapter=_.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=yh([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return yh([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return yh([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Fi(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Yc}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ige()}`}makeStatusError(e,n,r,i){return Cr.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Rge(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Mge(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new mR(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const l=await e,c=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:f,url:h,timeout:p}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:l});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(Er(this).debug(`[${y}] sending request`,fu({retryOfRequestLogID:r,method:l.method,url:h,options:l,headers:f.headers})),!((o=l.signal)===null||o===void 0)&&o.aborted)throw new iC;const A=new AbortController,E=await this.fetchWithTimeout(h,f,p,A).catch(rC),M=Date.now();if(E instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((s=l.signal)===null||s===void 0)&&s.aborted)throw new iC;const C=nC(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return Er(this).info(`[${y}] connection ${C?"timed out":"failed"} - ${N}`),Er(this).debug(`[${y}] connection ${C?"timed out":"failed"} (${N})`,fu({retryOfRequestLogID:r,url:h,durationMs:M-S,message:E.message})),this.retryRequest(l,n,r??y);throw Er(this).info(`[${y}] connection ${C?"timed out":"failed"} - error; no more retries left`),Er(this).debug(`[${y}] connection ${C?"timed out":"failed"} (error; no more retries left)`,fu({retryOfRequestLogID:r,url:h,durationMs:M-S,message:E.message})),C?new j8:new Rb({cause:E})}const I=`[${y}${_}] ${f.method} ${h} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${M-S}ms`;if(!E.ok){const N=await this.shouldRetry(E);if(n&&N){const j=`retrying, ${n} attempts remaining`;return await $ge(E.body),Er(this).info(`${I} - ${j}`),Er(this).debug(`[${y}] response error (${j})`,fu({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:M-S})),this.retryRequest(l,n,r??y,E.headers)}const C=N?"error; no more retries left":"error; not retryable";Er(this).info(`${I} - ${C}`);const R=await E.text().catch(j=>rC(j).message),L=Lge(R),P=L?void 0:R;throw Er(this).debug(`[${y}] response error (${C})`,fu({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,message:P,durationMs:Date.now()-S})),this.makeStatusError(E.status,L,P,E.headers)}return Er(this).info(I),Er(this).debug(`[${y}] response start`,fu({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:M-S})),{response:E,options:l,controller:A,requestLogID:y,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:l}=o,c=$v(o,["signal","method"]),f=this._makeAbort(i);s&&s.addEventListener("abort",f,{once:!0});const h=setTimeout(f,r),p=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,y=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),c);l&&(y.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const l=i==null?void 0:i.get("retry-after-ms");if(l){const f=parseFloat(l);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await jge(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),l=1-Math.random()*.25;return s*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:l,path:c,query:f,defaultBaseURL:h}=s,p=this.buildURL(c,f,h);"timeout"in s&&Dge("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:_}=this.buildBody({options:s}),S=await this.buildHeaders({options:e,method:l,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:S},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:p,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let l=yh([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Fge()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(l),l.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=yh([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:zge(e)}:typeof e=="object"&&r.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(e)}:this.encoder({body:e,headers:r})}}Pb.DEFAULT_TIMEOUT=6e4;class Qn extends Pb{constructor(){super(...arguments),this.interactions=new Z8(this)}}tG=Qn;Qn.GeminiNextGenAPIClient=tG;Qn.GeminiNextGenAPIClientError=Fi;Qn.APIError=Cr;Qn.APIConnectionError=Rb;Qn.APIConnectionTimeoutError=j8;Qn.APIUserAbortError=iC;Qn.NotFoundError=F8;Qn.ConflictError=q8;Qn.RateLimitError=$8;Qn.BadRequestError=V8;Qn.AuthenticationError=U8;Qn.InternalServerError=G8;Qn.PermissionDeniedError=B8;Qn.UnprocessableEntityError=z8;Qn.toFile=Jge;Qn.Interactions=Z8;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uye(t,e){const n={},r=v(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function cye(t,e){const n={},r=v(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function fye(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function dye(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function hye(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&b(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=v(t,["epochCount"]);e!==void 0&&o!=null&&b(e,["tuningTask","hyperparameters","epochCount"],o);const s=v(t,["learningRateMultiplier"]);if(s!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(v(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(v(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const l=v(t,["batchSize"]);e!==void 0&&l!=null&&b(e,["tuningTask","hyperparameters","batchSize"],l);const c=v(t,["learningRate"]);if(e!==void 0&&c!=null&&b(e,["tuningTask","hyperparameters","learningRate"],c),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(v(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(v(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(v(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(v(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(v(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function pye(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const L=v(t,["validationDataset"]);e!==void 0&&L!=null&&b(e,["supervisedTuningSpec"],Yw(L))}else if(i==="PREFERENCE_TUNING"){const L=v(t,["validationDataset"]);e!==void 0&&L!=null&&b(e,["preferenceOptimizationSpec"],Yw(L))}else if(i==="DISTILLATION"){const L=v(t,["validationDataset"]);e!==void 0&&L!=null&&b(e,["distillationSpec"],Yw(L))}const o=v(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&b(e,["tunedModelDisplayName"],o);const s=v(t,["description"]);e!==void 0&&s!=null&&b(e,["description"],s);let l=v(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const L=v(t,["epochCount"]);e!==void 0&&L!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],L)}else if(l==="PREFERENCE_TUNING"){const L=v(t,["epochCount"]);e!==void 0&&L!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],L)}else if(l==="DISTILLATION"){const L=v(t,["epochCount"]);e!==void 0&&L!=null&&b(e,["distillationSpec","hyperParameters","epochCount"],L)}let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const L=v(t,["learningRateMultiplier"]);e!==void 0&&L!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],L)}else if(c==="PREFERENCE_TUNING"){const L=v(t,["learningRateMultiplier"]);e!==void 0&&L!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],L)}else if(c==="DISTILLATION"){const L=v(t,["learningRateMultiplier"]);e!==void 0&&L!=null&&b(e,["distillationSpec","hyperParameters","learningRateMultiplier"],L)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const L=v(t,["exportLastCheckpointOnly"]);e!==void 0&&L!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],L)}else if(f==="PREFERENCE_TUNING"){const L=v(t,["exportLastCheckpointOnly"]);e!==void 0&&L!=null&&b(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],L)}else if(f==="DISTILLATION"){const L=v(t,["exportLastCheckpointOnly"]);e!==void 0&&L!=null&&b(e,["distillationSpec","exportLastCheckpointOnly"],L)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const L=v(t,["adapterSize"]);e!==void 0&&L!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],L)}else if(h==="PREFERENCE_TUNING"){const L=v(t,["adapterSize"]);e!==void 0&&L!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],L)}else if(h==="DISTILLATION"){const L=v(t,["adapterSize"]);e!==void 0&&L!=null&&b(e,["distillationSpec","hyperParameters","adapterSize"],L)}let p=v(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const L=v(t,["tuningMode"]);e!==void 0&&L!=null&&b(e,["supervisedTuningSpec","tuningMode"],L)}const y=v(t,["customBaseModel"]);e!==void 0&&y!=null&&b(e,["customBaseModel"],y);let _=v(n,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const L=v(t,["batchSize"]);e!==void 0&&L!=null&&b(e,["supervisedTuningSpec","hyperParameters","batchSize"],L)}let S=v(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const L=v(t,["learningRate"]);e!==void 0&&L!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRate"],L)}const A=v(t,["labels"]);e!==void 0&&A!=null&&b(e,["labels"],A);const E=v(t,["beta"]);e!==void 0&&E!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","beta"],E);const M=v(t,["baseTeacherModel"]);e!==void 0&&M!=null&&b(e,["distillationSpec","baseTeacherModel"],M);const I=v(t,["tunedTeacherModelSource"]);e!==void 0&&I!=null&&b(e,["distillationSpec","tunedTeacherModelSource"],I);const N=v(t,["sftLossWeightMultiplier"]);e!==void 0&&N!=null&&b(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],N);const C=v(t,["outputUri"]);e!==void 0&&C!=null&&b(e,["outputUri"],C);const R=v(t,["encryptionSpec"]);return e!==void 0&&R!=null&&b(e,["encryptionSpec"],R),r}function mye(t,e){const n={},r=v(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const o=v(t,["trainingDataset"]);o!=null&&Aye(o);const s=v(t,["config"]);return s!=null&&hye(s,n),n}function gye(t,e){const n={},r=v(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const o=v(t,["trainingDataset"]);o!=null&&Cye(o,n,e);const s=v(t,["config"]);return s!=null&&pye(s,n,e),n}function yye(t,e){const n={},r=v(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function vye(t,e){const n={},r=v(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function bye(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const o=v(t,["pageToken"]);e!==void 0&&o!=null&&b(e,["_query","pageToken"],o);const s=v(t,["filter"]);return e!==void 0&&s!=null&&b(e,["_query","filter"],s),r}function xye(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const o=v(t,["pageToken"]);e!==void 0&&o!=null&&b(e,["_query","pageToken"],o);const s=v(t,["filter"]);return e!==void 0&&s!=null&&b(e,["_query","filter"],s),r}function _ye(t,e){const n={},r=v(t,["config"]);return r!=null&&bye(r,n),n}function wye(t,e){const n={},r=v(t,["config"]);return r!=null&&xye(r,n),n}function Tye(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=v(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>nG(l))),b(n,["tuningJobs"],s)}return n}function Eye(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=v(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>aC(l))),b(n,["tuningJobs"],s)}return n}function Sye(t,e){const n={},r=v(t,["name"]);r!=null&&b(n,["model"],r);const i=v(t,["name"]);return i!=null&&b(n,["endpoint"],i),n}function Aye(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(n,["examples","examples"],i)}return n}function Cye(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=v(t,["gcsUri"]);e!==void 0&&s!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=v(t,["gcsUri"]);e!==void 0&&s!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){const s=v(t,["gcsUri"]);e!==void 0&&s!=null&&b(e,["distillationSpec","promptDatasetUri"],s)}let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=v(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=v(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(o==="DISTILLATION"){const s=v(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&b(e,["distillationSpec","promptDatasetUri"],s)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function nG(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&b(n,["name"],i);const o=v(t,["state"]);o!=null&&b(n,["state"],v8(o));const s=v(t,["createTime"]);s!=null&&b(n,["createTime"],s);const l=v(t,["tuningTask","startTime"]);l!=null&&b(n,["startTime"],l);const c=v(t,["tuningTask","completeTime"]);c!=null&&b(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=v(t,["description"]);h!=null&&b(n,["description"],h);const p=v(t,["baseModel"]);p!=null&&b(n,["baseModel"],p);const y=v(t,["_self"]);return y!=null&&b(n,["tunedModel"],Sye(y)),n}function aC(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&b(n,["name"],i);const o=v(t,["state"]);o!=null&&b(n,["state"],v8(o));const s=v(t,["createTime"]);s!=null&&b(n,["createTime"],s);const l=v(t,["startTime"]);l!=null&&b(n,["startTime"],l);const c=v(t,["endTime"]);c!=null&&b(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=v(t,["error"]);h!=null&&b(n,["error"],h);const p=v(t,["description"]);p!=null&&b(n,["description"],p);const y=v(t,["baseModel"]);y!=null&&b(n,["baseModel"],y);const _=v(t,["tunedModel"]);_!=null&&b(n,["tunedModel"],_);const S=v(t,["preTunedModel"]);S!=null&&b(n,["preTunedModel"],S);const A=v(t,["supervisedTuningSpec"]);A!=null&&b(n,["supervisedTuningSpec"],A);const E=v(t,["preferenceOptimizationSpec"]);E!=null&&b(n,["preferenceOptimizationSpec"],E);const M=v(t,["distillationSpec"]);M!=null&&b(n,["distillationSpec"],M);const I=v(t,["tuningDataStats"]);I!=null&&b(n,["tuningDataStats"],I);const N=v(t,["encryptionSpec"]);N!=null&&b(n,["encryptionSpec"],N);const C=v(t,["partnerModelTuningSpec"]);C!=null&&b(n,["partnerModelTuningSpec"],C);const R=v(t,["customBaseModel"]);R!=null&&b(n,["customBaseModel"],R);const L=v(t,["experiment"]);L!=null&&b(n,["experiment"],L);const P=v(t,["labels"]);P!=null&&b(n,["labels"],P);const O=v(t,["outputUri"]);O!=null&&b(n,["outputUri"],O);const j=v(t,["pipelineJob"]);j!=null&&b(n,["pipelineJob"],j);const q=v(t,["serviceAccount"]);q!=null&&b(n,["serviceAccount"],q);const F=v(t,["tunedModelDisplayName"]);F!=null&&b(n,["tunedModelDisplayName"],F);const z=v(t,["veoTuningSpec"]);return z!=null&&b(n,["veoTuningSpec"],z),n}function Iye(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&b(n,["name"],i);const o=v(t,["metadata"]);o!=null&&b(n,["metadata"],o);const s=v(t,["done"]);s!=null&&b(n,["done"],s);const l=v(t,["error"]);return l!=null&&b(n,["error"],l),n}function Yw(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&b(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&b(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nye extends ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ju(Ws.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:WA.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=vye(e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>aC(h))}else{const f=yye(e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>nG(h))}}async listInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=wye(e);return l=Me("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=Eye(h),y=new ij;return Object.assign(y,p),y})}else{const f=_ye(e);return l=Me("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=Tye(h),y=new ij;return Object.assign(y,p),y})}}async cancel(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=cye(e);return l=Me("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=dye(h),y=new oj;return Object.assign(y,p),y})}else{const f=uye(e);return l=Me("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const p=fye(h),y=new oj;return Object.assign(y,p),y})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=gye(e,e);return o=Me("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>aC(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=mye(e);return o=Me("tunedModels",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>Iye(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rye{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const kye=1024*1024*8,Pye=3,Mye=1e3,Oye=2,Hv="x-goog-upload-status";async function Dye(t,e,n){var r;const i=await rG(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Hv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Lye(t,e,n){var r;const i=await rG(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Hv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=d8(o),l=new lR;return Object.assign(l,s),l}async function rG(t,e,n){var r,i;let o=0,s=0,l=new JA(new Response),c="upload";for(o=t.size;s<o;){const f=Math.min(kye,o-s),h=t.slice(s,s+f);s+f>=o&&(c+=", finalize");let p=0,y=Mye;for(;p<Pye&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Hv]));)p++,await Vye(y),y=y*Oye;if(s+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Hv])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function jye(t){return{size:t.size,type:t.type}}function Vye(t){return new Promise(e=>setTimeout(e,t))}class Uye{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Dye(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lye(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jye(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bye{create(e,n,r){return new Fye(e,n,r)}}class Fye{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pj="x-goog-api-key";class qye{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Pj)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Pj,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zye="gl-node/";class Jw{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Qn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(e=n==null?void 0:n.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=kce(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new qye(this.apiKey);this.apiClient=new jme({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:zye+"web",uploader:new Uye,downloader:new Rye}),this.models=new nge(this.apiClient),this.live=new Jme(this.apiClient,i,new Bye),this.batches=new lde(this.apiClient),this.chats=new zde(this.models,this.apiClient),this.caches=new Bde(this.apiClient),this.files=new the(this.apiClient),this.operations=new rge(this.apiClient),this.authTokens=new bge(this.apiClient),this.tunings=new Nye(this.apiClient),this.fileSearchStores=new Cge(this.apiClient)}}const Kv={async generateBio(t,e="Professional"){var n;try{const r=new Jw({apiKey:"PLACEHOLDER_API_KEY"}),i=t.role===Ke.BUSINESS,o=`
        Name: ${t.name}
        Role: ${t.role}
        Tags: ${t.tags.join(", ")}
        ${i?`Industry: ${t.industry}`:`Job: ${t.jobTitle}`}
        ${i?`Company: ${t.company}`:`School: ${t.school}`}
      `;let s="";switch(e){case"Fun":s="witty, humorous, and engaging using emojis";break;case"Creative":s="poetic, artistic, and unique";break;case"Hype":s="energetic, persuasive, and exciting with high energy";break;case"Professional":default:s="polished, concise, and trustworthy";break}const l=`Write a ${s} bio (max 2 sentences) for a ${i?"brand":"influencer/creator"} profile on a networking app called Ping. 
      Make it sound authentic.
      User Details:
      ${o}`;return((n=(await r.models.generateContent({model:"gemini-3-flash-preview",contents:l})).text)==null?void 0:n.trim())||""}catch(r){return console.error("Gemini Bio Error:",r),"Creative powerhouse ready to collaborate. Let's make magic happen! "}},async generateIcebreakers(t,e,n){try{const r=new Jw({apiKey:"PLACEHOLDER_API_KEY"}),i=`Generate 3 short, casual, and engaging conversation starters (icebreakers) to send to ${t}.
      Context: I am a ${n} on a professional networking app.
      Target User Interests: ${e.join(", ")}.
      
      Output strictly as a JSON array of strings. Example: ["Hey, love your work!", "Question about your rates?"]`,s=(await r.models.generateContent({model:"gemini-3-flash-preview",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:Ko.ARRAY,items:{type:Ko.STRING}}}})).text;if(!s)return[];const l=JSON.parse(s);return Array.isArray(l)?l:[]}catch(r){return console.error("Gemini Icebreaker Error:",r),[`Hey ${t}, love your profile!`,`Hi! I saw you're interested in ${e[0]||"collaboration"}.`,"Would love to discuss a potential partnership."]}},async identifyLocation(t,e){var n,r,i;try{const l=(n=(await new Jw({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:"Identify the City and State for these coordinates. If the location is in India, format it strictly as 'City, State' (e.g. 'Mumbai, Maharashtra'). Do NOT include the country name if it is India. If it is outside India, include the Country. Return ONLY the location string.",config:{tools:[{googleMaps:{}}],toolConfig:{retrievalConfig:{latLng:{latitude:t,longitude:e}}}}})).text)==null?void 0:n.trim();if(l)return l}catch(o){console.error("Gemini Location Error:",o)}try{console.log("Using location fallback...");const s=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${e}&zoom=12&addressdetails=1`)).json(),l=s.address;if(l){if(((r=l.country_code)==null?void 0:r.toLowerCase())==="in"){const p=l.city||l.town||l.village||l.municipality||l.city_district||l.district,y=l.state||l.state_district||l.region;if(p&&y)return`${p}, ${y}`;if(p)return p;if(y)return y}const f=l.city||l.town||l.village||l.county,h=l.country;if(f&&h)return`${f}, ${h}`;if(s.display_name){const p=s.display_name.split(",");return`${p[0].trim()}, ${((i=p[1])==null?void 0:i.trim())||""}`}}}catch(o){console.error("Fallback location failed",o)}return"Location Unavailable"}},$ye=({stage:t,dealValue:e,onAction:n})=>{if(t==="NONE")return null;const r=[{id:"PROPOSAL_SENT",label:"Offer",icon:tR},{id:"AGREED",label:"Contract",icon:Tb},{id:"ESCROW_FUNDED",label:"Escrow",icon:ls},{id:"COMPLETED",label:"Done",icon:Cf}],i=l=>{const c=["NONE","PROPOSAL_SENT","NEGOTIATION","AGREED","ESCROW_FUNDED","WORK_SUBMITTED","COMPLETED"],f=c.indexOf(t),h=c.indexOf(l);return f>h?"completed":f===h?"active":"pending"},o={PROPOSAL_SENT:{bg:"bg-blue-500/10 border-blue-500/20",text:"Proposal Pending",subtext:"Waiting for response...",action:"View Offer",color:"text-blue-500"},NEGOTIATION:{bg:"bg-orange-500/10 border-orange-500/20",text:"Negotiating Terms",subtext:"Review counter-offer",action:"Review",color:"text-orange-500"},AGREED:{bg:"bg-green-500/10 border-green-500/20",text:"Offer Accepted",subtext:"Waiting for funding",action:"Fund Escrow",color:"text-green-500"},ESCROW_FUNDED:{bg:"bg-purple-500/10 border-purple-500/20",text:"Active Collaboration",subtext:"Funds secured in escrow",action:"Submit Work",color:"text-purple-500"},WORK_SUBMITTED:{bg:"bg-yellow-500/10 border-yellow-500/20",text:"Work Submitted",subtext:"Review deliverables",action:"Release Funds",color:"text-yellow-500"},COMPLETED:{bg:"bg-green-500/10 border-green-500/20",text:"Campaign Completed",subtext:"Payment released",action:"View Receipt",color:"text-green-500"}},s=o[t]||o.PROPOSAL_SENT;return g.jsxs(qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`mx-4 mt-2 p-3 rounded-2xl border backdrop-blur-md shadow-sm ${s.bg} relative z-20`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-3 px-2 relative",children:[g.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-gray-200 dark:bg-white/10 -z-10"}),r.map(l=>{const c=i(l.id);return g.jsx("div",{className:"flex flex-col items-center gap-1 bg-white dark:bg-[#0f0c29] p-1 rounded-full z-10",children:g.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-colors ${c==="completed"?"bg-green-500 text-white":c==="active"?"bg-pink-500 text-white":"bg-gray-200 dark:bg-white/20 text-gray-400"}`,children:c==="completed"?g.jsx(Eb,{size:12}):g.jsx(l.icon,{size:12})})},l.id)})]}),g.jsxs("div",{className:"flex justify-between items-center pl-1",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h4",{className:`text-sm font-bold ${s.color}`,children:s.text}),e&&g.jsxs("span",{className:"text-xs font-mono bg-black/10 dark:bg-white/10 px-1.5 py-0.5 rounded text-gray-600 dark:text-white/80",children:["",e]})]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:s.subtext})]}),g.jsx("button",{onClick:n,className:"bg-white dark:bg-white/10 text-gray-900 dark:text-white text-xs font-bold px-4 py-2 rounded-xl shadow-sm hover:scale-105 transition-transform border border-black/5 dark:border-white/10",children:s.action})]})]})},Gye=({onClose:t,onSend:e})=>{const[n,r]=Y.useState(""),[i,o]=Y.useState(""),[s,l]=Y.useState(""),c=f=>{f.preventDefault(),n&&i&&s&&e({title:n,price:i,deadline:s})};return g.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:g.jsxs(qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-sm bg-[#1a1a1a] border border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"bg-gradient-to-r from-pink-600 to-orange-500 p-6 text-white flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[g.jsx(Ks,{size:20})," Create Proposal"]}),g.jsx("button",{onClick:t,className:"p-1 hover:bg-white/20 rounded-full",children:g.jsx(br,{size:20})})]}),g.jsx("div",{className:"p-6",children:g.jsxs("form",{onSubmit:c,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Deliverable"}),g.jsx("input",{type:"text",value:n,onChange:f=>r(f.target.value),placeholder:"e.g. 1 Instagram Reel + 3 Stories",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-pink-500/50",required:!0})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Price ()"}),g.jsxs("div",{className:"relative",children:[g.jsx(nR,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),g.jsx("input",{type:"number",value:i,onChange:f=>o(f.target.value),placeholder:"500",className:"w-full bg-black/20 border border-white/10 rounded-xl pl-9 pr-4 py-3 text-white focus:outline-none focus:border-pink-500/50",required:!0})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Deadline"}),g.jsxs("div",{className:"relative",children:[g.jsx(Rue,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),g.jsx("input",{type:"text",value:s,onChange:f=>l(f.target.value),placeholder:"7 Days",className:"w-full bg-black/20 border border-white/10 rounded-xl pl-9 pr-4 py-3 text-white focus:outline-none focus:border-pink-500/50",required:!0})]})]})]}),g.jsx("div",{className:"pt-4",children:g.jsx($t,{fullWidth:!0,type:"submit",children:"Send Proposal"})})]})})]})})},Hye=({contract:t,onClose:e})=>g.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:g.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-sm bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white relative",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-md",children:g.jsx(Ks,{size:20})}),g.jsx("button",{onClick:e,className:"p-1 hover:bg-white/20 rounded-full",children:g.jsx(Sm,{size:20})})]}),g.jsx("h3",{className:"text-xl font-bold",children:t.title}),g.jsxs("p",{className:"opacity-80 text-sm",children:["Escrow Secure ID: #",t.id]})]}),g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-end mb-6",children:[g.jsx("span",{className:"text-sm text-gray-500 dark:text-white/50 font-bold uppercase tracking-wider",children:"Total Value"}),g.jsxs("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["",t.totalAmount.toLocaleString()]})]}),g.jsxs("div",{className:"space-y-4 relative",children:[g.jsx("div",{className:"absolute left-[11px] top-2 bottom-2 w-0.5 bg-gray-200 dark:bg-white/10"}),t.milestones.map(n=>g.jsxs("div",{className:"relative flex items-center gap-4",children:[g.jsx("div",{className:`z-10 w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ${n.status==="PAID"?"bg-green-500 border-green-500 text-white":n.status==="LOCKED"?"bg-gray-200 dark:bg-white/10 border-gray-300 dark:border-white/20 text-gray-400":"bg-white dark:bg-[#1a1a1a] border-blue-500 text-blue-500"}`,children:n.status==="PAID"?g.jsx(Eb,{size:12}):n.status==="LOCKED"?g.jsx(ls,{size:12}):g.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),g.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-black/5 dark:border-white/5 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:n.title}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-white/50 font-mono",children:["",n.amount]})]}),g.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-md uppercase ${n.status==="PAID"?"bg-green-500/10 text-green-600 dark:text-green-400":n.status==="LOCKED"?"text-gray-400":"bg-blue-500/10 text-blue-600 dark:text-blue-400"}`,children:n.status})]})]},n.id))]}),g.jsx("div",{className:"mt-8",children:g.jsx($t,{fullWidth:!0,variant:"secondary",onClick:e,children:"Close Contract"})})]})]})}),Kye=({match:t,currentUser:e,onBack:n,isPremium:r,onUpgrade:i})=>{var W,ee,se,ge;const[o,s]=Y.useState([]),[l,c]=Y.useState(""),[f,h]=Y.useState(!0),[p,y]=Y.useState([]),[_,S]=Y.useState(!1),[A,E]=Y.useState("NONE"),[M,I]=Y.useState(void 0),[N,C]=Y.useState(null),[R,L]=Y.useState(!1),[P,O]=Y.useState(!1),j=Y.useRef(null);Y.useEffect(()=>{h(!0);const K=kt.subscribeToMessages(t.id,V=>{s(V),h(!1);const $=[...V].reverse().find(J=>J.type==="proposal");$&&$.proposalData&&(I($.proposalData.price),$.proposalData.status==="ACCEPTED"?E("AGREED"):$.proposalData.status==="PENDING"?E("PROPOSAL_SENT"):$.proposalData.status==="DECLINED"&&E("NONE"))});return F(),q(),()=>K()},[t.id]),Y.useEffect(()=>{var K;(K=j.current)==null||K.scrollIntoView({behavior:"smooth"})},[o]);const q=async()=>{if(o.length>5)return;S(!0);const K=t.userProfile.role==="INFLUENCER"?"BUSINESS":"INFLUENCER",V=await Kv.generateIcebreakers(t.userProfile.name,t.userProfile.tags,K);y(V),S(!1)},F=async()=>{C(await kt.getContract(t.id))},z=async K=>{if(K.preventDefault(),!l.trim())return;const V=l;c("");try{await kt.sendMessage(t.id,V)}catch($){console.error("Failed to send message",$),alert("Message failed to send. Please check your connection.")}},B=async K=>{O(!1);const V=`PROPOSAL: ${K.title} for ${K.price} (Due: ${K.deadline})`;try{await kt.sendMessage(t.id,V,{type:"proposal",proposalData:{...K,status:"PENDING"}})}catch($){console.error($)}},X=async(K,V)=>{try{const $=Un(Ge,"matches",t.id,"messages",K),J=o.find(te=>te.id===K);J&&J.proposalData&&(await Ua($,{proposalData:{...J.proposalData,status:V}},{merge:!0}),V==="ACCEPTED"&&c8({particleCount:150,spread:70,origin:{y:.6},colors:["#22c55e","#ffffff","#86efac"]}))}catch($){console.error("Failed to update proposal",$)}},ie=()=>{A==="PROPOSAL_SENT"||A==="NEGOTIATION"?alert("Opening latest proposal details..."):A==="AGREED"?alert("Redirecting to Payment Gateway to fund escrow..."):A==="ESCROW_FUNDED"?alert("Upload deliverables form..."):A==="COMPLETED"&&L(!0)};return g.jsxs(qe.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-0 z-[100] bg-white dark:bg-[#0f0c29] flex flex-col h-[100dvh] transition-colors duration-300",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-purple/20 to-brand-dark z-0 pointer-events-none opacity-0 dark:opacity-100"}),g.jsxs("div",{className:"bg-white/90 dark:bg-white/5 backdrop-blur-xl border-b border-pink-100 dark:border-white/5 p-4 flex items-center justify-between shrink-0 safe-top pt-safe z-30 relative",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("button",{onClick:n,className:"p-2 -ml-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-700 dark:text-white/80 transition-colors",children:g.jsx(Sm,{size:24})}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:((W=t.userProfile)==null?void 0:W.avatar)||"https://picsum.photos/100/100",alt:(ee=t.userProfile)==null?void 0:ee.name,className:"w-11 h-11 rounded-full object-cover border-2 border-white dark:border-white/10"}),g.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-[#0f0c29]"})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h3",{className:"font-bold text-base text-gray-900 dark:text-white",children:((se=t.userProfile)==null?void 0:se.name)||"Match"}),((ge=t.userProfile)==null?void 0:ge.aiMatchScore)&&(r?g.jsxs("span",{className:"text-[10px] font-bold text-pink-500 bg-pink-500/10 px-1.5 py-0.5 rounded border border-pink-500/20 flex items-center gap-1",children:[g.jsx(Cf,{size:8})," ",t.userProfile.aiMatchScore,"%"]}):g.jsxs("button",{onClick:i,className:"text-[10px] font-bold text-gray-400 bg-gray-100 dark:bg-white/10 px-1.5 py-0.5 rounded border border-transparent hover:border-pink-500/50 hover:text-pink-500 transition-colors flex items-center gap-1",children:[g.jsx(ls,{size:8})," AI"]}))]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:"Online Now"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-4 text-gray-400 dark:text-white/60",children:[g.jsx("button",{onClick:()=>L(!0),className:"p-2 rounded-full hover:bg-blue-500/10 hover:text-blue-500 dark:hover:text-blue-400 transition-colors",title:"View Contract",children:g.jsx(tR,{size:22})}),g.jsx("button",{onClick:()=>O(!0),className:"p-2 rounded-full hover:bg-green-500/10 hover:text-green-500 dark:hover:text-green-400 transition-colors",title:"Create Proposal",children:g.jsx(Ks,{size:22})})]})]}),g.jsx(yr,{children:A!=="NONE"&&g.jsx($ye,{stage:A,dealValue:M,onAction:ie})}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 no-scrollbar relative z-10",children:[o.length<2&&!f&&g.jsxs("div",{className:"mb-6 space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-pink-500 uppercase tracking-wider justify-center mb-3",children:[g.jsx(Cf,{size:12})," AI Suggested Icebreakers"]}),_?g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"w-4 h-4 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"})}):g.jsx("div",{className:"flex flex-col items-center gap-2",children:p.length>0?p.map((K,V)=>g.jsxs("button",{onClick:()=>c(K),className:"bg-white/40 dark:bg-white/5 hover:bg-pink-500/10 border border-white/20 dark:border-white/10 hover:border-pink-500/30 rounded-xl px-4 py-2 text-sm text-pink-900/70 dark:text-white/80 transition-all text-center max-w-xs",children:['"',K,'"']},V)):g.jsx("p",{className:"text-xs text-white/30",children:"No suggestions available."})})]}),f?g.jsx("div",{className:"flex justify-center pt-20",children:g.jsx("div",{className:"w-6 h-6 border-2 border-pink-500/50 border-t-pink-500 rounded-full animate-spin"})}):o.map(K=>{var te;const V=K.senderId===e.id,$=K.type==="proposal"||K.text.startsWith("PROPOSAL:"),J=((te=K.proposalData)==null?void 0:te.status)||"PENDING";return g.jsx(qe.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},className:`flex ${V?"justify-end":"justify-start"}`,children:g.jsx("div",{className:`max-w-[85%] text-[15px] leading-relaxed shadow-sm overflow-hidden ${$?"bg-[#1a1a1a] border border-green-500/30 text-white rounded-2xl w-full max-w-xs":V?"bg-gradient-to-br from-pink-500 to-orange-400 text-white rounded-2xl rounded-tr-sm px-5 py-3":"bg-white dark:bg-white/10 text-gray-800 dark:text-white rounded-2xl rounded-tl-sm border border-pink-100 dark:border-transparent px-5 py-3"}`,children:$?g.jsxs("div",{className:`p-4 transition-opacity duration-300 ${J==="DECLINED"?"opacity-50 grayscale":""}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-2 border-b border-white/10 pb-2",children:[g.jsxs("div",{className:"flex items-center gap-2 text-green-400 font-bold text-xs uppercase tracking-widest",children:[g.jsx(Ks,{size:14})," Proposal"]}),J==="ACCEPTED"&&g.jsxs("span",{className:"text-[10px] font-bold bg-green-500 text-black px-2 py-0.5 rounded-full flex items-center gap-1",children:[g.jsx(Tb,{size:10})," ACTIVE"]}),J==="DECLINED"&&g.jsxs("span",{className:"text-[10px] font-bold bg-red-500/20 text-red-500 px-2 py-0.5 rounded-full flex items-center gap-1",children:[g.jsx(dce,{size:10})," DECLINED"]})]}),K.proposalData?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"font-bold text-lg leading-tight",children:K.proposalData.title}),g.jsxs("div",{className:"flex gap-4 text-sm text-white/70 bg-white/5 p-2 rounded-lg",children:[g.jsxs("span",{className:"flex items-center gap-1.5",children:[g.jsx(nR,{size:14,className:"text-green-400"})," ",K.proposalData.price]}),g.jsx("span",{className:"w-px h-4 bg-white/10"}),g.jsxs("span",{className:"flex items-center gap-1.5",children:[g.jsx(X$,{size:14,className:"text-blue-400"})," ",K.proposalData.deadline]})]})]}):g.jsx("p",{children:K.text}),J==="PENDING"&&!V&&g.jsxs("div",{className:"mt-4 pt-2 border-t border-white/10 flex gap-2",children:[g.jsx("button",{onClick:()=>X(K.id,"ACCEPTED"),className:"flex-1 bg-green-500 text-black text-xs font-bold py-2.5 rounded-lg hover:bg-green-400 transition-colors shadow-lg shadow-green-500/20",children:"ACCEPT DEAL"}),g.jsx("button",{onClick:()=>X(K.id,"DECLINED"),className:"flex-1 bg-white/10 text-white/70 text-xs font-bold py-2.5 rounded-lg hover:bg-white/20 hover:text-white transition-colors",children:"DECLINE"})]}),J==="PENDING"&&V&&g.jsx("p",{className:"text-[10px] text-white/40 mt-4 text-center",children:"Waiting for brand response..."})]}):K.text})},K.id)}),g.jsx("div",{ref:j})]}),g.jsx("div",{className:"p-4 bg-white/90 dark:bg-white/5 backdrop-blur-xl shrink-0 safe-bottom border-t border-pink-100 dark:border-white/5 relative z-30 transition-colors",children:g.jsxs("form",{onSubmit:z,className:"flex items-center gap-3",children:[g.jsx("button",{type:"button",className:"p-2 text-gray-400 dark:text-white/40 hover:text-pink-500 dark:hover:text-pink-400 transition-colors",children:g.jsx(Bue,{size:24})}),g.jsxs("div",{className:"flex-1 relative",children:[g.jsx("input",{type:"text",value:l,onChange:K=>c(K.target.value),placeholder:"Say something nice...",className:"w-full bg-white dark:bg-white/10 border border-pink-100 dark:border-transparent focus:border-pink-500/50 rounded-full pl-5 pr-10 py-3.5 text-sm text-gray-900 dark:text-white focus:outline-none focus:bg-white dark:focus:bg-white/15 transition-colors placeholder:text-gray-400 dark:placeholder:text-white/30"}),g.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-white/40 hover:text-gray-600 dark:hover:text-white",children:g.jsx(nce,{size:20})})]}),g.jsx("button",{type:"submit",disabled:!l.trim(),className:"w-12 h-12 rounded-full bg-pink-500 text-white flex items-center justify-center shadow-lg shadow-pink-500/30 disabled:opacity-50 disabled:shadow-none hover:scale-105 transition-all",children:g.jsx(ece,{size:20,className:"ml-0.5"})})]})}),g.jsxs(yr,{children:[R&&N&&g.jsx(Hye,{contract:N,onClose:()=>L(!1)}),P&&g.jsx(Gye,{onClose:()=>O(!1),onSend:B})]})]})};function iG(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=iG(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=iG(t))&&(r&&(r+=" "),r+=e);return r}var Xw,Mj;function Wr(){if(Mj)return Xw;Mj=1;var t=Array.isArray;return Xw=t,Xw}var Qw,Oj;function oG(){if(Oj)return Qw;Oj=1;var t=typeof uy=="object"&&uy&&uy.Object===Object&&uy;return Qw=t,Qw}var Zw,Dj;function cs(){if(Dj)return Zw;Dj=1;var t=oG(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Zw=n,Zw}var eT,Lj;function Cm(){if(Lj)return eT;Lj=1;var t=cs(),e=t.Symbol;return eT=e,eT}var tT,jj;function Wye(){if(jj)return tT;jj=1;var t=Cm(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(l?s[i]=c:delete s[i]),h}return tT=o,tT}var nT,Vj;function Yye(){if(Vj)return nT;Vj=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return nT=n,nT}var rT,Uj;function ra(){if(Uj)return rT;Uj=1;var t=Cm(),e=Wye(),n=Yye(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:o&&o in Object(l)?e(l):n(l)}return rT=s,rT}var iT,Bj;function ia(){if(Bj)return iT;Bj=1;function t(e){return e!=null&&typeof e=="object"}return iT=t,iT}var oT,Fj;function ed(){if(Fj)return oT;Fj=1;var t=ra(),e=ia(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return oT=r,oT}var sT,qj;function gR(){if(qj)return sT;qj=1;var t=Wr(),e=ed(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return sT=i,sT}var aT,zj;function Sl(){if(zj)return aT;zj=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return aT=t,aT}var lT,$j;function yR(){if($j)return lT;$j=1;var t=ra(),e=Sl(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==o}return lT=s,lT}var uT,Gj;function Jye(){if(Gj)return uT;Gj=1;var t=cs(),e=t["__core-js_shared__"];return uT=e,uT}var cT,Hj;function Xye(){if(Hj)return cT;Hj=1;var t=Jye(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return cT=n,cT}var fT,Kj;function sG(){if(Kj)return fT;Kj=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return fT=n,fT}var dT,Wj;function Qye(){if(Wj)return dT;Wj=1;var t=yR(),e=Xye(),n=Sl(),r=sG(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var _=t(y)?h:o;return _.test(r(y))}return dT=p,dT}var hT,Yj;function Zye(){if(Yj)return hT;Yj=1;function t(e,n){return e==null?void 0:e[n]}return hT=t,hT}var pT,Jj;function Xu(){if(Jj)return pT;Jj=1;var t=Qye(),e=Zye();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return pT=n,pT}var mT,Xj;function Mb(){if(Xj)return mT;Xj=1;var t=Xu(),e=t(Object,"create");return mT=e,mT}var gT,Qj;function eve(){if(Qj)return gT;Qj=1;var t=Mb();function e(){this.__data__=t?t(null):{},this.size=0}return gT=e,gT}var yT,Zj;function tve(){if(Zj)return yT;Zj=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return yT=t,yT}var vT,eV;function nve(){if(eV)return vT;eV=1;var t=Mb(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var l=s[o];return l===e?void 0:l}return r.call(s,o)?s[o]:void 0}return vT=i,vT}var bT,tV;function rve(){if(tV)return bT;tV=1;var t=Mb(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return bT=r,bT}var xT,nV;function ive(){if(nV)return xT;nV=1;var t=Mb(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return xT=n,xT}var _T,rV;function ove(){if(rV)return _T;rV=1;var t=eve(),e=tve(),n=nve(),r=rve(),i=ive();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,_T=o,_T}var wT,iV;function sve(){if(iV)return wT;iV=1;function t(){this.__data__=[],this.size=0}return wT=t,wT}var TT,oV;function vR(){if(oV)return TT;oV=1;function t(e,n){return e===n||e!==e&&n!==n}return TT=t,TT}var ET,sV;function Ob(){if(sV)return ET;sV=1;var t=vR();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return ET=e,ET}var ST,aV;function ave(){if(aV)return ST;aV=1;var t=Ob(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var l=o.length-1;return s==l?o.pop():n.call(o,s,1),--this.size,!0}return ST=r,ST}var AT,lV;function lve(){if(lV)return AT;lV=1;var t=Ob();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return AT=e,AT}var CT,uV;function uve(){if(uV)return CT;uV=1;var t=Ob();function e(n){return t(this.__data__,n)>-1}return CT=e,CT}var IT,cV;function cve(){if(cV)return IT;cV=1;var t=Ob();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return IT=e,IT}var NT,fV;function Db(){if(fV)return NT;fV=1;var t=sve(),e=ave(),n=lve(),r=uve(),i=cve();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,NT=o,NT}var RT,dV;function bR(){if(dV)return RT;dV=1;var t=Xu(),e=cs(),n=t(e,"Map");return RT=n,RT}var kT,hV;function fve(){if(hV)return kT;hV=1;var t=ove(),e=Db(),n=bR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return kT=r,kT}var PT,pV;function dve(){if(pV)return PT;pV=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return PT=t,PT}var MT,mV;function Lb(){if(mV)return MT;mV=1;var t=dve();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return MT=e,MT}var OT,gV;function hve(){if(gV)return OT;gV=1;var t=Lb();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return OT=e,OT}var DT,yV;function pve(){if(yV)return DT;yV=1;var t=Lb();function e(n){return t(this,n).get(n)}return DT=e,DT}var LT,vV;function mve(){if(vV)return LT;vV=1;var t=Lb();function e(n){return t(this,n).has(n)}return LT=e,LT}var jT,bV;function gve(){if(bV)return jT;bV=1;var t=Lb();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return jT=e,jT}var VT,xV;function xR(){if(xV)return VT;xV=1;var t=fve(),e=hve(),n=pve(),r=mve(),i=gve();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,VT=o,VT}var UT,_V;function aG(){if(_V)return UT;_V=1;var t=xR(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=o.cache;if(c.has(l))return c.get(l);var f=r.apply(this,s);return o.cache=c.set(l,f)||c,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,UT=n,UT}var BT,wV;function yve(){if(wV)return BT;wV=1;var t=aG(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return BT=n,BT}var FT,TV;function vve(){if(TV)return FT;TV=1;var t=yve(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,l,c,f){o.push(c?f.replace(n,"$1"):l||s)}),o});return FT=r,FT}var qT,EV;function _R(){if(EV)return qT;EV=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return qT=t,qT}var zT,SV;function bve(){if(SV)return zT;SV=1;var t=Cm(),e=_R(),n=Wr(),r=ed(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return e(l,s)+"";if(r(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return zT=s,zT}var $T,AV;function lG(){if(AV)return $T;AV=1;var t=bve();function e(n){return n==null?"":t(n)}return $T=e,$T}var GT,CV;function uG(){if(CV)return GT;CV=1;var t=Wr(),e=gR(),n=vve(),r=lG();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return GT=i,GT}var HT,IV;function jb(){if(IV)return HT;IV=1;var t=ed();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return HT=e,HT}var KT,NV;function wR(){if(NV)return KT;NV=1;var t=uG(),e=jb();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return KT=n,KT}var WT,RV;function cG(){if(RV)return WT;RV=1;var t=wR();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return WT=e,WT}var xve=cG();const Ui=Ht(xve);var YT,kV;function _ve(){if(kV)return YT;kV=1;function t(e){return e==null}return YT=t,YT}var wve=_ve();const _t=Ht(wve);var JT,PV;function Tve(){if(PV)return JT;PV=1;var t=ra(),e=Wr(),n=ia(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return JT=i,JT}var Eve=Tve();const Im=Ht(Eve);var Sve=yR();const ht=Ht(Sve);var Ave=Sl();const td=Ht(Ave);var XT={exports:{}},Nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MV;function Cve(){if(MV)return Nt;MV=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,_=t?Symbol.for("react.memo"):60115,S=t?Symbol.for("react.lazy"):60116,A=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,M=t?Symbol.for("react.responder"):60118,I=t?Symbol.for("react.scope"):60119;function N(R){if(typeof R=="object"&&R!==null){var L=R.$$typeof;switch(L){case e:switch(R=R.type,R){case c:case f:case r:case o:case i:case p:return R;default:switch(R=R&&R.$$typeof,R){case l:case h:case S:case _:case s:return R;default:return L}}case n:return L}}}function C(R){return N(R)===f}return Nt.AsyncMode=c,Nt.ConcurrentMode=f,Nt.ContextConsumer=l,Nt.ContextProvider=s,Nt.Element=e,Nt.ForwardRef=h,Nt.Fragment=r,Nt.Lazy=S,Nt.Memo=_,Nt.Portal=n,Nt.Profiler=o,Nt.StrictMode=i,Nt.Suspense=p,Nt.isAsyncMode=function(R){return C(R)||N(R)===c},Nt.isConcurrentMode=C,Nt.isContextConsumer=function(R){return N(R)===l},Nt.isContextProvider=function(R){return N(R)===s},Nt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},Nt.isForwardRef=function(R){return N(R)===h},Nt.isFragment=function(R){return N(R)===r},Nt.isLazy=function(R){return N(R)===S},Nt.isMemo=function(R){return N(R)===_},Nt.isPortal=function(R){return N(R)===n},Nt.isProfiler=function(R){return N(R)===o},Nt.isStrictMode=function(R){return N(R)===i},Nt.isSuspense=function(R){return N(R)===p},Nt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===f||R===o||R===i||R===p||R===y||typeof R=="object"&&R!==null&&(R.$$typeof===S||R.$$typeof===_||R.$$typeof===s||R.$$typeof===l||R.$$typeof===h||R.$$typeof===E||R.$$typeof===M||R.$$typeof===I||R.$$typeof===A)},Nt.typeOf=N,Nt}var OV;function Ive(){return OV||(OV=1,XT.exports=Cve()),XT.exports}var lC=Ive(),QT,DV;function fG(){if(DV)return QT;DV=1;var t=ra(),e=ia(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return QT=r,QT}var ZT,LV;function Nve(){if(LV)return ZT;LV=1;var t=fG();function e(n){return t(n)&&n!=+n}return ZT=e,ZT}var Rve=Nve();const nd=Ht(Rve);var kve=fG();const Pve=Ht(kve);var uo=function(e){return e===0?0:e>0?1:-1},bu=function(e){return Im(e)&&e.indexOf("%")===e.length-1},ke=function(e){return Pve(e)&&!nd(e)},Bn=function(e){return ke(e)||Im(e)},Mve=0,Nm=function(e){var n=++Mve;return"".concat(e||"").concat(n)},If=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!Im(e))return r;var o;if(bu(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return nd(o)&&(o=r),i&&o>n&&(o=n),o},Jc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ove=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Di=function(e,n){return ke(e)&&ke(n)?function(r){return e+r*(n-e)}:function(){return n}};function Wv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ui(r,e))===n})}function mf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function uC(t){"@babel/helpers - typeof";return uC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uC(t)}var Dve=["viewBox","children"],Lve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jV=["points","pathLength"],e1={svg:Dve,polygon:jV,polyline:jV},TR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Yv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(Y.isValidElement(e)&&(r=e.props),!td(r))return null;var i={};return Object.keys(r).forEach(function(o){TR.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},jve=function(e,n,r){return function(i){return e(n,r,i),null}},Jv=function(e,n,r){if(!td(e)||uC(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];TR.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=jve(s,n,r))}),i},Vve=["children"],Uve=["children"];function VV(t,e){if(t==null)return{};var n=Bve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cC(t){"@babel/helpers - typeof";return cC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cC(t)}var UV={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Bs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},BV=null,t1=null,ER=function t(e){if(e===BV&&Array.isArray(t1))return t1;var n=[];return Y.Children.forEach(e,function(r){_t(r)||(lC.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),t1=n,BV=e,n};function po(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Bs(i)}):r=[Bs(e)],ER(t).forEach(function(i){var o=Ui(i,"type.displayName")||Ui(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function si(t,e){var n=po(t,e);return n&&n[0]}var FV=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ke(r)||r<=0||!ke(i)||i<=0)},Fve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qve=function(e){return e&&e.type&&Im(e.type)&&Fve.indexOf(e.type)>=0},zve=function(e){return e&&cC(e)==="object"&&"cx"in e&&"cy"in e&&"r"in e},$ve=function(e,n,r,i){var o,s=(o=e1==null?void 0:e1[i])!==null&&o!==void 0?o:[];return!ht(e)&&(i&&s.includes(n)||Lve.includes(n))||r&&TR.includes(n)},mt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Y.isValidElement(e)&&(i=e.props),!td(i))return null;var o={};return Object.keys(i).forEach(function(s){var l;$ve((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(o[s]=i[s])}),o},fC=function t(e,n){if(e===n)return!0;var r=Y.Children.count(e);if(r!==Y.Children.count(n))return!1;if(r===0)return!0;if(r===1)return qV(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!qV(o,s))return!1}return!0},qV=function(e,n){if(_t(e)&&_t(n))return!0;if(!_t(e)&&!_t(n)){var r=e.props||{},i=r.children,o=VV(r,Vve),s=n.props||{},l=s.children,c=VV(s,Uve);return i&&l?mf(o,c)&&fC(i,l):!i&&!l?mf(o,c):!1}return!1},zV=function(e,n){var r=[],i={};return ER(e).forEach(function(o,s){if(qve(o))r.push(o);else if(o){var l=Bs(o.type),c=n[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var p=f(o,l,s);r.push(p),i[l]=!0}}}),r},Gve=function(e){var n=e&&e.type;return n&&UV[n]?UV[n]:null},Hve=function(e,n){return ER(n).indexOf(e)},Kve=["children","width","height","viewBox","className","style","title","desc"];function dC(){return dC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dC.apply(this,arguments)}function Wve(t,e){if(t==null)return{};var n=Yve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hC(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,l=t.title,c=t.desc,f=Wve(t,Kve),h=i||{width:n,height:r,x:0,y:0},p=Vt("recharts-surface",o);return re.createElement("svg",dC({},mt(f,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),re.createElement("title",null,l),re.createElement("desc",null,c),e)}var Jve=["children","className"];function pC(){return pC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pC.apply(this,arguments)}function Xve(t,e){if(t==null)return{};var n=Qve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ln=re.forwardRef(function(t,e){var n=t.children,r=t.className,i=Xve(t,Jve),o=Vt("recharts-layer",r);return re.createElement("g",pC({className:o},mt(i,!0),{ref:e}),n)}),Nu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},n1,$V;function Zve(){if($V)return n1;$V=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+n];return s}return n1=t,n1}var r1,GV;function e0e(){if(GV)return r1;GV=1;var t=Zve();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return r1=e,r1}var i1,HV;function dG(){if(HV)return i1;HV=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+o+"]");function c(f){return l.test(f)}return i1=c,i1}var o1,KV;function t0e(){if(KV)return o1;KV=1;function t(e){return e.split("")}return o1=t,o1}var s1,WV;function n0e(){if(WV)return s1;WV=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",S=f+"?",A="["+o+"]?",E="(?:"+_+"(?:"+[h,p,y].join("|")+")"+A+S+")*",M=A+S+E,I="(?:"+[h+l+"?",l,p,y,s].join("|")+")",N=RegExp(c+"(?="+c+")|"+I+M,"g");function C(R){return R.match(N)||[]}return s1=C,s1}var a1,YV;function r0e(){if(YV)return a1;YV=1;var t=t0e(),e=dG(),n=n0e();function r(i){return e(i)?n(i):t(i)}return a1=r,a1}var l1,JV;function i0e(){if(JV)return l1;JV=1;var t=e0e(),e=dG(),n=r0e(),r=lG();function i(o){return function(s){s=r(s);var l=e(s)?n(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[o]()+f}}return l1=i,l1}var u1,XV;function o0e(){if(XV)return u1;XV=1;var t=i0e(),e=t("toUpperCase");return u1=e,u1}var s0e=o0e();const Vb=Ht(s0e);function Jt(t){return function(){return t}}const hG=Math.cos,Xv=Math.sin,xo=Math.sqrt,Qv=Math.PI,Ub=2*Qv,mC=Math.PI,gC=2*mC,du=1e-6,a0e=gC-du;function pG(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function l0e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pG;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class u0e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pG:l0e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=r-e,f=i-n,h=s-e,p=l-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>du)if(!(Math.abs(p*c-f*h)>du)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-s,S=i-l,A=c*c+f*f,E=_*_+S*S,M=Math.sqrt(A),I=Math.sqrt(y),N=o*Math.tan((mC-Math.acos((A+y-E)/(2*M*I)))/2),C=N/I,R=N/M;Math.abs(C-1)>du&&this._append`L${e+C*h},${n+C*p}`,this._append`A${o},${o},0,0,${+(p*_>h*S)},${this._x1=e+R*c},${this._y1=n+R*f}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,p=1^s,y=s?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>du||Math.abs(this._y1-h)>du)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%gC+gC),y>a0e?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:y>du&&this._append`A${r},${r},0,${+(y>=mC)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function SR(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new u0e(e)}function AR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mG(t){this._context=t}mG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bb(t){return new mG(t)}function gG(t){return t[0]}function yG(t){return t[1]}function vG(t,e){var n=Jt(!0),r=null,i=Bb,o=null,s=SR(l);t=typeof t=="function"?t:t===void 0?gG:Jt(t),e=typeof e=="function"?e:e===void 0?yG:Jt(e);function l(c){var f,h=(c=AR(c)).length,p,y=!1,_;for(r==null&&(o=i(_=s())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(p,f,c),+e(p,f,c));if(_)return o=null,_+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Jt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Jt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Jt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function Iy(t,e,n){var r=null,i=Jt(!0),o=null,s=Bb,l=null,c=SR(f);t=typeof t=="function"?t:t===void 0?gG:Jt(+t),e=typeof e=="function"?e:Jt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?yG:Jt(+n);function f(p){var y,_,S,A=(p=AR(p)).length,E,M=!1,I,N=new Array(A),C=new Array(A);for(o==null&&(l=s(I=c())),y=0;y<=A;++y){if(!(y<A&&i(E=p[y],y,p))===M)if(M=!M)_=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=y-1;S>=_;--S)l.point(N[S],C[S]);l.lineEnd(),l.areaEnd()}M&&(N[y]=+t(E,y,p),C[y]=+e(E,y,p),l.point(r?+r(E,y,p):N[y],n?+n(E,y,p):C[y]))}if(I)return l=null,I+""||null}function h(){return vG().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Jt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Jt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Jt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Jt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Jt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Jt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Jt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(l=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=l=null:l=s(o=p),f):o},f}class bG{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function c0e(t){return new bG(t,!0)}function f0e(t){return new bG(t,!1)}const CR={draw(t,e){const n=xo(e/Qv);t.moveTo(n,0),t.arc(0,0,n,0,Ub)}},d0e={draw(t,e){const n=xo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xG=xo(1/3),h0e=xG*2,p0e={draw(t,e){const n=xo(e/h0e),r=n*xG;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},m0e={draw(t,e){const n=xo(e),r=-n/2;t.rect(r,r,n,n)}},g0e=.8908130915292852,_G=Xv(Qv/10)/Xv(7*Qv/10),y0e=Xv(Ub/10)*_G,v0e=-hG(Ub/10)*_G,b0e={draw(t,e){const n=xo(e*g0e),r=y0e*n,i=v0e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Ub*o/5,l=hG(s),c=Xv(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},c1=xo(3),x0e={draw(t,e){const n=-xo(e/(c1*3));t.moveTo(0,n*2),t.lineTo(-c1*n,-n),t.lineTo(c1*n,-n),t.closePath()}},ki=-.5,Pi=xo(3)/2,yC=1/xo(12),_0e=(yC/2+1)*3,w0e={draw(t,e){const n=xo(e/_0e),r=n/2,i=n*yC,o=r,s=n*yC+n,l=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(l,c),t.lineTo(ki*r-Pi*i,Pi*r+ki*i),t.lineTo(ki*o-Pi*s,Pi*o+ki*s),t.lineTo(ki*l-Pi*c,Pi*l+ki*c),t.lineTo(ki*r+Pi*i,ki*i-Pi*r),t.lineTo(ki*o+Pi*s,ki*s-Pi*o),t.lineTo(ki*l+Pi*c,ki*c-Pi*l),t.closePath()}};function T0e(t,e){let n=null,r=SR(i);t=typeof t=="function"?t:Jt(t||CR),e=typeof e=="function"?e:Jt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Jt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Jt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Zv(){}function e0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function wG(t){this._context=t}wG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:e0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:e0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function E0e(t){return new wG(t)}function TG(t){this._context=t}TG.prototype={areaStart:Zv,areaEnd:Zv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:e0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function S0e(t){return new TG(t)}function EG(t){this._context=t}EG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:e0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function A0e(t){return new EG(t)}function SG(t){this._context=t}SG.prototype={areaStart:Zv,areaEnd:Zv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function C0e(t){return new SG(t)}function QV(t){return t<0?-1:1}function ZV(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(QV(o)+QV(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function eU(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function f1(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,s-l*n,o,s)}function t0(t){this._context=t}t0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:f1(this,this._t0,eU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,f1(this,eU(this,n=ZV(this,t,e)),n);break;default:f1(this,this._t0,n=ZV(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function AG(t){this._context=new CG(t)}(AG.prototype=Object.create(t0.prototype)).point=function(t,e){t0.prototype.point.call(this,e,t)};function CG(t){this._context=t}CG.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function I0e(t){return new t0(t)}function N0e(t){return new AG(t)}function IG(t){this._context=t}IG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tU(t),i=tU(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tU(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function R0e(t){return new IG(t)}function Fb(t,e){this._context=t,this._t=e}Fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function k0e(t){return new Fb(t,.5)}function P0e(t){return new Fb(t,0)}function M0e(t){return new Fb(t,1)}function Nf(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,l=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function O0e(t,e){return t[e]}function D0e(t){const e=[];return e.key=t,e}function L0e(){var t=Jt([]),e=vC,n=Nf,r=O0e;function i(o){var s=Array.from(t.apply(this,arguments),D0e),l,c=s.length,f=-1,h;for(const p of o)for(l=0,++f;l<c;++l)(s[l][f]=[0,+r(p,s[l].key,f,o)]).data=p;for(l=0,h=AR(e(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Jt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Jt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?vC:typeof o=="function"?o:Jt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Nf,i):n},i}function j0e(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Nf(t,e)}}function V0e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Nf(t,e)}}function U0e(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var l=0,c=0,f=0;l<s;++l){for(var h=t[e[l]],p=h[r][1]||0,y=h[r-1][1]||0,_=(p-y)/2,S=0;S<l;++S){var A=t[e[S]],E=A[r][1]||0,M=A[r-1][1]||0;_+=E-M}c+=p,f+=_*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Nf(t,e)}}function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}var B0e=["type","size","sizeType"];function bC(){return bC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bC.apply(this,arguments)}function nU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nU(Object(n),!0).forEach(function(r){F0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0e(t,e,n){return e=q0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q0e(t){var e=z0e(t,"string");return _p(e)=="symbol"?e:String(e)}function z0e(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $0e(t,e){if(t==null)return{};var n=G0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var NG={symbolCircle:CR,symbolCross:d0e,symbolDiamond:p0e,symbolSquare:m0e,symbolStar:b0e,symbolTriangle:x0e,symbolWye:w0e},H0e=Math.PI/180,K0e=function(e){var n="symbol".concat(Vb(e));return NG[n]||CR},W0e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*H0e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Y0e=function(e,n){NG["symbol".concat(Vb(e))]=n},IR=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=$0e(e,B0e),f=rU(rU({},c),{},{type:r,size:o,sizeType:l}),h=function(){var E=K0e(r),M=T0e().type(E).size(W0e(o,l,r));return M()},p=f.className,y=f.cx,_=f.cy,S=mt(f,!0);return y===+y&&_===+_&&o===+o?re.createElement("path",bC({},S,{className:Vt("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(_,")"),d:h()})):null};IR.registerSymbol=Y0e;function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function xC(){return xC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xC.apply(this,arguments)}function iU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(n),!0).forEach(function(r){wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kG(r.key),r)}}function Z0e(t,e,n){return e&&Q0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ebe(t,e,n){return e=n0(e),tbe(t,RG()?Reflect.construct(e,n||[],n0(t).constructor):e.apply(t,n))}function tbe(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nbe(t)}function nbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RG=function(){return!!t})()}function n0(t){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n0(t)}function rbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_C(t,e)}function _C(t,e){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_C(t,e)}function wp(t,e,n){return e=kG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kG(t){var e=ibe(t,"string");return Rf(e)=="symbol"?e:String(e)}function ibe(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mi=32,NR=(function(t){rbe(e,t);function e(){return X0e(this,e),ebe(this,e,arguments)}return Z0e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Mi/2,s=Mi/6,l=Mi/3,c=r.inactive?i:r.color;if(r.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Mi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(Mi,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return re.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Mi/8,"h").concat(Mi,"v").concat(Mi*3/4,"h").concat(-Mi,"z"),className:"recharts-legend-icon"});if(re.isValidElement(r.legendIcon)){var f=J0e({},r);return delete f.legendIcon,re.cloneElement(r.legendIcon,f)}return re.createElement(IR,{fill:c,cx:o,cy:o,size:Mi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:Mi,height:Mi},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(_,S){var A=_.formatter||c,E=Vt(wp(wp({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",_.inactive));if(_.type==="none")return null;var M=ht(_.value)?null:_.value;Nu(!ht(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var I=_.inactive?f:_.color;return re.createElement("li",xC({className:E,style:p,key:"legend-item-".concat(S)},Jv(r.props,_,S)),re.createElement(hC,{width:s,height:s,viewBox:h,style:y},r.renderIcon(_)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},A?A(M,_,S):M))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),e})(Y.PureComponent);wp(NR,"displayName","Legend");wp(NR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var d1,oU;function obe(){if(oU)return d1;oU=1;var t=Db();function e(){this.__data__=new t,this.size=0}return d1=e,d1}var h1,sU;function sbe(){if(sU)return h1;sU=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return h1=t,h1}var p1,aU;function abe(){if(aU)return p1;aU=1;function t(e){return this.__data__.get(e)}return p1=t,p1}var m1,lU;function lbe(){if(lU)return m1;lU=1;function t(e){return this.__data__.has(e)}return m1=t,m1}var g1,uU;function ube(){if(uU)return g1;uU=1;var t=Db(),e=bR(),n=xR(),r=200;function i(o,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([o,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(o,s),this.size=l.size,this}return g1=i,g1}var y1,cU;function PG(){if(cU)return y1;cU=1;var t=Db(),e=obe(),n=sbe(),r=abe(),i=lbe(),o=ube();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,y1=s,y1}var v1,fU;function cbe(){if(fU)return v1;fU=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return v1=e,v1}var b1,dU;function fbe(){if(dU)return b1;dU=1;function t(e){return this.__data__.has(e)}return b1=t,b1}var x1,hU;function MG(){if(hU)return x1;hU=1;var t=xR(),e=cbe(),n=fbe();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,x1=r,x1}var _1,pU;function OG(){if(pU)return _1;pU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return _1=t,_1}var w1,mU;function DG(){if(mU)return w1;mU=1;function t(e,n){return e.has(n)}return w1=t,w1}var T1,gU;function LG(){if(gU)return T1;gU=1;var t=MG(),e=OG(),n=DG(),r=1,i=2;function o(s,l,c,f,h,p){var y=c&r,_=s.length,S=l.length;if(_!=S&&!(y&&S>_))return!1;var A=p.get(s),E=p.get(l);if(A&&E)return A==l&&E==s;var M=-1,I=!0,N=c&i?new t:void 0;for(p.set(s,l),p.set(l,s);++M<_;){var C=s[M],R=l[M];if(f)var L=y?f(R,C,M,l,s,p):f(C,R,M,s,l,p);if(L!==void 0){if(L)continue;I=!1;break}if(N){if(!e(l,function(P,O){if(!n(N,O)&&(C===P||h(C,P,c,f,p)))return N.push(O)})){I=!1;break}}else if(!(C===R||h(C,R,c,f,p))){I=!1;break}}return p.delete(s),p.delete(l),I}return T1=o,T1}var E1,yU;function dbe(){if(yU)return E1;yU=1;var t=cs(),e=t.Uint8Array;return E1=e,E1}var S1,vU;function hbe(){if(vU)return S1;vU=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return S1=t,S1}var A1,bU;function RR(){if(bU)return A1;bU=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return A1=t,A1}var C1,xU;function pbe(){if(xU)return C1;xU=1;var t=Cm(),e=dbe(),n=vR(),r=LG(),i=hbe(),o=RR(),s=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",y="[object Number]",_="[object RegExp]",S="[object Set]",A="[object String]",E="[object Symbol]",M="[object ArrayBuffer]",I="[object DataView]",N=t?t.prototype:void 0,C=N?N.valueOf:void 0;function R(L,P,O,j,q,F,z){switch(O){case I:if(L.byteLength!=P.byteLength||L.byteOffset!=P.byteOffset)return!1;L=L.buffer,P=P.buffer;case M:return!(L.byteLength!=P.byteLength||!F(new e(L),new e(P)));case c:case f:case y:return n(+L,+P);case h:return L.name==P.name&&L.message==P.message;case _:case A:return L==P+"";case p:var B=i;case S:var X=j&s;if(B||(B=o),L.size!=P.size&&!X)return!1;var ie=z.get(L);if(ie)return ie==P;j|=l,z.set(L,P);var W=r(B(L),B(P),j,q,F,z);return z.delete(L),W;case E:if(C)return C.call(L)==C.call(P)}return!1}return C1=R,C1}var I1,_U;function jG(){if(_U)return I1;_U=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return I1=t,I1}var N1,wU;function mbe(){if(wU)return N1;wU=1;var t=jG(),e=Wr();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return N1=n,N1}var R1,TU;function gbe(){if(TU)return R1;TU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var l=e[r];n(l,r,e)&&(s[o++]=l)}return s}return R1=t,R1}var k1,EU;function ybe(){if(EU)return k1;EU=1;function t(){return[]}return k1=t,k1}var P1,SU;function vbe(){if(SU)return P1;SU=1;var t=gbe(),e=ybe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return r.call(s,l)}))}:e;return P1=o,P1}var M1,AU;function bbe(){if(AU)return M1;AU=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return M1=t,M1}var O1,CU;function xbe(){if(CU)return O1;CU=1;var t=ra(),e=ia(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return O1=r,O1}var D1,IU;function kR(){if(IU)return D1;IU=1;var t=xbe(),e=ia(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return D1=o,D1}var Dh={exports:{}},L1,NU;function _be(){if(NU)return L1;NU=1;function t(){return!1}return L1=t,L1}Dh.exports;var RU;function VG(){return RU||(RU=1,(function(t,e){var n=cs(),r=_be(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f})(Dh,Dh.exports)),Dh.exports}var j1,kU;function PR(){if(kU)return j1;kU=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return j1=n,j1}var V1,PU;function MR(){if(PU)return V1;PU=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return V1=e,V1}var U1,MU;function wbe(){if(MU)return U1;MU=1;var t=ra(),e=MR(),n=ia(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",y="[object RegExp]",_="[object Set]",S="[object String]",A="[object WeakMap]",E="[object ArrayBuffer]",M="[object DataView]",I="[object Float32Array]",N="[object Float64Array]",C="[object Int8Array]",R="[object Int16Array]",L="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",j="[object Uint16Array]",q="[object Uint32Array]",F={};F[I]=F[N]=F[C]=F[R]=F[L]=F[P]=F[O]=F[j]=F[q]=!0,F[r]=F[i]=F[E]=F[o]=F[M]=F[s]=F[l]=F[c]=F[f]=F[h]=F[p]=F[y]=F[_]=F[S]=F[A]=!1;function z(B){return n(B)&&e(B.length)&&!!F[t(B)]}return U1=z,U1}var B1,OU;function UG(){if(OU)return B1;OU=1;function t(e){return function(n){return e(n)}}return B1=t,B1}var Lh={exports:{}};Lh.exports;var DU;function Tbe(){return DU||(DU=1,(function(t,e){var n=oG(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Lh,Lh.exports)),Lh.exports}var F1,LU;function BG(){if(LU)return F1;LU=1;var t=wbe(),e=UG(),n=Tbe(),r=n&&n.isTypedArray,i=r?e(r):t;return F1=i,F1}var q1,jU;function Ebe(){if(jU)return q1;jU=1;var t=bbe(),e=kR(),n=Wr(),r=VG(),i=PR(),o=BG(),s=Object.prototype,l=s.hasOwnProperty;function c(f,h){var p=n(f),y=!p&&e(f),_=!p&&!y&&r(f),S=!p&&!y&&!_&&o(f),A=p||y||_||S,E=A?t(f.length,String):[],M=E.length;for(var I in f)(h||l.call(f,I))&&!(A&&(I=="length"||_&&(I=="offset"||I=="parent")||S&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||i(I,M)))&&E.push(I);return E}return q1=c,q1}var z1,VU;function Sbe(){if(VU)return z1;VU=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return z1=e,z1}var $1,UU;function FG(){if(UU)return $1;UU=1;function t(e,n){return function(r){return e(n(r))}}return $1=t,$1}var G1,BU;function Abe(){if(BU)return G1;BU=1;var t=FG(),e=t(Object.keys,Object);return G1=e,G1}var H1,FU;function Cbe(){if(FU)return H1;FU=1;var t=Sbe(),e=Abe(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var l in Object(o))r.call(o,l)&&l!="constructor"&&s.push(l);return s}return H1=i,H1}var K1,qU;function Rm(){if(qU)return K1;qU=1;var t=yR(),e=MR();function n(r){return r!=null&&e(r.length)&&!t(r)}return K1=n,K1}var W1,zU;function qb(){if(zU)return W1;zU=1;var t=Ebe(),e=Cbe(),n=Rm();function r(i){return n(i)?t(i):e(i)}return W1=r,W1}var Y1,$U;function Ibe(){if($U)return Y1;$U=1;var t=mbe(),e=vbe(),n=qb();function r(i){return t(i,n,e)}return Y1=r,Y1}var J1,GU;function Nbe(){if(GU)return J1;GU=1;var t=Ibe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,l,c,f,h){var p=l&e,y=t(o),_=y.length,S=t(s),A=S.length;if(_!=A&&!p)return!1;for(var E=_;E--;){var M=y[E];if(!(p?M in s:r.call(s,M)))return!1}var I=h.get(o),N=h.get(s);if(I&&N)return I==s&&N==o;var C=!0;h.set(o,s),h.set(s,o);for(var R=p;++E<_;){M=y[E];var L=o[M],P=s[M];if(c)var O=p?c(P,L,M,s,o,h):c(L,P,M,o,s,h);if(!(O===void 0?L===P||f(L,P,l,c,h):O)){C=!1;break}R||(R=M=="constructor")}if(C&&!R){var j=o.constructor,q=s.constructor;j!=q&&"constructor"in o&&"constructor"in s&&!(typeof j=="function"&&j instanceof j&&typeof q=="function"&&q instanceof q)&&(C=!1)}return h.delete(o),h.delete(s),C}return J1=i,J1}var X1,HU;function Rbe(){if(HU)return X1;HU=1;var t=Xu(),e=cs(),n=t(e,"DataView");return X1=n,X1}var Q1,KU;function kbe(){if(KU)return Q1;KU=1;var t=Xu(),e=cs(),n=t(e,"Promise");return Q1=n,Q1}var Z1,WU;function qG(){if(WU)return Z1;WU=1;var t=Xu(),e=cs(),n=t(e,"Set");return Z1=n,Z1}var eE,YU;function Pbe(){if(YU)return eE;YU=1;var t=Xu(),e=cs(),n=t(e,"WeakMap");return eE=n,eE}var tE,JU;function Mbe(){if(JU)return tE;JU=1;var t=Rbe(),e=bR(),n=kbe(),r=qG(),i=Pbe(),o=ra(),s=sG(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",y="[object DataView]",_=s(t),S=s(e),A=s(n),E=s(r),M=s(i),I=o;return(t&&I(new t(new ArrayBuffer(1)))!=y||e&&I(new e)!=l||n&&I(n.resolve())!=f||r&&I(new r)!=h||i&&I(new i)!=p)&&(I=function(N){var C=o(N),R=C==c?N.constructor:void 0,L=R?s(R):"";if(L)switch(L){case _:return y;case S:return l;case A:return f;case E:return h;case M:return p}return C}),tE=I,tE}var nE,XU;function Obe(){if(XU)return nE;XU=1;var t=PG(),e=LG(),n=pbe(),r=Nbe(),i=Mbe(),o=Wr(),s=VG(),l=BG(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function S(A,E,M,I,N,C){var R=o(A),L=o(E),P=R?h:i(A),O=L?h:i(E);P=P==f?p:P,O=O==f?p:O;var j=P==p,q=O==p,F=P==O;if(F&&s(A)){if(!s(E))return!1;R=!0,j=!1}if(F&&!j)return C||(C=new t),R||l(A)?e(A,E,M,I,N,C):n(A,E,P,M,I,N,C);if(!(M&c)){var z=j&&_.call(A,"__wrapped__"),B=q&&_.call(E,"__wrapped__");if(z||B){var X=z?A.value():A,ie=B?E.value():E;return C||(C=new t),N(X,ie,M,I,C)}}return F?(C||(C=new t),r(A,E,M,I,N,C)):!1}return nE=S,nE}var rE,QU;function OR(){if(QU)return rE;QU=1;var t=Obe(),e=ia();function n(r,i,o,s,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,l)}return rE=n,rE}var iE,ZU;function Dbe(){if(ZU)return iE;ZU=1;var t=PG(),e=OR(),n=1,r=2;function i(o,s,l,c){var f=l.length,h=f,p=!c;if(o==null)return!h;for(o=Object(o);f--;){var y=l[f];if(p&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++f<h;){y=l[f];var _=y[0],S=o[_],A=y[1];if(p&&y[2]){if(S===void 0&&!(_ in o))return!1}else{var E=new t;if(c)var M=c(S,A,_,o,s,E);if(!(M===void 0?e(A,S,n|r,c,E):M))return!1}}return!0}return iE=i,iE}var oE,e4;function zG(){if(e4)return oE;e4=1;var t=Sl();function e(n){return n===n&&!t(n)}return oE=e,oE}var sE,t4;function Lbe(){if(t4)return sE;t4=1;var t=zG(),e=qb();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],l=r[s];i[o]=[s,l,t(l)]}return i}return sE=n,sE}var aE,n4;function $G(){if(n4)return aE;n4=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return aE=t,aE}var lE,r4;function jbe(){if(r4)return lE;r4=1;var t=Dbe(),e=Lbe(),n=$G();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return lE=r,lE}var uE,i4;function Vbe(){if(i4)return uE;i4=1;function t(e,n){return e!=null&&n in Object(e)}return uE=t,uE}var cE,o4;function Ube(){if(o4)return cE;o4=1;var t=uG(),e=kR(),n=Wr(),r=PR(),i=MR(),o=jb();function s(l,c,f){c=t(c,l);for(var h=-1,p=c.length,y=!1;++h<p;){var _=o(c[h]);if(!(y=l!=null&&f(l,_)))break;l=l[_]}return y||++h!=p?y:(p=l==null?0:l.length,!!p&&i(p)&&r(_,p)&&(n(l)||e(l)))}return cE=s,cE}var fE,s4;function Bbe(){if(s4)return fE;s4=1;var t=Vbe(),e=Ube();function n(r,i){return r!=null&&e(r,i,t)}return fE=n,fE}var dE,a4;function Fbe(){if(a4)return dE;a4=1;var t=OR(),e=cG(),n=Bbe(),r=gR(),i=zG(),o=$G(),s=jb(),l=1,c=2;function f(h,p){return r(h)&&i(p)?o(s(h),p):function(y){var _=e(y,h);return _===void 0&&_===p?n(y,h):t(p,_,l|c)}}return dE=f,dE}var hE,l4;function rd(){if(l4)return hE;l4=1;function t(e){return e}return hE=t,hE}var pE,u4;function qbe(){if(u4)return pE;u4=1;function t(e){return function(n){return n==null?void 0:n[e]}}return pE=t,pE}var mE,c4;function zbe(){if(c4)return mE;c4=1;var t=wR();function e(n){return function(r){return t(r,n)}}return mE=e,mE}var gE,f4;function $be(){if(f4)return gE;f4=1;var t=qbe(),e=zbe(),n=gR(),r=jb();function i(o){return n(o)?t(r(o)):e(o)}return gE=i,gE}var yE,d4;function Al(){if(d4)return yE;d4=1;var t=jbe(),e=Fbe(),n=rd(),r=Wr(),i=$be();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return yE=o,yE}var vE,h4;function GG(){if(h4)return vE;h4=1;function t(e,n,r,i){for(var o=e.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(e[s],s,e))return s;return-1}return vE=t,vE}var bE,p4;function Gbe(){if(p4)return bE;p4=1;function t(e){return e!==e}return bE=t,bE}var xE,m4;function Hbe(){if(m4)return xE;m4=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return xE=t,xE}var _E,g4;function Kbe(){if(g4)return _E;g4=1;var t=GG(),e=Gbe(),n=Hbe();function r(i,o,s){return o===o?n(i,o,s):t(i,e,s)}return _E=r,_E}var wE,y4;function Wbe(){if(y4)return wE;y4=1;var t=Kbe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return wE=e,wE}var TE,v4;function Ybe(){if(v4)return TE;v4=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return TE=t,TE}var EE,b4;function Jbe(){if(b4)return EE;b4=1;function t(){}return EE=t,EE}var SE,x4;function Xbe(){if(x4)return SE;x4=1;var t=qG(),e=Jbe(),n=RR(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return SE=i,SE}var AE,_4;function Qbe(){if(_4)return AE;_4=1;var t=MG(),e=Wbe(),n=Ybe(),r=DG(),i=Xbe(),o=RR(),s=200;function l(c,f,h){var p=-1,y=e,_=c.length,S=!0,A=[],E=A;if(h)S=!1,y=n;else if(_>=s){var M=f?null:i(c);if(M)return o(M);S=!1,y=r,E=new t}else E=f?[]:A;e:for(;++p<_;){var I=c[p],N=f?f(I):I;if(I=h||I!==0?I:0,S&&N===N){for(var C=E.length;C--;)if(E[C]===N)continue e;f&&E.push(N),A.push(I)}else y(E,N,h)||(E!==A&&E.push(N),A.push(I))}return A}return AE=l,AE}var CE,w4;function Zbe(){if(w4)return CE;w4=1;var t=Al(),e=Qbe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return CE=n,CE}var exe=Zbe();const T4=Ht(exe);function HG(t,e,n){return e===!0?T4(t,n):ht(e)?T4(t,e):t}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}var txe=["ref"];function E4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(r){zb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YG(r.key),r)}}function rxe(t,e,n){return e&&S4(t.prototype,e),n&&S4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ixe(t,e,n){return e=r0(e),oxe(t,KG()?Reflect.construct(e,n||[],r0(t).constructor):e.apply(t,n))}function oxe(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WG(t)}function KG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KG=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r0(t)}function WG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wC(t,e)}function wC(t,e){return wC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wC(t,e)}function zb(t,e,n){return e=YG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YG(t){var e=axe(t,"string");return kf(e)=="symbol"?e:String(e)}function axe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lxe(t,e){if(t==null)return{};var n=uxe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cxe(t){return t.value}function fxe(t,e){if(re.isValidElement(t))return re.cloneElement(t,e);if(typeof t=="function")return re.createElement(t,e);e.ref;var n=lxe(e,txe);return re.createElement(NR,n)}var A4=1,Tp=(function(t){sxe(e,t);function e(){var n;nxe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ixe(this,e,[].concat(i)),zb(WG(n),"lastBoundingBox",{width:-1,height:-1}),n}return rxe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.lastBoundingBox.width)>A4||Math.abs(i.height-this.lastBoundingBox.height)>A4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?su({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var _=this.getBBoxSnapshot();p={left:((f||0)-_.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();y={top:((h||0)-S.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return su(su({},p),y)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=su(su({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return re.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(_){r.wrapperNode=_}},fxe(o,su(su({},this.props),{},{payload:HG(h,f,cxe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=r.props.layout;return o==="vertical"&&ke(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}]),e})(Y.PureComponent);zb(Tp,"displayName","Legend");zb(Tp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var IE,C4;function dxe(){if(C4)return IE;C4=1;var t=Cm(),e=kR(),n=Wr(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return IE=i,IE}var NE,I4;function JG(){if(I4)return NE;I4=1;var t=jG(),e=dxe();function n(r,i,o,s,l){var c=-1,f=r.length;for(o||(o=e),l||(l=[]);++c<f;){var h=r[c];i>0&&o(h)?i>1?n(h,i-1,o,s,l):t(l,h):s||(l[l.length]=h)}return l}return NE=n,NE}var RE,N4;function hxe(){if(N4)return RE;N4=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++o];if(r(s[f],f,s)===!1)break}return n}}return RE=t,RE}var kE,R4;function pxe(){if(R4)return kE;R4=1;var t=hxe(),e=t();return kE=e,kE}var PE,k4;function XG(){if(k4)return PE;k4=1;var t=pxe(),e=qb();function n(r,i){return r&&t(r,i,e)}return PE=n,PE}var ME,P4;function mxe(){if(P4)return ME;P4=1;var t=Rm();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&o(c[l],l,c)!==!1;);return i}}return ME=e,ME}var OE,M4;function DR(){if(M4)return OE;M4=1;var t=XG(),e=mxe(),n=e(t);return OE=n,OE}var DE,O4;function QG(){if(O4)return DE;O4=1;var t=DR(),e=Rm();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(l,c,f){s[++o]=i(l,c,f)}),s}return DE=n,DE}var LE,D4;function gxe(){if(D4)return LE;D4=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return LE=t,LE}var jE,L4;function yxe(){if(L4)return jE;L4=1;var t=ed();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,l=t(n),c=r!==void 0,f=r===null,h=r===r,p=t(r);if(!f&&!p&&!l&&n>r||l&&c&&h&&!f&&!p||o&&c&&h||!i&&h||!s)return 1;if(!o&&!l&&!p&&n<r||p&&i&&s&&!o&&!l||f&&i&&s||!c&&s||!h)return-1}return 0}return jE=e,jE}var VE,j4;function vxe(){if(j4)return VE;j4=1;var t=yxe();function e(n,r,i){for(var o=-1,s=n.criteria,l=r.criteria,c=s.length,f=i.length;++o<c;){var h=t(s[o],l[o]);if(h){if(o>=f)return h;var p=i[o];return h*(p=="desc"?-1:1)}}return n.index-r.index}return VE=e,VE}var UE,V4;function bxe(){if(V4)return UE;V4=1;var t=_R(),e=wR(),n=Al(),r=QG(),i=gxe(),o=UG(),s=vxe(),l=rd(),c=Wr();function f(h,p,y){p.length?p=t(p,function(A){return c(A)?function(E){return e(E,A.length===1?A[0]:A)}:A}):p=[l];var _=-1;p=t(p,o(n));var S=r(h,function(A,E,M){var I=t(p,function(N){return N(A)});return{criteria:I,index:++_,value:A}});return i(S,function(A,E){return s(A,E,y)})}return UE=f,UE}var BE,U4;function xxe(){if(U4)return BE;U4=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return BE=t,BE}var FE,B4;function _xe(){if(B4)return FE;B4=1;var t=xxe(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=o(f),t(r,this,h)}}return FE=n,FE}var qE,F4;function wxe(){if(F4)return qE;F4=1;function t(e){return function(){return e}}return qE=t,qE}var zE,q4;function ZG(){if(q4)return zE;q4=1;var t=Xu(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return zE=e,zE}var $E,z4;function Txe(){if(z4)return $E;z4=1;var t=wxe(),e=ZG(),n=rd(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return $E=r,$E}var GE,$4;function Exe(){if($4)return GE;$4=1;var t=800,e=16,n=Date.now;function r(i){var o=0,s=0;return function(){var l=n(),c=e-(l-s);if(s=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return GE=r,GE}var HE,G4;function Sxe(){if(G4)return HE;G4=1;var t=Txe(),e=Exe(),n=e(t);return HE=n,HE}var KE,H4;function Axe(){if(H4)return KE;H4=1;var t=rd(),e=_xe(),n=Sxe();function r(i,o){return n(e(i,o,t),i+"")}return KE=r,KE}var WE,K4;function $b(){if(K4)return WE;K4=1;var t=vR(),e=Rm(),n=PR(),r=Sl();function i(o,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?e(l)&&n(s,l.length):c=="string"&&s in l)?t(l[s],o):!1}return WE=i,WE}var YE,W4;function Cxe(){if(W4)return YE;W4=1;var t=JG(),e=bxe(),n=Axe(),r=$b(),i=n(function(o,s){if(o==null)return[];var l=s.length;return l>1&&r(o,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return YE=i,YE}var Ixe=Cxe();const LR=Ht(Ixe);function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function TC(){return TC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TC.apply(this,arguments)}function Nxe(t,e){return Mxe(t)||Pxe(t,e)||kxe(t,e)||Rxe()}function Rxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kxe(t,e){if(t){if(typeof t=="string")return Y4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y4(t,e)}}function Y4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Mxe(t){if(Array.isArray(t))return t}function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){Oxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oxe(t,e,n){return e=Dxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dxe(t){var e=Lxe(t,"string");return Ep(e)=="symbol"?e:String(e)}function Lxe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jxe(t){return Array.isArray(t)&&Bn(t[0])&&Bn(t[1])?t.join(" ~ "):t}var Vxe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,y=e.itemSorter,_=e.wrapperClassName,S=e.labelClassName,A=e.label,E=e.labelFormatter,M=e.accessibilityLayer,I=M===void 0?!1:M,N=function(){if(h&&h.length){var z={padding:0,margin:0},B=(y?LR(h,y):h).map(function(X,ie){if(X.type==="none")return null;var W=JE({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},l),ee=X.formatter||p||jxe,se=X.value,ge=X.name,K=se,V=ge;if(ee&&K!=null&&V!=null){var $=ee(se,ge,X,ie,h);if(Array.isArray($)){var J=Nxe($,2);K=J[0],V=J[1]}else K=$}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ie),style:W},Bn(V)?re.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Bn(V)?re.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,re.createElement("span",{className:"recharts-tooltip-item-value"},K),re.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:z},B)}return null},C=JE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),R=JE({margin:0},f),L=!_t(A),P=L?A:"",O=Vt("recharts-default-tooltip",_),j=Vt("recharts-tooltip-label",S);L&&E&&h!==void 0&&h!==null&&(P=E(A,h));var q=I?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",TC({className:O,style:C},q),re.createElement("p",{className:j,style:R},re.isValidElement(P)?P:"".concat(P)),N())};function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Ny(t,e,n){return e=Uxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uxe(t){var e=Bxe(t,"string");return Sp(e)=="symbol"?e:String(e)}function Bxe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vh="recharts-tooltip-wrapper",Fxe={visibility:"hidden"};function qxe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Vt(vh,Ny(Ny(Ny(Ny({},"".concat(vh,"-right"),ke(n)&&e&&ke(e.x)&&n>=e.x),"".concat(vh,"-left"),ke(n)&&e&&ke(e.x)&&n<e.x),"".concat(vh,"-bottom"),ke(r)&&e&&ke(e.y)&&r>=e.y),"".concat(vh,"-top"),ke(r)&&e&&ke(e.y)&&r<e.y))}function X4(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&ke(o[r]))return o[r];var h=n[r]-l-i,p=n[r]+i;if(e[r])return s[r]?h:p;if(s[r]){var y=h,_=c[r];return y<_?Math.max(p,c[r]):Math.max(h,c[r])}var S=p+l,A=c[r]+f;return S>A?Math.max(h,c[r]):Math.max(p,c[r])}function zxe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function $xe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,p;return s.height>0&&s.width>0&&n?(h=X4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=X4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=zxe({translateX:h,translateY:p,useTranslate3d:l})):f=Fxe,{cssProperties:f,cssClasses:qxe({translateX:h,translateY:p,coordinate:n})}}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function Q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(n),!0).forEach(function(r){ov(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tH(r.key),r)}}function Kxe(t,e,n){return e&&Hxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wxe(t,e,n){return e=i0(e),Yxe(t,eH()?Reflect.construct(e,n||[],i0(t).constructor):e.apply(t,n))}function Yxe(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iv(t)}function eH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eH=function(){return!!t})()}function i0(t){return i0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i0(t)}function iv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EC(t,e)}function EC(t,e){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EC(t,e)}function ov(t,e,n){return e=tH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tH(t){var e=Xxe(t,"string");return Pf(e)=="symbol"?e:String(e)}function Xxe(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e3=1,Qxe=(function(t){Jxe(e,t);function e(){var n;Gxe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Wxe(this,e,[].concat(i)),ov(iv(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ov(iv(n),"lastBoundingBox",{width:-1,height:-1}),ov(iv(n),"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return Kxe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.lastBoundingBox.width)>e3||Math.abs(r.height-this.lastBoundingBox.height)>e3)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,_=i.offset,S=i.position,A=i.reverseDirection,E=i.useTranslate3d,M=i.viewBox,I=i.wrapperStyle,N=$xe({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:_,position:S,reverseDirection:A,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:E,viewBox:M}),C=N.cssClasses,R=N.cssProperties,L=Z4(Z4({transition:y&&o?"transform ".concat(l,"ms ").concat(c):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},I);return re.createElement("div",{tabIndex:-1,className:C,style:L,ref:function(O){r.wrapperNode=O}},f)}}]),e})(Y.PureComponent),Zxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},id={isSsr:Zxe()};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function t3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t3(Object(n),!0).forEach(function(r){jR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rH(r.key),r)}}function n_e(t,e,n){return e&&t_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r_e(t,e,n){return e=o0(e),i_e(t,nH()?Reflect.construct(e,n||[],o0(t).constructor):e.apply(t,n))}function i_e(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o_e(t)}function o_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!t})()}function o0(t){return o0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o0(t)}function s_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SC(t,e)}function SC(t,e){return SC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SC(t,e)}function jR(t,e,n){return e=rH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rH(t){var e=a_e(t,"string");return Mf(e)=="symbol"?e:String(e)}function a_e(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function l_e(t){return t.dataKey}function u_e(t,e){return re.isValidElement(t)?re.cloneElement(t,e):typeof t=="function"?re.createElement(t,e):re.createElement(Vxe,e)}var ks=(function(t){s_e(e,t);function e(){return e_e(this,e),r_e(this,e,arguments)}return n_e(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,y=i.isAnimationActive,_=i.offset,S=i.payload,A=i.payloadUniqBy,E=i.position,M=i.reverseDirection,I=i.useTranslate3d,N=i.viewBox,C=i.wrapperStyle,R=S??[];p&&R.length&&(R=HG(S.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),A,l_e));var L=R.length>0;return re.createElement(Qxe,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:y,active:o,coordinate:h,hasPayload:L,offset:_,position:E,reverseDirection:M,useTranslate3d:I,viewBox:N,wrapperStyle:C},u_e(f,n3(n3({},this.props),{},{payload:R})))}}]),e})(Y.PureComponent);jR(ks,"displayName","Tooltip");jR(ks,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!id.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var XE,r3;function c_e(){if(r3)return XE;r3=1;var t=cs(),e=function(){return t.Date.now()};return XE=e,XE}var QE,i3;function f_e(){if(i3)return QE;i3=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return QE=e,QE}var ZE,o3;function d_e(){if(o3)return ZE;o3=1;var t=f_e(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return ZE=n,ZE}var eS,s3;function iH(){if(s3)return eS;s3=1;var t=d_e(),e=Sl(),n=ed(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||s.test(f)?l(f.slice(2),p?2:8):i.test(f)?r:+f}return eS=c,eS}var tS,a3;function h_e(){if(a3)return tS;a3=1;var t=Sl(),e=c_e(),n=iH(),r="Expected a function",i=Math.max,o=Math.min;function s(l,c,f){var h,p,y,_,S,A,E=0,M=!1,I=!1,N=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(M=!!f.leading,I="maxWait"in f,y=I?i(n(f.maxWait)||0,c):y,N="trailing"in f?!!f.trailing:N);function C(B){var X=h,ie=p;return h=p=void 0,E=B,_=l.apply(ie,X),_}function R(B){return E=B,S=setTimeout(O,c),M?C(B):_}function L(B){var X=B-A,ie=B-E,W=c-X;return I?o(W,y-ie):W}function P(B){var X=B-A,ie=B-E;return A===void 0||X>=c||X<0||I&&ie>=y}function O(){var B=e();if(P(B))return j(B);S=setTimeout(O,L(B))}function j(B){return S=void 0,N&&h?C(B):(h=p=void 0,_)}function q(){S!==void 0&&clearTimeout(S),E=0,h=A=p=S=void 0}function F(){return S===void 0?_:j(e())}function z(){var B=e(),X=P(B);if(h=arguments,p=this,A=B,X){if(S===void 0)return R(A);if(I)return clearTimeout(S),S=setTimeout(O,c),C(A)}return S===void 0&&(S=setTimeout(O,c)),_}return z.cancel=q,z.flush=F,z}return tS=s,tS}var nS,l3;function p_e(){if(l3)return nS;l3=1;var t=h_e(),e=Sl(),n="Expected a function";function r(i,o,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return nS=r,nS}var m_e=p_e();const oH=Ht(m_e);function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function u3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(n),!0).forEach(function(r){g_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g_e(t,e,n){return e=y_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y_e(t){var e=v_e(t,"string");return Ap(e)=="symbol"?e:String(e)}function v_e(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b_e(t,e){return T_e(t)||w_e(t,e)||__e(t,e)||x_e()}function x_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function __e(t,e){if(t){if(typeof t=="string")return c3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c3(t,e)}}function c3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function T_e(t){if(Array.isArray(t))return t}var E_e=Y.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,y=t.maxHeight,_=t.children,S=t.debounce,A=S===void 0?0:S,E=t.id,M=t.className,I=t.onResize,N=t.style,C=N===void 0?{}:N,R=Y.useRef(null),L=Y.useRef();L.current=I,Y.useImperativeHandle(e,function(){return Object.defineProperty(R.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),R.current},configurable:!0})});var P=Y.useState({containerWidth:i.width,containerHeight:i.height}),O=b_e(P,2),j=O[0],q=O[1],F=Y.useCallback(function(B,X){q(function(ie){var W=Math.round(B),ee=Math.round(X);return ie.containerWidth===W&&ie.containerHeight===ee?ie:{containerWidth:W,containerHeight:ee}})},[]);Y.useEffect(function(){var B=function(ge){var K,V=ge[0].contentRect,$=V.width,J=V.height;F($,J),(K=L.current)===null||K===void 0||K.call(L,$,J)};A>0&&(B=oH(B,A,{trailing:!0,leading:!1}));var X=new ResizeObserver(B),ie=R.current.getBoundingClientRect(),W=ie.width,ee=ie.height;return F(W,ee),X.observe(R.current),function(){X.disconnect()}},[F,A]);var z=Y.useMemo(function(){var B=j.containerWidth,X=j.containerHeight;if(B<0||X<0)return null;Nu(bu(s)||bu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Nu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ie=bu(s)?B:s,W=bu(c)?X:c;n&&n>0&&(ie?W=ie/n:W&&(ie=W*n),y&&W>y&&(W=y)),Nu(ie>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ie,W,s,c,h,p,n);var ee=!Array.isArray(_)&&lC.isElement(_)&&Bs(_.type).endsWith("Chart");return re.Children.map(_,function(se){return lC.isElement(se)?Y.cloneElement(se,Ry({width:ie,height:W},ee?{style:Ry({height:"100%",width:"100%",maxHeight:W,maxWidth:ie},se.props.style)}:{})):se})},[n,_,c,y,p,h,j,s]);return re.createElement("div",{id:E?"".concat(E):void 0,className:Vt("recharts-responsive-container",M),style:Ry(Ry({},C),{},{width:s,height:c,minWidth:h,minHeight:p,maxHeight:y}),ref:R},z)}),sH=function(e){return null};sH.displayName="Cell";function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function f3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(n),!0).forEach(function(r){S_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S_e(t,e,n){return e=A_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A_e(t){var e=C_e(t,"string");return Cp(e)=="symbol"?e:String(e)}function C_e(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zc={widthCache:{},cacheCount:0},I_e=2e3,N_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},d3="recharts_measurement_span";function R_e(t){var e=AC({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Qh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||id.isSsr)return{width:0,height:0};var r=R_e(n),i=JSON.stringify({text:e,copyStyle:r});if(zc.widthCache[i])return zc.widthCache[i];try{var o=document.getElementById(d3);o||(o=document.createElement("span"),o.setAttribute("id",d3),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=AC(AC({},N_e),r);Object.assign(o.style,s),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return zc.widthCache[i]=c,++zc.cacheCount>I_e&&(zc.cacheCount=0,zc.widthCache={}),c}catch{return{width:0,height:0}}},k_e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function s0(t,e){return D_e(t)||O_e(t,e)||M_e(t,e)||P_e()}function P_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M_e(t,e){if(t){if(typeof t=="string")return h3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h3(t,e)}}function h3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function D_e(t){if(Array.isArray(t))return t}function L_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V_e(r.key),r)}}function j_e(t,e,n){return e&&p3(t.prototype,e),n&&p3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V_e(t){var e=U_e(t,"string");return Ip(e)=="symbol"?e:String(e)}function U_e(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,B_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,F_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},q_e=Object.keys(aH),of="NaN";function z_e(t,e){return t*aH[e]}var ky=(function(){function t(e,n){L_e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!B_e.test(n)&&(this.num=NaN,this.unit=""),q_e.includes(n)&&(this.num=z_e(e,n),this.unit="px")}return j_e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=F_e.exec(n))!==null&&r!==void 0?r:[],o=s0(i,3),s=o[1],l=o[2];return new t(parseFloat(s),l??"")}}]),t})();function lH(t){if(t.includes(of))return of;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=m3.exec(e))!==null&&n!==void 0?n:[],i=s0(r,4),o=i[1],s=i[2],l=i[3],c=ky.parse(o??""),f=ky.parse(l??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return of;e=e.replace(m3,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=g3.exec(e))!==null&&p!==void 0?p:[],_=s0(y,4),S=_[1],A=_[2],E=_[3],M=ky.parse(S??""),I=ky.parse(E??""),N=A==="+"?M.add(I):M.subtract(I);if(N.isNaN())return of;e=e.replace(g3,N.toString())}return e}var y3=/\(([^()]*)\)/;function $_e(t){for(var e=t;e.includes("(");){var n=y3.exec(e),r=s0(n,2),i=r[1];e=e.replace(y3,lH(i))}return e}function G_e(t){var e=t.replace(/\s+/g,"");return e=$_e(e),e=lH(e),e}function H_e(t){try{return G_e(t)}catch{return of}}function rS(t){var e=H_e(t.slice(5,-1));return e===of?"":e}var K_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],W_e=["dx","dy","angle","className","breakAll"];function CC(){return CC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CC.apply(this,arguments)}function v3(t,e){if(t==null)return{};var n=Y_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Y_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function b3(t,e){return Z_e(t)||Q_e(t,e)||X_e(t,e)||J_e()}function J_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X_e(t,e){if(t){if(typeof t=="string")return x3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x3(t,e)}}function x3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Z_e(t){if(Array.isArray(t))return t}var uH=/[ \f\n\r\t\v\u2028\u2029]+/,cH=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];_t(n)||(r?o=n.toString().split(""):o=n.toString().split(uH));var s=o.map(function(c){return{word:c,width:Qh(c,i).width}}),l=r?0:Qh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},ewe=function(e,n,r,i,o){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=ke(s),p=l,y=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ie.reduce(function(W,ee){var se=ee.word,ge=ee.width,K=W[W.length-1];if(K&&(i==null||o||K.width+ge+r<Number(i)))K.words.push(se),K.width+=ge+r;else{var V={words:[se],width:ge};W.push(V)}return W},[])},_=y(n),S=function(ie){return ie.reduce(function(W,ee){return W.width>ee.width?W:ee})};if(!h)return _;for(var A="",E=function(ie){var W=p.slice(0,ie),ee=cH({breakAll:f,style:c,children:W+A}).wordsWithComputedWidth,se=y(ee),ge=se.length>s||S(se).width>Number(i);return[ge,se]},M=0,I=p.length-1,N=0,C;M<=I&&N<=p.length-1;){var R=Math.floor((M+I)/2),L=R-1,P=E(L),O=b3(P,2),j=O[0],q=O[1],F=E(R),z=b3(F,1),B=z[0];if(!j&&!B&&(M=R+1),j&&B&&(I=R-1),!j&&B){C=q;break}N++}return C||_},_3=function(e){var n=_t(e)?[]:e.toString().split(uH);return[{words:n}]},twe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!id.isSsr){var c,f,h=cH({breakAll:s,children:i,style:o});if(h){var p=h.wordsWithComputedWidth,y=h.spaceWidth;c=p,f=y}else return _3(i);return ewe({breakAll:s,children:i,maxLines:l,style:o},c,f,n,r)}return _3(i)},w3="#808080",a0=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,y=e.textAnchor,_=y===void 0?"start":y,S=e.verticalAnchor,A=S===void 0?"end":S,E=e.fill,M=E===void 0?w3:E,I=v3(e,K_e),N=Y.useMemo(function(){return twe({breakAll:I.breakAll,children:I.children,maxLines:I.maxLines,scaleToFit:p,style:I.style,width:I.width})},[I.breakAll,I.children,I.maxLines,p,I.style,I.width]),C=I.dx,R=I.dy,L=I.angle,P=I.className,O=I.breakAll,j=v3(I,W_e);if(!Bn(r)||!Bn(o))return null;var q=r+(ke(C)?C:0),F=o+(ke(R)?R:0),z;switch(A){case"start":z=rS("calc(".concat(f,")"));break;case"middle":z=rS("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:z=rS("calc(".concat(N.length-1," * -").concat(l,")"));break}var B=[];if(p){var X=N[0].width,ie=I.width;B.push("scale(".concat((ke(ie)?ie/X:1)/X,")"))}return L&&B.push("rotate(".concat(L,", ").concat(q,", ").concat(F,")")),B.length&&(j.transform=B.join(" ")),re.createElement("text",CC({},mt(j,!0),{x:q,y:F,className:Vt("recharts-text",P),textAnchor:_,fill:M.includes("url")?w3:M}),N.map(function(W,ee){var se=W.words.join(O?"":" ");return re.createElement("tspan",{x:q,dy:ee===0?z:l,key:se},se)}))};function ol(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nwe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VR(t){let e,n,r;t.length!==2?(e=ol,n=(l,c)=>ol(t(l),c),r=(l,c)=>t(l)-c):(e=t===ol||t===nwe?t:rwe,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(l,c,f=0,h=l.length){const p=i(l,c,f,h-1);return p>f&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:s,right:o}}function rwe(){return 0}function fH(t){return t===null?NaN:+t}function*iwe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const owe=VR(ol),km=owe.right;VR(fH).center;class T3 extends Map{constructor(e,n=lwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(E3(this,e))}has(e){return super.has(E3(this,e))}set(e,n){return super.set(swe(this,e),n)}delete(e){return super.delete(awe(this,e))}}function E3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function swe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function awe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lwe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function uwe(t=ol){if(t===ol)return dH;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function dH(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const cwe=Math.sqrt(50),fwe=Math.sqrt(10),dwe=Math.sqrt(2);function l0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=cwe?10:o>=fwe?5:o>=dwe?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?l0(t,e,n*2):[l,c,f]}function IC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?l0(e,t,n):l0(t,e,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)c[f]=(o-f)/-s;else for(let f=0;f<l;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function NC(t,e,n){return e=+e,t=+t,n=+n,l0(t,e,n)[2]}function RC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?NC(e,t,n):NC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function S3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function A3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hH(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?dH:uwe(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),_=Math.max(n,Math.floor(e-f*p/c+y)),S=Math.min(r,Math.floor(e+(c-f)*p/c+y));hH(t,e,_,S,i)}const o=t[e];let s=n,l=r;for(bh(t,n,e),i(t[r],o)>0&&bh(t,n,r);s<l;){for(bh(t,s,l),++s,--l;i(t[s],o)<0;)++s;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?bh(t,n,l):(++l,bh(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function bh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function hwe(t,e,n){if(t=Float64Array.from(iwe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return A3(t);if(e>=1)return S3(t);var r,i=(r-1)*e,o=Math.floor(i),s=S3(hH(t,o).subarray(0,o+1)),l=A3(t.subarray(o+1));return s+(l-s)*(i-o)}}function pwe(t,e,n=fH){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return s+(l-s)*(i-o)}}function mwe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function $i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kC=Symbol("implicit");function UR(){var t=new T3,e=[],n=[],r=kC;function i(o){let s=t.get(o);if(s===void 0){if(r!==kC)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new T3;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return UR(e,n).unknown(r)},$i.apply(i,arguments),i}function Np(){var t=UR().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,l=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var y=e().length,_=i<r,S=_?i:r,A=_?r:i;o=(A-S)/Math.max(1,y-c+f*2),l&&(o=Math.floor(o)),S+=(A-S-o*(y-c))*h,s=o*(1-c),l&&(S=Math.round(S),s=Math.round(s));var E=mwe(y).map(function(M){return S+o*M});return n(_?E.reverse():E)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(y){return arguments.length?(l=!!y,p()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return Np(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},$i.apply(p(),arguments)}function pH(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pH(e())},t}function Zh(){return pH(Np.apply(null,arguments).paddingInner(1))}function BR(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pm(){}var Rp=.7,u0=1/Rp,gf="\\s*([+-]?\\d+)\\s*",kp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gwe=/^#([0-9a-f]{3,8})$/,ywe=new RegExp(`^rgb\\(${gf},${gf},${gf}\\)$`),vwe=new RegExp(`^rgb\\(${is},${is},${is}\\)$`),bwe=new RegExp(`^rgba\\(${gf},${gf},${gf},${kp}\\)$`),xwe=new RegExp(`^rgba\\(${is},${is},${is},${kp}\\)$`),_we=new RegExp(`^hsl\\(${kp},${is},${is}\\)$`),wwe=new RegExp(`^hsla\\(${kp},${is},${is},${kp}\\)$`),C3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BR(Pm,Pp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:I3,formatHex:I3,formatHex8:Twe,formatHsl:Ewe,formatRgb:N3,toString:N3});function I3(){return this.rgb().formatHex()}function Twe(){return this.rgb().formatHex8()}function Ewe(){return gH(this).formatHsl()}function N3(){return this.rgb().formatRgb()}function Pp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=gwe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?R3(e):n===3?new $r(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Py(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Py(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ywe.exec(t))?new $r(e[1],e[2],e[3],1):(e=vwe.exec(t))?new $r(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bwe.exec(t))?Py(e[1],e[2],e[3],e[4]):(e=xwe.exec(t))?Py(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_we.exec(t))?M3(e[1],e[2]/100,e[3]/100,1):(e=wwe.exec(t))?M3(e[1],e[2]/100,e[3]/100,e[4]):C3.hasOwnProperty(t)?R3(C3[t]):t==="transparent"?new $r(NaN,NaN,NaN,0):null}function R3(t){return new $r(t>>16&255,t>>8&255,t&255,1)}function Py(t,e,n,r){return r<=0&&(t=e=n=NaN),new $r(t,e,n,r)}function Swe(t){return t instanceof Pm||(t=Pp(t)),t?(t=t.rgb(),new $r(t.r,t.g,t.b,t.opacity)):new $r}function PC(t,e,n,r){return arguments.length===1?Swe(t):new $r(t,e,n,r??1)}function $r(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}BR($r,PC,mH(Pm,{brighter(t){return t=t==null?u0:Math.pow(u0,t),new $r(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rp:Math.pow(Rp,t),new $r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $r(Ru(this.r),Ru(this.g),Ru(this.b),c0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k3,formatHex:k3,formatHex8:Awe,formatRgb:P3,toString:P3}));function k3(){return`#${xu(this.r)}${xu(this.g)}${xu(this.b)}`}function Awe(){return`#${xu(this.r)}${xu(this.g)}${xu(this.b)}${xu((isNaN(this.opacity)?1:this.opacity)*255)}`}function P3(){const t=c0(this.opacity);return`${t===1?"rgb(":"rgba("}${Ru(this.r)}, ${Ru(this.g)}, ${Ru(this.b)}${t===1?")":`, ${t})`}`}function c0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ru(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xu(t){return t=Ru(t),(t<16?"0":"")+t.toString(16)}function M3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ao(t,e,n,r)}function gH(t){if(t instanceof ao)return new ao(t.h,t.s,t.l,t.opacity);if(t instanceof Pm||(t=Pp(t)),!t)return new ao;if(t instanceof ao)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new ao(s,l,c,t.opacity)}function Cwe(t,e,n,r){return arguments.length===1?gH(t):new ao(t,e,n,r??1)}function ao(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}BR(ao,Cwe,mH(Pm,{brighter(t){return t=t==null?u0:Math.pow(u0,t),new ao(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rp:Math.pow(Rp,t),new ao(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $r(iS(t>=240?t-240:t+120,i,r),iS(t,i,r),iS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ao(O3(this.h),My(this.s),My(this.l),c0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=c0(this.opacity);return`${t===1?"hsl(":"hsla("}${O3(this.h)}, ${My(this.s)*100}%, ${My(this.l)*100}%${t===1?")":`, ${t})`}`}}));function O3(t){return t=(t||0)%360,t<0?t+360:t}function My(t){return Math.max(0,Math.min(1,t||0))}function iS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const FR=t=>()=>t;function Iwe(t,e){return function(n){return t+n*e}}function Nwe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Rwe(t){return(t=+t)==1?yH:function(e,n){return n-e?Nwe(e,n,t):FR(isNaN(e)?n:e)}}function yH(t,e){var n=e-t;return n?Iwe(t,n):FR(isNaN(t)?e:t)}const D3=(function t(e){var n=Rwe(e);function r(i,o){var s=n((i=PC(i)).r,(o=PC(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),f=yH(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function kwe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Pwe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mwe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=od(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function Owe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function f0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Dwe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=od(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var MC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oS=new RegExp(MC.source,"g");function Lwe(t){return function(){return t}}function jwe(t){return function(e){return t(e)+""}}function Vwe(t,e){var n=MC.lastIndex=oS.lastIndex=0,r,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=MC.exec(t))&&(i=oS.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:f0(r,i)})),n=oS.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?jwe(c[0].x):Lwe(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(f);return l.join("")})}function od(t,e){var n=typeof e,r;return e==null||n==="boolean"?FR(e):(n==="number"?f0:n==="string"?(r=Pp(e))?(e=r,D3):Vwe:e instanceof Pp?D3:e instanceof Date?Owe:Pwe(e)?kwe:Array.isArray(e)?Mwe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Dwe:f0)(t,e)}function qR(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Uwe(t,e){e===void 0&&(e=t,t=od);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[l](s-l)}}function Bwe(t){return function(){return t}}function d0(t){return+t}var L3=[0,1];function Sr(t){return t}function OC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Bwe(isNaN(e)?NaN:.5)}function Fwe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qwe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=OC(i,r),o=n(s,o)):(r=OC(r,i),o=n(o,s)),function(l){return o(r(l))}}function zwe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=OC(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var c=km(t,l,1,r)-1;return o[c](i[c](l))}}function Mm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gb(){var t=L3,e=L3,n=od,r,i,o,s=Sr,l,c,f;function h(){var y=Math.min(t.length,e.length);return s!==Sr&&(s=Fwe(t[0],t[y-1])),l=y>2?zwe:qwe,c=f=null,p}function p(y){return y==null||isNaN(y=+y)?o:(c||(c=l(t.map(r),e,n)))(r(s(y)))}return p.invert=function(y){return s(i((f||(f=l(e,t.map(r),f0)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,d0),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=qR,h()},p.clamp=function(y){return arguments.length?(s=y?!0:Sr,h()):s!==Sr},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(o=y,p):o},function(y,_){return r=y,i=_,h()}}function zR(){return Gb()(Sr,Sr)}function $we(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function h0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Of(t){return t=h0(Math.abs(t)),t?t[1]:NaN}function Gwe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Hwe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Kwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mp(t){if(!(e=Kwe.exec(t)))throw new Error("invalid format: "+t);var e;return new $R({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mp.prototype=$R.prototype;function $R(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$R.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wwe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var p0;function Ywe(t,e){var n=h0(t,e);if(!n)return p0=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(p0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+h0(t,Math.max(0,e+o-1))[0]}function j3(t,e){var n=h0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const V3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$we,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>j3(t*100,e),r:j3,s:Ywe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function U3(t){return t}var B3=Array.prototype.map,F3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jwe(t){var e=t.grouping===void 0||t.thousands===void 0?U3:Gwe(B3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?U3:Hwe(B3.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,y){p=Mp(p);var _=p.fill,S=p.align,A=p.sign,E=p.symbol,M=p.zero,I=p.width,N=p.comma,C=p.precision,R=p.trim,L=p.type;L==="n"?(N=!0,L="g"):V3[L]||(C===void 0&&(C=12),R=!0,L="g"),(M||_==="0"&&S==="=")&&(M=!0,_="0",S="=");var P=(y&&y.prefix!==void 0?y.prefix:"")+(E==="$"?n:E==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():""),O=(E==="$"?r:/[%p]/.test(L)?s:"")+(y&&y.suffix!==void 0?y.suffix:""),j=V3[L],q=/[defgprs%]/.test(L);C=C===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function F(z){var B=P,X=O,ie,W,ee;if(L==="c")X=j(z)+X,z="";else{z=+z;var se=z<0||1/z<0;if(z=isNaN(z)?c:j(Math.abs(z),C),R&&(z=Wwe(z)),se&&+z==0&&A!=="+"&&(se=!1),B=(se?A==="("?A:l:A==="-"||A==="("?"":A)+B,X=(L==="s"&&!isNaN(z)&&p0!==void 0?F3[8+p0/3]:"")+X+(se&&A==="("?")":""),q){for(ie=-1,W=z.length;++ie<W;)if(ee=z.charCodeAt(ie),48>ee||ee>57){X=(ee===46?i+z.slice(ie+1):z.slice(ie))+X,z=z.slice(0,ie);break}}}N&&!M&&(z=e(z,1/0));var ge=B.length+z.length+X.length,K=ge<I?new Array(I-ge+1).join(_):"";switch(N&&M&&(z=e(K+z,K.length?I-X.length:1/0),K=""),S){case"<":z=B+z+X+K;break;case"=":z=B+K+z+X;break;case"^":z=K.slice(0,ge=K.length>>1)+B+z+X+K.slice(ge);break;default:z=K+B+z+X;break}return o(z)}return F.toString=function(){return p+""},F}function h(p,y){var _=Math.max(-8,Math.min(8,Math.floor(Of(y)/3)))*3,S=Math.pow(10,-_),A=f((p=Mp(p),p.type="f",p),{suffix:F3[8+_/3]});return function(E){return A(S*E)}}return{format:f,formatPrefix:h}}var Oy,GR,vH;Xwe({thousands:",",grouping:[3],currency:["$",""]});function Xwe(t){return Oy=Jwe(t),GR=Oy.format,vH=Oy.formatPrefix,Oy}function Qwe(t){return Math.max(0,-Of(Math.abs(t)))}function Zwe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Of(e)/3)))*3-Of(Math.abs(t)))}function eTe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Of(e)-Of(t))+1}function bH(t,e,n,r){var i=RC(t,e,n),o;switch(r=Mp(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Zwe(i,s))&&(r.precision=o),vH(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=eTe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Qwe(i))&&(r.precision=o-(r.type==="%")*2);break}}return GR(r)}function Cl(t){var e=t.domain;return t.ticks=function(n){var r=e();return IC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return bH(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],c,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=o,o=f);h-- >0;){if(f=NC(s,l,n),f===c)return r[i]=s,r[o]=l,e(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function m0(){var t=zR();return t.copy=function(){return Mm(t,m0())},$i.apply(t,arguments),Cl(t)}function xH(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,d0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xH(t).unknown(e)},t=arguments.length?Array.from(t,d0):[0,1],Cl(n)}function _H(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function q3(t){return Math.log(t)}function z3(t){return Math.exp(t)}function tTe(t){return-Math.log(-t)}function nTe(t){return-Math.exp(-t)}function rTe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iTe(t){return t===10?rTe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function oTe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $3(t){return(e,n)=>-t(-e,n)}function HR(t){const e=t(q3,z3),n=e.domain;let r=10,i,o;function s(){return i=oTe(r),o=iTe(r),n()[0]<0?(i=$3(i),o=$3(o),t(tTe,nTe)):t(q3,z3),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let y=i(f),_=i(h),S,A;const E=l==null?10:+l;let M=[];if(!(r%1)&&_-y<E){if(y=Math.floor(y),_=Math.ceil(_),f>0){for(;y<=_;++y)for(S=1;S<r;++S)if(A=y<0?S/o(-y):S*o(y),!(A<f)){if(A>h)break;M.push(A)}}else for(;y<=_;++y)for(S=r-1;S>=1;--S)if(A=y>0?S/o(-y):S*o(y),!(A<f)){if(A>h)break;M.push(A)}M.length*2<E&&(M=IC(f,h,E))}else M=IC(y,_,Math.min(_-y,E)).map(o);return p?M.reverse():M},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Mp(c)).precision==null&&(c.trim=!0),c=GR(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(_H(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function wH(){const t=HR(Gb()).domain([1,10]);return t.copy=()=>Mm(t,wH()).base(t.base()),$i.apply(t,arguments),t}function G3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function H3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function KR(t){var e=1,n=t(G3(e),H3(e));return n.constant=function(r){return arguments.length?t(G3(e=+r),H3(e)):e},Cl(n)}function TH(){var t=KR(Gb());return t.copy=function(){return Mm(t,TH()).constant(t.constant())},$i.apply(t,arguments)}function K3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sTe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function aTe(t){return t<0?-t*t:t*t}function WR(t){var e=t(Sr,Sr),n=1;function r(){return n===1?t(Sr,Sr):n===.5?t(sTe,aTe):t(K3(n),K3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Cl(e)}function YR(){var t=WR(Gb());return t.copy=function(){return Mm(t,YR()).exponent(t.exponent())},$i.apply(t,arguments),t}function lTe(){return YR.apply(null,arguments).exponent(.5)}function W3(t){return Math.sign(t)*t*t}function uTe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function EH(){var t=zR(),e=[0,1],n=!1,r;function i(o){var s=uTe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(W3(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,d0)).map(W3)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return EH(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$i.apply(i,arguments),Cl(i)}function SH(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=pwe(t,s/l);return o}function o(s){return s==null||isNaN(s=+s)?r:e[km(n,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ol),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return SH().domain(t).range(e).unknown(r)},$i.apply(o,arguments)}function AH(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[km(r,c,0,n)]:o}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return AH().domain([t,e]).range(i).unknown(o)},$i.apply(Cl(s),arguments)}function CH(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[km(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return CH().domain(t).range(e).unknown(n)},$i.apply(i,arguments)}const sS=new Date,aS=new Date;function qn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<s);return c},i.filter=o=>qn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(sS.setTime(+o),aS.setTime(+s),t(sS),t(aS),Math.floor(n(sS,aS))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const g0=qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);g0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):g0);g0.range;const Ds=1e3,Vi=Ds*60,Ls=Vi*60,Ys=Ls*24,JR=Ys*7,Y3=Ys*30,lS=Ys*365,_u=qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getUTCSeconds());_u.range;const XR=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ds)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getMinutes());XR.range;const QR=qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getUTCMinutes());QR.range;const ZR=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ds-t.getMinutes()*Vi)},(t,e)=>{t.setTime(+t+e*Ls)},(t,e)=>(e-t)/Ls,t=>t.getHours());ZR.range;const ek=qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ls)},(t,e)=>(e-t)/Ls,t=>t.getUTCHours());ek.range;const Om=qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vi)/Ys,t=>t.getDate()-1);Om.range;const Hb=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>t.getUTCDate()-1);Hb.range;const IH=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>Math.floor(t/Ys));IH.range;function Qu(t){return qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Vi)/JR)}const Kb=Qu(0),y0=Qu(1),cTe=Qu(2),fTe=Qu(3),Df=Qu(4),dTe=Qu(5),hTe=Qu(6);Kb.range;y0.range;cTe.range;fTe.range;Df.range;dTe.range;hTe.range;function Zu(t){return qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/JR)}const Wb=Zu(0),v0=Zu(1),pTe=Zu(2),mTe=Zu(3),Lf=Zu(4),gTe=Zu(5),yTe=Zu(6);Wb.range;v0.range;pTe.range;mTe.range;Lf.range;gTe.range;yTe.range;const tk=qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tk.range;const nk=qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nk.range;const Js=qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Js.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Js.range;const Xs=qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Xs.range;function NH(t,e,n,r,i,o){const s=[[_u,1,Ds],[_u,5,5*Ds],[_u,15,15*Ds],[_u,30,30*Ds],[o,1,Vi],[o,5,5*Vi],[o,15,15*Vi],[o,30,30*Vi],[i,1,Ls],[i,3,3*Ls],[i,6,6*Ls],[i,12,12*Ls],[r,1,Ys],[r,2,2*Ys],[n,1,JR],[e,1,Y3],[e,3,3*Y3],[t,1,lS]];function l(f,h,p){const y=h<f;y&&([f,h]=[h,f]);const _=p&&typeof p.range=="function"?p:c(f,h,p),S=_?_.range(f,+h+1):[];return y?S.reverse():S}function c(f,h,p){const y=Math.abs(h-f)/p,_=VR(([,,E])=>E).right(s,y);if(_===s.length)return t.every(RC(f/lS,h/lS,p));if(_===0)return g0.every(Math.max(RC(f,h,p),1));const[S,A]=s[y/s[_-1][2]<s[_][2]/y?_-1:_];return S.every(A)}return[l,c]}const[vTe,bTe]=NH(Xs,nk,Wb,IH,ek,QR),[xTe,_Te]=NH(Js,tk,Kb,Om,ZR,XR);function uS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function cS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function wTe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=_h(i),h=wh(i),p=_h(o),y=wh(o),_=_h(s),S=wh(s),A=_h(l),E=wh(l),M=_h(c),I=wh(c),N={a:ee,A:se,b:ge,B:K,c:null,d:tB,e:tB,f:GTe,g:t1e,G:r1e,H:qTe,I:zTe,j:$Te,L:RH,m:HTe,M:KTe,p:V,q:$,Q:iB,s:oB,S:WTe,u:YTe,U:JTe,V:XTe,w:QTe,W:ZTe,x:null,X:null,y:e1e,Y:n1e,Z:i1e,"%":rB},C={a:J,A:te,b:fe,B:ye,c:null,d:nB,e:nB,f:l1e,g:v1e,G:x1e,H:o1e,I:s1e,j:a1e,L:PH,m:u1e,M:c1e,p:Te,q:Se,Q:iB,s:oB,S:f1e,u:d1e,U:h1e,V:p1e,w:m1e,W:g1e,x:null,X:null,y:y1e,Y:b1e,Z:_1e,"%":rB},R={a:q,A:F,b:z,B,c:X,d:Z3,e:Z3,f:VTe,g:Q3,G:X3,H:eB,I:eB,j:OTe,L:jTe,m:MTe,M:DTe,p:j,q:PTe,Q:BTe,s:FTe,S:LTe,u:CTe,U:ITe,V:NTe,w:ATe,W:RTe,x:ie,X:W,y:Q3,Y:X3,Z:kTe,"%":UTe};N.x=L(n,N),N.X=L(r,N),N.c=L(e,N),C.x=L(n,C),C.X=L(r,C),C.c=L(e,C);function L(he,Ie){return function(Ae){var pe=[],$e=-1,Ce=0,Je=he.length,nt,yt,bt;for(Ae instanceof Date||(Ae=new Date(+Ae));++$e<Je;)he.charCodeAt($e)===37&&(pe.push(he.slice(Ce,$e)),(yt=J3[nt=he.charAt(++$e)])!=null?nt=he.charAt(++$e):yt=nt==="e"?" ":"0",(bt=Ie[nt])&&(nt=bt(Ae,yt)),pe.push(nt),Ce=$e+1);return pe.push(he.slice(Ce,$e)),pe.join("")}}function P(he,Ie){return function(Ae){var pe=xh(1900,void 0,1),$e=O(pe,he,Ae+="",0),Ce,Je;if($e!=Ae.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Ie&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Ce=cS(xh(pe.y,0,1)),Je=Ce.getUTCDay(),Ce=Je>4||Je===0?v0.ceil(Ce):v0(Ce),Ce=Hb.offset(Ce,(pe.V-1)*7),pe.y=Ce.getUTCFullYear(),pe.m=Ce.getUTCMonth(),pe.d=Ce.getUTCDate()+(pe.w+6)%7):(Ce=uS(xh(pe.y,0,1)),Je=Ce.getDay(),Ce=Je>4||Je===0?y0.ceil(Ce):y0(Ce),Ce=Om.offset(Ce,(pe.V-1)*7),pe.y=Ce.getFullYear(),pe.m=Ce.getMonth(),pe.d=Ce.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),Je="Z"in pe?cS(xh(pe.y,0,1)).getUTCDay():uS(xh(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(Je+5)%7:pe.w+pe.U*7-(Je+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,cS(pe)):uS(pe)}}function O(he,Ie,Ae,pe){for(var $e=0,Ce=Ie.length,Je=Ae.length,nt,yt;$e<Ce;){if(pe>=Je)return-1;if(nt=Ie.charCodeAt($e++),nt===37){if(nt=Ie.charAt($e++),yt=R[nt in J3?Ie.charAt($e++):nt],!yt||(pe=yt(he,Ae,pe))<0)return-1}else if(nt!=Ae.charCodeAt(pe++))return-1}return pe}function j(he,Ie,Ae){var pe=f.exec(Ie.slice(Ae));return pe?(he.p=h.get(pe[0].toLowerCase()),Ae+pe[0].length):-1}function q(he,Ie,Ae){var pe=_.exec(Ie.slice(Ae));return pe?(he.w=S.get(pe[0].toLowerCase()),Ae+pe[0].length):-1}function F(he,Ie,Ae){var pe=p.exec(Ie.slice(Ae));return pe?(he.w=y.get(pe[0].toLowerCase()),Ae+pe[0].length):-1}function z(he,Ie,Ae){var pe=M.exec(Ie.slice(Ae));return pe?(he.m=I.get(pe[0].toLowerCase()),Ae+pe[0].length):-1}function B(he,Ie,Ae){var pe=A.exec(Ie.slice(Ae));return pe?(he.m=E.get(pe[0].toLowerCase()),Ae+pe[0].length):-1}function X(he,Ie,Ae){return O(he,e,Ie,Ae)}function ie(he,Ie,Ae){return O(he,n,Ie,Ae)}function W(he,Ie,Ae){return O(he,r,Ie,Ae)}function ee(he){return s[he.getDay()]}function se(he){return o[he.getDay()]}function ge(he){return c[he.getMonth()]}function K(he){return l[he.getMonth()]}function V(he){return i[+(he.getHours()>=12)]}function $(he){return 1+~~(he.getMonth()/3)}function J(he){return s[he.getUTCDay()]}function te(he){return o[he.getUTCDay()]}function fe(he){return c[he.getUTCMonth()]}function ye(he){return l[he.getUTCMonth()]}function Te(he){return i[+(he.getUTCHours()>=12)]}function Se(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Ie=L(he+="",N);return Ie.toString=function(){return he},Ie},parse:function(he){var Ie=P(he+="",!1);return Ie.toString=function(){return he},Ie},utcFormat:function(he){var Ie=L(he+="",C);return Ie.toString=function(){return he},Ie},utcParse:function(he){var Ie=P(he+="",!0);return Ie.toString=function(){return he},Ie}}}var J3={"-":"",_:" ",0:"0"},Zn=/^\s*\d+/,TTe=/^%/,ETe=/[\\^$*+?|[\]().{}]/g;function St(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function STe(t){return t.replace(ETe,"\\$&")}function _h(t){return new RegExp("^(?:"+t.map(STe).join("|")+")","i")}function wh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ATe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function CTe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ITe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function NTe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function RTe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function X3(t,e,n){var r=Zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Q3(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kTe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function PTe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function MTe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Z3(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function OTe(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function eB(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function DTe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function LTe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function jTe(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function VTe(t,e,n){var r=Zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function UTe(t,e,n){var r=TTe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function BTe(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function FTe(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function tB(t,e){return St(t.getDate(),e,2)}function qTe(t,e){return St(t.getHours(),e,2)}function zTe(t,e){return St(t.getHours()%12||12,e,2)}function $Te(t,e){return St(1+Om.count(Js(t),t),e,3)}function RH(t,e){return St(t.getMilliseconds(),e,3)}function GTe(t,e){return RH(t,e)+"000"}function HTe(t,e){return St(t.getMonth()+1,e,2)}function KTe(t,e){return St(t.getMinutes(),e,2)}function WTe(t,e){return St(t.getSeconds(),e,2)}function YTe(t){var e=t.getDay();return e===0?7:e}function JTe(t,e){return St(Kb.count(Js(t)-1,t),e,2)}function kH(t){var e=t.getDay();return e>=4||e===0?Df(t):Df.ceil(t)}function XTe(t,e){return t=kH(t),St(Df.count(Js(t),t)+(Js(t).getDay()===4),e,2)}function QTe(t){return t.getDay()}function ZTe(t,e){return St(y0.count(Js(t)-1,t),e,2)}function e1e(t,e){return St(t.getFullYear()%100,e,2)}function t1e(t,e){return t=kH(t),St(t.getFullYear()%100,e,2)}function n1e(t,e){return St(t.getFullYear()%1e4,e,4)}function r1e(t,e){var n=t.getDay();return t=n>=4||n===0?Df(t):Df.ceil(t),St(t.getFullYear()%1e4,e,4)}function i1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+St(e/60|0,"0",2)+St(e%60,"0",2)}function nB(t,e){return St(t.getUTCDate(),e,2)}function o1e(t,e){return St(t.getUTCHours(),e,2)}function s1e(t,e){return St(t.getUTCHours()%12||12,e,2)}function a1e(t,e){return St(1+Hb.count(Xs(t),t),e,3)}function PH(t,e){return St(t.getUTCMilliseconds(),e,3)}function l1e(t,e){return PH(t,e)+"000"}function u1e(t,e){return St(t.getUTCMonth()+1,e,2)}function c1e(t,e){return St(t.getUTCMinutes(),e,2)}function f1e(t,e){return St(t.getUTCSeconds(),e,2)}function d1e(t){var e=t.getUTCDay();return e===0?7:e}function h1e(t,e){return St(Wb.count(Xs(t)-1,t),e,2)}function MH(t){var e=t.getUTCDay();return e>=4||e===0?Lf(t):Lf.ceil(t)}function p1e(t,e){return t=MH(t),St(Lf.count(Xs(t),t)+(Xs(t).getUTCDay()===4),e,2)}function m1e(t){return t.getUTCDay()}function g1e(t,e){return St(v0.count(Xs(t)-1,t),e,2)}function y1e(t,e){return St(t.getUTCFullYear()%100,e,2)}function v1e(t,e){return t=MH(t),St(t.getUTCFullYear()%100,e,2)}function b1e(t,e){return St(t.getUTCFullYear()%1e4,e,4)}function x1e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Lf(t):Lf.ceil(t),St(t.getUTCFullYear()%1e4,e,4)}function _1e(){return"+0000"}function rB(){return"%"}function iB(t){return+t}function oB(t){return Math.floor(+t/1e3)}var $c,OH,DH;w1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function w1e(t){return $c=wTe(t),OH=$c.format,$c.parse,DH=$c.utcFormat,$c.utcParse,$c}function T1e(t){return new Date(t)}function E1e(t){return t instanceof Date?+t:+new Date(+t)}function rk(t,e,n,r,i,o,s,l,c,f){var h=zR(),p=h.invert,y=h.domain,_=f(".%L"),S=f(":%S"),A=f("%I:%M"),E=f("%I %p"),M=f("%a %d"),I=f("%b %d"),N=f("%B"),C=f("%Y");function R(L){return(c(L)<L?_:l(L)<L?S:s(L)<L?A:o(L)<L?E:r(L)<L?i(L)<L?M:I:n(L)<L?N:C)(L)}return h.invert=function(L){return new Date(p(L))},h.domain=function(L){return arguments.length?y(Array.from(L,E1e)):y().map(T1e)},h.ticks=function(L){var P=y();return t(P[0],P[P.length-1],L??10)},h.tickFormat=function(L,P){return P==null?R:f(P)},h.nice=function(L){var P=y();return(!L||typeof L.range!="function")&&(L=e(P[0],P[P.length-1],L??10)),L?y(_H(P,L)):h},h.copy=function(){return Mm(h,rk(t,e,n,r,i,o,s,l,c,f))},h}function S1e(){return $i.apply(rk(xTe,_Te,Js,tk,Kb,Om,ZR,XR,_u,OH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function A1e(){return $i.apply(rk(vTe,bTe,Xs,nk,Wb,Hb,ek,QR,_u,DH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yb(){var t=0,e=1,n,r,i,o,s=Sr,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(y){var _,S;return arguments.length?([_,S]=y,s=p(_,S),f):[s(0),s(1)]}}return f.range=h(od),f.rangeRound=h(qR),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Il(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function LH(){var t=Cl(Yb()(Sr));return t.copy=function(){return Il(t,LH())},oa.apply(t,arguments)}function jH(){var t=HR(Yb()).domain([1,10]);return t.copy=function(){return Il(t,jH()).base(t.base())},oa.apply(t,arguments)}function VH(){var t=KR(Yb());return t.copy=function(){return Il(t,VH()).constant(t.constant())},oa.apply(t,arguments)}function ik(){var t=WR(Yb());return t.copy=function(){return Il(t,ik()).exponent(t.exponent())},oa.apply(t,arguments)}function C1e(){return ik.apply(null,arguments).exponent(.5)}function UH(){var t=[],e=Sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((km(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ol),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>hwe(t,o/r))},n.copy=function(){return UH(e).domain(t)},oa.apply(n,arguments)}function Jb(){var t=0,e=.5,n=1,r=1,i,o,s,l,c,f=Sr,h,p=!1,y;function _(A){return isNaN(A=+A)?y:(A=.5+((A=+h(A))-o)*(r*A<r*o?l:c),f(p?Math.max(0,Math.min(1,A)):A))}_.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),o=h(e=+e),s=h(n=+n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,_):[t,e,n]},_.clamp=function(A){return arguments.length?(p=!!A,_):p},_.interpolator=function(A){return arguments.length?(f=A,_):f};function S(A){return function(E){var M,I,N;return arguments.length?([M,I,N]=E,f=Uwe(A,[M,I,N]),_):[f(0),f(.5),f(1)]}}return _.range=S(od),_.rangeRound=S(qR),_.unknown=function(A){return arguments.length?(y=A,_):y},function(A){return h=A,i=A(t),o=A(e),s=A(n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,_}}function BH(){var t=Cl(Jb()(Sr));return t.copy=function(){return Il(t,BH())},oa.apply(t,arguments)}function FH(){var t=HR(Jb()).domain([.1,1,10]);return t.copy=function(){return Il(t,FH()).base(t.base())},oa.apply(t,arguments)}function qH(){var t=KR(Jb());return t.copy=function(){return Il(t,qH()).constant(t.constant())},oa.apply(t,arguments)}function ok(){var t=WR(Jb());return t.copy=function(){return Il(t,ok()).exponent(t.exponent())},oa.apply(t,arguments)}function I1e(){return ok.apply(null,arguments).exponent(.5)}const sB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Np,scaleDiverging:BH,scaleDivergingLog:FH,scaleDivergingPow:ok,scaleDivergingSqrt:I1e,scaleDivergingSymlog:qH,scaleIdentity:xH,scaleImplicit:kC,scaleLinear:m0,scaleLog:wH,scaleOrdinal:UR,scalePoint:Zh,scalePow:YR,scaleQuantile:SH,scaleQuantize:AH,scaleRadial:EH,scaleSequential:LH,scaleSequentialLog:jH,scaleSequentialPow:ik,scaleSequentialQuantile:UH,scaleSequentialSqrt:C1e,scaleSequentialSymlog:VH,scaleSqrt:lTe,scaleSymlog:TH,scaleThreshold:CH,scaleTime:S1e,scaleUtc:A1e,tickFormat:bH},Symbol.toStringTag,{value:"Module"}));var fS,aB;function zH(){if(aB)return fS;aB=1;var t=ed();function e(n,r,i){for(var o=-1,s=n.length;++o<s;){var l=n[o],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return fS=e,fS}var dS,lB;function N1e(){if(lB)return dS;lB=1;function t(e,n){return e>n}return dS=t,dS}var hS,uB;function R1e(){if(uB)return hS;uB=1;var t=zH(),e=N1e(),n=rd();function r(i){return i&&i.length?t(i,n,e):void 0}return hS=r,hS}var k1e=R1e();const Qa=Ht(k1e);var pS,cB;function P1e(){if(cB)return pS;cB=1;function t(e,n){return e<n}return pS=t,pS}var mS,fB;function M1e(){if(fB)return mS;fB=1;var t=zH(),e=P1e(),n=rd();function r(i){return i&&i.length?t(i,n,e):void 0}return mS=r,mS}var O1e=M1e();const Xb=Ht(O1e);var gS,dB;function D1e(){if(dB)return gS;dB=1;var t=_R(),e=Al(),n=QG(),r=Wr();function i(o,s){var l=r(o)?t:n;return l(o,e(s,3))}return gS=i,gS}var yS,hB;function L1e(){if(hB)return yS;hB=1;var t=JG(),e=D1e();function n(r,i){return t(e(r,i),1)}return yS=n,yS}var j1e=L1e();const V1e=Ht(j1e);var vS,pB;function U1e(){if(pB)return vS;pB=1;var t=OR();function e(n,r){return t(n,r)}return vS=e,vS}var B1e=U1e();const Op=Ht(B1e);var sd=1e9,F1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ak,an=!0,qi="[DecimalError] ",ku=qi+"Invalid argument: ",sk=qi+"Exponent out of range: ",ad=Math.floor,hu=Math.pow,q1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,li,Yn=1e7,tn=7,$H=9007199254740991,b0=ad($H/tn),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*tn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};De.dividedBy=De.div=function(t){return Fs(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,n=e.constructor;return Yt(Fs(e,new n(t),0,1),n.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return Dn(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(li))throw Error(qi+"NaN");if(n.s<1)throw Error(qi+(n.s?"NaN":"-Infinity"));return n.eq(li)?new r(0):(an=!1,e=Fs(Dp(n,o),Dp(t,o),o),an=!0,Yt(e,i))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KH(e,t):GH(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(qi+"NaN");return n.s?(an=!1,e=Fs(n,t,0,1).times(t),an=!0,n.minus(e)):Yt(new r(n),i)};De.naturalExponential=De.exp=function(){return HH(this)};De.naturalLogarithm=De.ln=function(){return Dp(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GH(e,t):KH(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ku+t);if(e=Dn(i)+1,r=i.d.length-1,n=r*tn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};De.squareRoot=De.sqrt=function(){var t,e,n,r,i,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(qi+"NaN")}for(t=Dn(l),an=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Wo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ad((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(Fs(l,o,s+2)).times(.5),Wo(o.d).slice(0,s)===(e=Wo(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Yt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;s+=4}return an=!0,Yt(r,n)};De.times=De.mul=function(t){var e,n,r,i,o,s,l,c,f,h=this,p=h.constructor,y=h.d,_=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,f=_.length,c<f&&(o=y,y=_,_=o,s=c,c=f,f=s),o=[],s=c+f,r=s;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+_[r]*y[i-r-1]+e,o[i--]=l%Yn|0,e=l/Yn|0;o[i]=(o[i]+e)%Yn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,an?Yt(t,p.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(us(t,0,sd),e===void 0?e=r.rounding:us(e,0,8),Yt(n,t+Dn(n)+1,e))};De.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=qu(r,!0):(us(t,0,sd),e===void 0?e=i.rounding:us(e,0,8),r=Yt(new i(r),t+1,e),n=qu(r,!0,t+1)),n};De.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?qu(i):(us(t,0,sd),e===void 0?e=o.rounding:us(e,0,8),r=Yt(new o(i),t+Dn(i)+1,e),n=qu(r.abs(),!1,t+Dn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return Yt(new e(t),Dn(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,n,r,i,o,s,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(li);if(l=new c(l),!l.s){if(t.s<1)throw Error(qi+"Infinity");return l}if(l.eq(li))return l;if(r=c.precision,t.eq(li))return Yt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=l.s,s){if((n=h<0?-h:h)<=$H){for(i=new c(li),e=Math.ceil(r/tn+4),an=!1;n%2&&(i=i.times(l),gB(i.d,e)),n=ad(n/2),n!==0;)l=l.times(l),gB(l.d,e);return an=!0,t.s<0?new c(li).div(i):Yt(i,r)}}else if(o<0)throw Error(qi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,an=!1,i=t.times(Dp(l,r+f)),an=!0,i=HH(i),i.s=o,i};De.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Dn(i),r=qu(i,n<=o.toExpNeg||n>=o.toExpPos)):(us(t,1,sd),e===void 0?e=o.rounding:us(e,0,8),i=Yt(new o(i),t,e),n=Dn(i),r=qu(i,t<=n||n<=o.toExpNeg,t)),r};De.toSignificantDigits=De.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(us(t,1,sd),e===void 0?e=r.rounding:us(e,0,8)),Yt(new r(n),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Dn(t),n=t.constructor;return qu(t,e<=n.toExpNeg||e>=n.toExpPos)};function GH(t,e){var n,r,i,o,s,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),an?Yt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,l=f.length):(r=f,i=s,l=c.length),s=Math.ceil(p/tn),l=s>l?s+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/Yn|0,c[o]%=Yn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,an?Yt(e,p):e}function us(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ku+t)}function Wo(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=tn-r.length,n&&(o+=za(n)),o+=r;s=t[e],r=s+"",n=tn-r.length,n&&(o+=za(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Fs=(function(){function t(r,i){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%Yn|0,s=o/Yn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Yn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var l,c,f,h,p,y,_,S,A,E,M,I,N,C,R,L,P,O,j=r.constructor,q=r.s==i.s?1:-1,F=r.d,z=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(qi+"Division by zero");for(c=r.e-i.e,P=z.length,R=F.length,_=new j(q),S=_.d=[],f=0;z[f]==(F[f]||0);)++f;if(z[f]>(F[f]||0)&&--c,o==null?I=o=j.precision:s?I=o+(Dn(r)-Dn(i))+1:I=o,I<0)return new j(0);if(I=I/tn+2|0,f=0,P==1)for(h=0,z=z[0],I++;(f<R||h)&&I--;f++)N=h*Yn+(F[f]||0),S[f]=N/z|0,h=N%z|0;else{for(h=Yn/(z[0]+1)|0,h>1&&(z=t(z,h),F=t(F,h),P=z.length,R=F.length),C=P,A=F.slice(0,P),E=A.length;E<P;)A[E++]=0;O=z.slice(),O.unshift(0),L=z[0],z[1]>=Yn/2&&++L;do h=0,l=e(z,A,P,E),l<0?(M=A[0],P!=E&&(M=M*Yn+(A[1]||0)),h=M/L|0,h>1?(h>=Yn&&(h=Yn-1),p=t(z,h),y=p.length,E=A.length,l=e(p,A,y,E),l==1&&(h--,n(p,P<y?O:z,y))):(h==0&&(l=h=1),p=z.slice()),y=p.length,y<E&&p.unshift(0),n(A,p,E),l==-1&&(E=A.length,l=e(z,A,P,E),l<1&&(h++,n(A,P<E?O:z,E))),E=A.length):l===0&&(h++,A=[0]),S[f++]=h,l&&A[0]?A[E++]=F[C]||0:(A=[F[C]],E=1);while((C++<R||A[0]!==void 0)&&I--)}return S[0]||S.shift(),_.e=c,Yt(_,s?o+Dn(_)+1:o)}})();function HH(t,e){var n,r,i,o,s,l,c=0,f=0,h=t.constructor,p=h.precision;if(Dn(t)>16)throw Error(sk+Dn(t));if(!t.s)return new h(li);for(an=!1,l=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(hu(2,f))/Math.LN10*2+5|0,l+=r,n=i=o=new h(li),h.precision=l;;){if(i=Yt(i.times(t),l),n=n.times(++c),s=o.plus(Fs(i,n,l)),Wo(s.d).slice(0,l)===Wo(o.d).slice(0,l)){for(;f--;)o=Yt(o.times(o),l);return h.precision=p,e==null?(an=!0,Yt(o,p)):o}o=s}}function Dn(t){for(var e=t.e*tn,n=t.d[0];n>=10;n/=10)e++;return e}function bS(t,e,n){if(e>t.LN10.sd())throw an=!0,n&&(t.precision=n),Error(qi+"LN10 precision limit exceeded");return Yt(new t(t.LN10),e)}function za(t){for(var e="";t--;)e+="0";return e}function Dp(t,e){var n,r,i,o,s,l,c,f,h,p=1,y=10,_=t,S=_.d,A=_.constructor,E=A.precision;if(_.s<1)throw Error(qi+(_.s?"NaN":"-Infinity"));if(_.eq(li))return new A(0);if(e==null?(an=!1,f=E):f=e,_.eq(10))return e==null&&(an=!0),bS(A,f);if(f+=y,A.precision=f,n=Wo(S),r=n.charAt(0),o=Dn(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Wo(_.d),r=n.charAt(0),p++;o=Dn(_),r>1?(_=new A("0."+n),o++):_=new A(r+"."+n.slice(1))}else return c=bS(A,f+2,E).times(o+""),_=Dp(new A(r+"."+n.slice(1)),f-y).plus(c),A.precision=E,e==null?(an=!0,Yt(_,E)):_;for(l=s=_=Fs(_.minus(li),_.plus(li),f),h=Yt(_.times(_),f),i=3;;){if(s=Yt(s.times(h),f),c=l.plus(Fs(s,new A(i),f)),Wo(c.d).slice(0,f)===Wo(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(bS(A,f+2,E).times(o+""))),l=Fs(l,new A(p),f),A.precision=E,e==null?(an=!0,Yt(l,E)):l;l=c,i+=2}}function mB(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ad(n/tn),t.d=[],r=(n+1)%tn,n<0&&(r+=tn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tn;r<i;)t.d.push(+e.slice(r,r+=tn));e=e.slice(r),r=tn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),an&&(t.e>b0||t.e<-b0))throw Error(sk+n)}else t.s=0,t.e=0,t.d=[0];return t}function Yt(t,e,n){var r,i,o,s,l,c,f,h,p=t.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=tn,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/tn),o=p.length,h>=o)return t;for(f=o=p[h],s=1;o>=10;o/=10)s++;r%=tn,i=r-tn+s}if(n!==void 0&&(o=hu(10,s-i-1),l=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/hu(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=Dn(t),p.length=1,e=e-o-1,p[0]=hu(10,(tn-e%tn)%tn),t.e=ad(-e/tn)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=hu(10,tn-r),p[h]=i>0?(f/hu(10,s-i)%hu(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==Yn&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=Yn)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(an&&(t.e>b0||t.e<-b0))throw Error(sk+Dn(t));return t}function KH(t,e){var n,r,i,o,s,l,c,f,h,p,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),an?Yt(e,_):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,l=p.length):(n=p,r=f,l=c.length),i=Math.max(Math.ceil(_/tn),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=Yn-1;--c[o],c[i]+=Yn}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,an?Yt(e,_):e):new y(0)}function qu(t,e,n){var r,i=Dn(t),o=Wo(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+za(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+za(-i-1)+o,n&&(r=n-s)>0&&(o+=za(r))):i>=s?(o+=za(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+za(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=za(r))),t.s<0?"-"+o:o}function gB(t,e){if(t.length>e)return t.length=e,!0}function WH(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ku+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return mB(s,o.toString())}else if(typeof o!="string")throw Error(ku+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,q1e.test(o))mB(s,o);else throw Error(ku+o)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=WH,i.config=i.set=z1e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function z1e(t){if(!t||typeof t!="object")throw Error(qi+"Object expected");var e,n,r,i=["precision",1,sd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ad(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ku+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ku+n+": "+r);return this}var ak=WH(F1e);li=new ak(1);const zt=ak;function $1e(t){return W1e(t)||K1e(t)||H1e(t)||G1e()}function G1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H1e(t,e){if(t){if(typeof t=="string")return DC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DC(t,e)}}function K1e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function W1e(t){if(Array.isArray(t))return DC(t)}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y1e=function(e){return e},YH={},JH=function(e){return e===YH},yB=function(e){return function n(){return arguments.length===0||arguments.length===1&&JH(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},J1e=function t(e,n){return e===1?n:yB(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(l){return l!==YH}).length;return s>=e?n.apply(void 0,i):t(e-s,yB(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(p){return JH(p)?c.shift():p});return n.apply(void 0,$1e(h).concat(c))}))})},Qb=function(e){return J1e(e.length,e)},LC=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},X1e=Qb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Q1e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Y1e;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},jC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},XH=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(l,c){return l===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function Z1e(t){var e;return t===0?e=1:e=Math.floor(new zt(t).abs().log(10).toNumber())+1,e}function eEe(t,e,n){for(var r=new zt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var tEe=Qb(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),nEe=Qb(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),rEe=Qb(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Zb={rangeStep:eEe,getDigitCount:Z1e,interpolateNumber:tEe,uninterpolateNumber:nEe,uninterpolateTruncation:rEe};function VC(t){return sEe(t)||oEe(t)||QH(t)||iEe()}function iEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oEe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sEe(t){if(Array.isArray(t))return UC(t)}function Lp(t,e){return uEe(t)||lEe(t,e)||QH(t,e)||aEe()}function aEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QH(t,e){if(t){if(typeof t=="string")return UC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UC(t,e)}}function UC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lEe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function uEe(t){if(Array.isArray(t))return t}function ZH(t){var e=Lp(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function e7(t,e,n){if(t.lte(0))return new zt(0);var r=Zb.getDigitCount(t.toNumber()),i=new zt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,l=new zt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new zt(Math.ceil(c))}function cEe(t,e,n){var r=1,i=new zt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new zt(10).pow(Zb.getDigitCount(t)-1),i=new zt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new zt(Math.floor(t)))}else t===0?i=new zt(Math.floor((e-1)/2)):n||(i=new zt(Math.floor(t)));var s=Math.floor((e-1)/2),l=Q1e(X1e(function(c){return i.add(new zt(c-s).mul(r)).toNumber()}),LC);return l(0,e)}function t7(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new zt(0),tickMin:new zt(0),tickMax:new zt(0)};var o=e7(new zt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new zt(0):(s=new zt(t).add(e).div(2),s=s.sub(new zt(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new zt(e).sub(s).div(o).toNumber()),f=l+c+1;return f>n?t7(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:o,tickMin:s.sub(new zt(l).mul(o)),tickMax:s.add(new zt(c).mul(o))})}function fEe(t){var e=Lp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=ZH([n,r]),c=Lp(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(VC(LC(0,i-1).map(function(){return 1/0}))):[].concat(VC(LC(0,i-1).map(function(){return-1/0})),[h]);return n>r?jC(p):p}if(f===h)return cEe(f,i,o);var y=t7(f,h,s,o),_=y.step,S=y.tickMin,A=y.tickMax,E=Zb.rangeStep(S,A.add(new zt(.1).mul(_)),_);return n>r?jC(E):E}function dEe(t,e){var n=Lp(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=ZH([r,i]),l=Lp(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),p=e7(new zt(f).sub(c).div(h-1),o,0),y=[].concat(VC(Zb.rangeStep(new zt(c),new zt(f).sub(new zt(.99).mul(p)),p)),[f]);return r>i?jC(y):y}var hEe=XH(fEe),pEe=XH(dEe),mEe="Invariant failed";function zu(t,e){throw new Error(mEe)}var gEe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x0.apply(this,arguments)}function yEe(t,e){return _Ee(t)||xEe(t,e)||bEe(t,e)||vEe()}function vEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bEe(t,e){if(t){if(typeof t=="string")return vB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vB(t,e)}}function vB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function _Ee(t){if(Array.isArray(t))return t}function wEe(t,e){if(t==null)return{};var n=TEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ex(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,o=t.data,s=t.dataPointFormatter,l=t.xAxis,c=t.yAxis,f=wEe(t,gEe),h=mt(f,!1);t.direction==="x"&&l.type!=="number"&&zu();var p=o.map(function(y){var _=s(y,i),S=_.x,A=_.y,E=_.value,M=_.errorVal;if(!M)return null;var I=[],N,C;if(Array.isArray(M)){var R=yEe(M,2);N=R[0],C=R[1]}else N=C=M;if(n==="vertical"){var L=l.scale,P=A+e,O=P+r,j=P-r,q=L(E-N),F=L(E+C);I.push({x1:F,y1:O,x2:F,y2:j}),I.push({x1:q,y1:P,x2:F,y2:P}),I.push({x1:q,y1:O,x2:q,y2:j})}else if(n==="horizontal"){var z=c.scale,B=S+e,X=B-r,ie=B+r,W=z(E-N),ee=z(E+C);I.push({x1:X,y1:ee,x2:ie,y2:ee}),I.push({x1:B,y1:W,x2:B,y2:ee}),I.push({x1:X,y1:W,x2:ie,y2:W})}return re.createElement(ln,x0({className:"recharts-errorBar",key:"bar-".concat(I.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},h),I.map(function(se){return re.createElement("line",x0({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return re.createElement(ln,{className:"recharts-errorBars"},p)}ex.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};ex.displayName="ErrorBar";function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function bB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(n),!0).forEach(function(r){EEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EEe(t,e,n){return e=SEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SEe(t){var e=AEe(t,"string");return jp(e)=="symbol"?e:String(e)}function AEe(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n7=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=si(n,Tp);if(!s)return null;var l;return s.props&&s.props.payload?l=s.props&&s.props.payload:o==="children"?l=(r||[]).reduce(function(c,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return c.concat(y.map(function(_){return{type:s.props.iconType||h.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):l=(r||[]).map(function(c){var f=c.item,h=f.props,p=h.dataKey,y=h.name,_=h.legendType,S=h.hide;return{inactive:S,dataKey:p,type:s.props.iconType||_||"square",color:lk(f),value:y||p,payload:f.props}}),xS(xS(xS({},s.props),Tp.getWithHeight(s,i)),{},{payload:l,item:s})};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function xB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xB(Object(n),!0).forEach(function(r){yf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yf(t,e,n){return e=CEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CEe(t){var e=IEe(t,"string");return Vp(e)=="symbol"?e:String(e)}function IEe(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _B(t){return PEe(t)||kEe(t)||REe(t)||NEe()}function NEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function REe(t,e){if(t){if(typeof t=="string")return BC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BC(t,e)}}function kEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PEe(t){if(Array.isArray(t))return BC(t)}function BC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mi(t,e,n){return _t(t)||_t(e)?n:Bn(e)?Ui(t,e,n):ht(e)?e(t):n}function ep(t,e,n,r){var i=V1e(t,function(l){return mi(l,e)});if(n==="number"){var o=i.filter(function(l){return ke(l)||parseFloat(l)});return o.length?[Xb(o),Qa(o)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!_t(l)}):i;return s.map(function(l){return Bn(l)||l instanceof Date?l:""})}var MEe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,y=f>=l-1?i[0].coordinate:i[f+1].coordinate,_=void 0;if(uo(p-h)!==uo(y-p)){var S=[];if(uo(y-p)===uo(c[1]-c[0])){_=y;var A=p+c[1]-c[0];S[0]=Math.min(A,(A+h)/2),S[1]=Math.max(A,(A+h)/2)}else{_=h;var E=y+c[1]-c[0];S[0]=Math.min(p,(E+p)/2),S[1]=Math.max(p,(E+p)/2)}var M=[Math.min(p,(_+p)/2),Math.max(p,(_+p)/2)];if(e>M[0]&&e<=M[1]||e>=S[0]&&e<=S[1]){s=i[f].index;break}}else{var I=Math.min(h,y),N=Math.max(h,y);if(e>(I+p)/2&&e<=(N+p)/2){s=i[f].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},lk=function(e){var n=e,r=n.type.displayName,i=e.props,o=i.stroke,s=i.fill,l;switch(r){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},OEe=function(e){var n=e.barSize,r=e.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},s=Object.keys(i),l=0,c=s.length;l<c;l++)for(var f=i[s[l]].stackGroups,h=Object.keys(f),p=0,y=h.length;p<y;p++){var _=f[h[p]],S=_.items,A=_.cateAxisId,E=S.filter(function(N){return Bs(N.type).indexOf("Bar")>=0});if(E&&E.length){var M=E[0].props.barSize,I=E[0].props[A];o[I]||(o[I]=[]),o[I].push({item:E[0],stackList:E.slice(1),barSize:_t(M)?n:M})}}return o},DEe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=If(n,i,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var y=!1,_=i/c,S=s.reduce(function(C,R){return C+R.barSize||0},0);S+=(c-1)*f,S>=i&&(S-=(c-1)*f,f=0),S>=i&&_>0&&(y=!0,_*=.9,S=c*_);var A=(i-S)/2>>0,E={offset:A-f,size:0};h=s.reduce(function(C,R){var L={item:R.item,position:{offset:E.offset+E.size+f,size:y?_:R.barSize}},P=[].concat(_B(C),[L]);return E=P[P.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(O){P.push({item:O,position:E})}),P},p)}else{var M=If(r,i,0,!0);i-2*M-(c-1)*f<=0&&(f=0);var I=(i-2*M-(c-1)*f)/c;I>1&&(I>>=0);var N=l===+l?Math.min(I,l):I;h=s.reduce(function(C,R,L){var P=[].concat(_B(C),[{item:R.item,position:{offset:M+(I+f)*L+(I-N)/2,size:N}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(O){P.push({item:O,position:P[P.length-1].position})}),P},p)}return h},LEe=function(e,n,r,i){var o=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),f=n7({children:o,legendWidth:c});if(f){var h=i||{},p=h.width,y=h.height,_=f.align,S=f.verticalAlign,A=f.layout;if((A==="vertical"||A==="horizontal"&&S==="middle")&&_!=="center"&&ke(e[_]))return Li(Li({},e),{},yf({},_,e[_]+(p||0)));if((A==="horizontal"||A==="vertical"&&_==="center")&&S!=="middle"&&ke(e[S]))return Li(Li({},e),{},yf({},S,e[S]+(y||0)))}return e},jEe=function(e,n,r){return _t(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},r7=function(e,n,r,i,o){var s=n.props.children,l=po(s,ex).filter(function(f){return jEe(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=mi(h,r,0),y=Array.isArray(p)?[Xb(p),Qa(p)]:[p,p],_=c.reduce(function(S,A){var E=mi(h,A,0),M=y[0]-Math.abs(Array.isArray(E)?E[0]:E),I=y[1]+Math.abs(Array.isArray(E)?E[1]:E);return[Math.min(M,S[0]),Math.max(I,S[1])]},[1/0,-1/0]);return[Math.min(_[0],f[0]),Math.max(_[1],f[1])]},[1/0,-1/0])}return null},VEe=function(e,n,r,i,o){var s=n.map(function(l){return r7(e,l,r,o,i)}).filter(function(l){return!_t(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},i7=function(e,n,r,i,o){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&r7(e,c,f,i)||ep(e,f,r,o)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},o7=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},wu=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?uo(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var y=o?o.indexOf(p):p;return{coordinate:i(y)+f,value:p,offset:f}});return h.filter(function(p){return!nd(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:i(p)+f,value:p,index:y,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,y){return{coordinate:i(p)+f,value:o?o[p]:p,index:y,offset:f}})},_S=new WeakMap,Dy=function(e,n){if(typeof n!="function")return e;_S.has(e)||_S.set(e,new WeakMap);var r=_S.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},UEe=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Np(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:m0(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Zh(),realScaleType:"point"}:o==="category"?{scale:Np(),realScaleType:"band"}:{scale:m0(),realScaleType:"linear"};if(Im(i)){var c="scale".concat(Vb(i));return{scale:(sB[c]||Zh)(),realScaleType:sB[c]?c:"point"}}return ht(i)?{scale:i}:{scale:Zh(),realScaleType:"point"}},wB=1e-4,BEe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-wB,s=Math.max(i[0],i[1])+wB,l=e(n[0]),c=e(n[r-1]);(l<o||l>s||c<o||c>s)&&e.domain([n[0],n[r-1]])}},FEe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},qEe=function(e,n){if(!n||n.length!==2||!ke(n[0])||!ke(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ke(e[0])||e[0]<r)&&(o[0]=r),(!ke(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},zEe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,l=0;l<n;++l){var c=nd(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},$Ee=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var l=nd(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},GEe={sign:zEe,expand:j0e,none:Nf,silhouette:V0e,wiggle:U0e,positive:$Ee},HEe=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),o=GEe[r],s=L0e().keys(i).value(function(l,c){return+mi(l,c,0)}).order(vC).offset(o);return s(e)},KEe=function(e,n,r,i,o,s){if(!e)return null;var l=s?n.reverse():n,c={},f=l.reduce(function(p,y){var _=y.props,S=_.stackId,A=_.hide;if(A)return p;var E=y.props[r],M=p[E]||{hasStack:!1,stackGroups:{}};if(Bn(S)){var I=M.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};I.items.push(y),M.hasStack=!0,M.stackGroups[S]=I}else M.stackGroups[Nm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return Li(Li({},p),{},yf({},E,M))},c),h={};return Object.keys(f).reduce(function(p,y){var _=f[y];if(_.hasStack){var S={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(A,E){var M=_.stackGroups[E];return Li(Li({},A),{},yf({},E,{numericAxisId:r,cateAxisId:i,items:M.items,stackedData:HEe(e,M.items,o)}))},S)}return Li(Li({},p),{},yf({},y,_))},h)},WEe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=hEe(f,o,l);return e.domain([Xb(h),Qa(h)]),{niceTicks:h}}if(o&&i==="number"){var p=e.domain(),y=pEe(p,o,l);return{niceTicks:y}}return null};function TB(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_t(i[e.dataKey])){var l=Wv(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=mi(i,_t(s)?e.dataKey:s);return _t(c)?null:e.scale(c)}var EB=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=mi(s,n.dataKey,n.domain[l]);return _t(c)?null:n.scale(c)-o/2+i},YEe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},JEe=function(e,n){var r=e.props.stackId;if(Bn(r)){var i=n[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},XEe=function(e){return e.reduce(function(n,r){return[Xb(r.concat([n[0]]).filter(ke)),Qa(r.concat([n[1]]).filter(ke))]},[1/0,-1/0])},s7=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],l=s.stackedData,c=l.reduce(function(f,h){var p=XEe(h.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},SB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FC=function(e,n,r){if(ht(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ke(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(SB.test(e[0])){var o=+SB.exec(e[0])[1];i[0]=n[0]-o}else ht(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ke(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(AB.test(e[1])){var s=+AB.exec(e[1])[1];i[1]=n[1]+s}else ht(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},_0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=LR(n,function(p){return p.coordinate}),s=1/0,l=1,c=o.length;l<c;l++){var f=o[l],h=o[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},CB=function(e,n,r){return!e||!e.length||Op(e,Ui(r,"type.defaultProps.domain"))?n:e},a7=function(e,n){var r=e.props,i=r.dataKey,o=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return Li(Li({},mt(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:o||i,color:lk(e),value:mi(n,i),type:c,payload:n,chartType:f,hide:h})};function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function IB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IB(Object(n),!0).forEach(function(r){QEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QEe(t,e,n){return e=ZEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZEe(t){var e=eSe(t,"string");return Up(e)=="symbol"?e:String(e)}function eSe(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w0=Math.PI/180,tSe=function(e){return e*180/Math.PI},lr=function(e,n,r,i){return{x:e+Math.cos(-w0*i)*r,y:n+Math.sin(-w0*i)*r}},nSe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},rSe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,l=nSe({x:r,y:i},{x:o,y:s});if(l<=0)return{radius:l};var c=(r-o)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:tSe(f),angleInRadian:f}},iSe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},oSe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(o,s);return e+l*360},RB=function(e,n){var r=e.x,i=e.y,o=rSe({x:r,y:i},n),s=o.radius,l=o.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=iSe(n),p=h.startAngle,y=h.endAngle,_=l,S;if(p<=y){for(;_>y;)_-=360;for(;_<p;)_+=360;S=_>=p&&_<=y}else{for(;_>p;)_-=360;for(;_<y;)_+=360;S=_>=y&&_<=p}return S?NB(NB({},n),{},{radius:s,angle:oSe(_,n)}):null};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}var sSe=["offset"];function aSe(t){return fSe(t)||cSe(t)||uSe(t)||lSe()}function lSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uSe(t,e){if(t){if(typeof t=="string")return qC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qC(t,e)}}function cSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fSe(t){if(Array.isArray(t))return qC(t)}function qC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dSe(t,e){if(t==null)return{};var n=hSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kB(Object(n),!0).forEach(function(r){pSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pSe(t,e,n){return e=mSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mSe(t){var e=gSe(t,"string");return Bp(e)=="symbol"?e:String(e)}function gSe(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fp.apply(this,arguments)}var ySe=function(e){var n=e.value,r=e.formatter,i=_t(e.children)?n:e.children;return ht(r)?r(i):i},vSe=function(e,n){var r=uo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},bSe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,f=c.cx,h=c.cy,p=c.innerRadius,y=c.outerRadius,_=c.startAngle,S=c.endAngle,A=c.clockWise,E=(p+y)/2,M=vSe(_,S),I=M>=0?1:-1,N,C;i==="insideStart"?(N=_+I*s,C=A):i==="insideEnd"?(N=S-I*s,C=!A):i==="end"&&(N=S+I*s,C=A),C=M<=0?C:!C;var R=lr(f,h,E,N),L=lr(f,h,E,N+(C?1:-1)*359),P="M".concat(R.x,",").concat(R.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(C?0:1,`,
    `).concat(L.x,",").concat(L.y),O=_t(e.id)?Nm("recharts-radial-line-"):e.id;return re.createElement("text",Fp({},r,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",l)}),re.createElement("defs",null,re.createElement("path",{id:O,d:P})),re.createElement("textPath",{xlinkHref:"#".concat(O)},n))},xSe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,h=o.startAngle,p=o.endAngle,y=(h+p)/2;if(i==="outside"){var _=lr(s,l,f+r,y),S=_.x,A=_.y;return{x:S,y:A,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var E=(c+f)/2,M=lr(s,l,E,y),I=M.x,N=M.y;return{x:I,y:N,textAnchor:"middle",verticalAnchor:"middle"}},_Se=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,l=s.x,c=s.y,f=s.width,h=s.height,p=h>=0?1:-1,y=p*i,_=p>0?"end":"start",S=p>0?"start":"end",A=f>=0?1:-1,E=A*i,M=A>0?"end":"start",I=A>0?"start":"end";if(o==="top"){var N={x:l+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:_};return Vn(Vn({},N),r?{height:Math.max(c-r.y,0),width:f}:{})}if(o==="bottom"){var C={x:l+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:S};return Vn(Vn({},C),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(o==="left"){var R={x:l-E,y:c+h/2,textAnchor:M,verticalAnchor:"middle"};return Vn(Vn({},R),r?{width:Math.max(R.x-r.x,0),height:h}:{})}if(o==="right"){var L={x:l+f+E,y:c+h/2,textAnchor:I,verticalAnchor:"middle"};return Vn(Vn({},L),r?{width:Math.max(r.x+r.width-L.x,0),height:h}:{})}var P=r?{width:f,height:h}:{};return o==="insideLeft"?Vn({x:l+E,y:c+h/2,textAnchor:I,verticalAnchor:"middle"},P):o==="insideRight"?Vn({x:l+f-E,y:c+h/2,textAnchor:M,verticalAnchor:"middle"},P):o==="insideTop"?Vn({x:l+f/2,y:c+y,textAnchor:"middle",verticalAnchor:S},P):o==="insideBottom"?Vn({x:l+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:_},P):o==="insideTopLeft"?Vn({x:l+E,y:c+y,textAnchor:I,verticalAnchor:S},P):o==="insideTopRight"?Vn({x:l+f-E,y:c+y,textAnchor:M,verticalAnchor:S},P):o==="insideBottomLeft"?Vn({x:l+E,y:c+h-y,textAnchor:I,verticalAnchor:_},P):o==="insideBottomRight"?Vn({x:l+f-E,y:c+h-y,textAnchor:M,verticalAnchor:_},P):td(o)&&(ke(o.x)||bu(o.x))&&(ke(o.y)||bu(o.y))?Vn({x:l+If(o.x,f),y:c+If(o.y,h),textAnchor:"end",verticalAnchor:"end"},P):Vn({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},wSe=function(e){return"cx"in e&&ke(e.cx)};function gr(t){var e=t.offset,n=e===void 0?5:e,r=dSe(t,sSe),i=Vn({offset:n},r),o=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,y=i.textBreakAll;if(!o||_t(l)&&_t(c)&&!Y.isValidElement(f)&&!ht(f))return null;if(Y.isValidElement(f))return Y.cloneElement(f,i);var _;if(ht(f)){if(_=Y.createElement(f,i),Y.isValidElement(_))return _}else _=ySe(i);var S=wSe(o),A=mt(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return bSe(i,_,A);var E=S?xSe(i):_Se(i);return re.createElement(a0,Fp({className:Vt("recharts-label",p)},A,E,{breakAll:y}),_)}gr.displayName="Label";var l7=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,y=e.y,_=e.top,S=e.left,A=e.width,E=e.height,M=e.clockWise,I=e.labelViewBox;if(I)return I;if(ke(A)&&ke(E)){if(ke(p)&&ke(y))return{x:p,y,width:A,height:E};if(ke(_)&&ke(S))return{x:_,y:S,width:A,height:E}}return ke(p)&&ke(y)?{x:p,y,width:0,height:0}:ke(n)&&ke(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:M}:e.viewBox?e.viewBox:{}},TSe=function(e,n){return e?e===!0?re.createElement(gr,{key:"label-implicit",viewBox:n}):Bn(e)?re.createElement(gr,{key:"label-implicit",viewBox:n,value:e}):Y.isValidElement(e)?e.type===gr?Y.cloneElement(e,{key:"label-implicit",viewBox:n}):re.createElement(gr,{key:"label-implicit",content:e,viewBox:n}):ht(e)?re.createElement(gr,{key:"label-implicit",content:e,viewBox:n}):td(e)?re.createElement(gr,Fp({viewBox:n},e,{key:"label-implicit"})):null:null},ESe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=l7(e),s=po(i,gr).map(function(c,f){return Y.cloneElement(c,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return s;var l=TSe(e.label,n||o);return[l].concat(aSe(s))};gr.parseViewBox=l7;gr.renderCallByParent=ESe;var wS,PB;function SSe(){if(PB)return wS;PB=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return wS=t,wS}var ASe=SSe();const CSe=Ht(ASe);function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}var ISe=["valueAccessor"],NSe=["data","dataKey","clockWise","id","textBreakAll"];function RSe(t){return OSe(t)||MSe(t)||PSe(t)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PSe(t,e){if(t){if(typeof t=="string")return zC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zC(t,e)}}function MSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OSe(t){if(Array.isArray(t))return zC(t)}function zC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(this,arguments)}function MB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MB(Object(n),!0).forEach(function(r){DSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DSe(t,e,n){return e=LSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LSe(t){var e=jSe(t,"string");return qp(e)=="symbol"?e:String(e)}function jSe(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DB(t,e){if(t==null)return{};var n=VSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var USe=function(e){return Array.isArray(e.value)?CSe(e.value):e.value};function sl(t){var e=t.valueAccessor,n=e===void 0?USe:e,r=DB(t,ISe),i=r.data,o=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,f=DB(r,NSe);return!i||!i.length?null:re.createElement(ln,{className:"recharts-label-list"},i.map(function(h,p){var y=_t(o)?n(h,p):mi(h&&h.payload,o),_=_t(l)?{}:{id:"".concat(l,"-").concat(p)};return re.createElement(gr,T0({},mt(h,!0),f,_,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:gr.parseViewBox(_t(s)?h:OB(OB({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}sl.displayName="LabelList";function BSe(t,e){return t?t===!0?re.createElement(sl,{key:"labelList-implicit",data:e}):re.isValidElement(t)||ht(t)?re.createElement(sl,{key:"labelList-implicit",data:e,content:t}):td(t)?re.createElement(sl,T0({data:e},t,{key:"labelList-implicit"})):null:null}function FSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=po(r,sl).map(function(s,l){return Y.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var o=BSe(t.label,e);return[o].concat(RSe(i))}sl.renderCallByParent=FSe;function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function $C(){return $C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$C.apply(this,arguments)}function LB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LB(Object(n),!0).forEach(function(r){qSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qSe(t,e,n){return e=zSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zSe(t){var e=$Se(t,"string");return zp(e)=="symbol"?e:String(e)}function $Se(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GSe=function(e,n){var r=uo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Ly=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,p=Math.asin(c/h)/w0,y=f?o:o+s*p,_=lr(n,r,h,y),S=lr(n,r,i,y),A=f?o-s*p:o,E=lr(n,r,h*Math.cos(p*w0),A);return{center:_,circleTangency:S,lineTangency:E,theta:p}},u7=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,l=e.endAngle,c=GSe(s,l),f=s+c,h=lr(n,r,o,s),p=lr(n,r,o,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var _=lr(n,r,i,s),S=lr(n,r,i,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},HSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=uo(h-f),y=Ly({cx:n,cy:r,radius:o,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),_=y.circleTangency,S=y.lineTangency,A=y.theta,E=Ly({cx:n,cy:r,radius:o,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),M=E.circleTangency,I=E.lineTangency,N=E.theta,C=c?Math.abs(f-h):Math.abs(f-h)-A-N;if(C<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):u7({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var R="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var L=Ly({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=L.circleTangency,O=L.lineTangency,j=L.theta,q=Ly({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),F=q.circleTangency,z=q.lineTangency,B=q.theta,X=c?Math.abs(f-h):Math.abs(f-h)-j-B;if(X<0&&s===0)return"".concat(R,"L").concat(n,",").concat(r,"Z");R+="L".concat(z.x,",").concat(z.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(X>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,"Z")}else R+="L".concat(n,",").concat(r,"Z");return R},KSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},c7=function(e){var n=jB(jB({},KSe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,y=n.className;if(s<o||h===p)return null;var _=Vt("recharts-sector",y),S=s-o,A=If(l,S,0,!0),E;return A>0&&Math.abs(h-p)<360?E=HSe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(A,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):E=u7({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:h,endAngle:p}),re.createElement("path",$C({},mt(n,!0),{className:_,d:E,role:"img"}))};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function GC(){return GC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GC.apply(this,arguments)}function VB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VB(Object(n),!0).forEach(function(r){WSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WSe(t,e,n){return e=YSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YSe(t){var e=JSe(t,"string");return $p(e)=="symbol"?e:String(e)}function JSe(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BB={curveBasisClosed:S0e,curveBasisOpen:A0e,curveBasis:E0e,curveBumpX:c0e,curveBumpY:f0e,curveLinearClosed:C0e,curveLinear:Bb,curveMonotoneX:I0e,curveMonotoneY:N0e,curveNatural:R0e,curveStep:k0e,curveStepAfter:M0e,curveStepBefore:P0e},jy=function(e){return e.x===+e.x&&e.y===+e.y},Th=function(e){return e.x},Eh=function(e){return e.y},XSe=function(e,n){if(ht(e))return e;var r="curve".concat(Vb(e));return(r==="curveMonotone"||r==="curveBump")&&n?BB["".concat(r).concat(n==="vertical"?"Y":"X")]:BB[r]||Bb},QSe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=XSe(r,l),p=f?o.filter(function(A){return jy(A)}):o,y;if(Array.isArray(s)){var _=f?s.filter(function(A){return jy(A)}):s,S=p.map(function(A,E){return UB(UB({},A),{},{base:_[E]})});return l==="vertical"?y=Iy().y(Eh).x1(Th).x0(function(A){return A.base.x}):y=Iy().x(Th).y1(Eh).y0(function(A){return A.base.y}),y.defined(jy).curve(h),y(S)}return l==="vertical"&&ke(s)?y=Iy().y(Eh).x1(Th).x0(s):ke(s)?y=Iy().x(Th).y1(Eh).y0(s):y=vG().x(Th).y(Eh),y.defined(jy).curve(h),y(p)},tp=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?QSe(e):i;return re.createElement("path",GC({},mt(e,!1),Yv(e),{className:Vt("recharts-curve",n),d:s,ref:o}))},TS={exports:{}},ES,FB;function ZSe(){if(FB)return ES;FB=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ES=t,ES}var SS,qB;function eAe(){if(qB)return SS;qB=1;var t=ZSe();function e(){}function n(){}return n.resetWarningCache=e,SS=function(){function r(s,l,c,f,h,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},SS}var zB;function tAe(){return zB||(zB=1,TS.exports=eAe()()),TS.exports}var nAe=tAe();const Rt=Ht(nAe),{getOwnPropertyNames:rAe,getOwnPropertySymbols:iAe}=Object,{hasOwnProperty:oAe}=Object.prototype;function AS(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Vy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),l=o.get(r);if(s&&l)return s===r&&l===n;o.set(n,r),o.set(r,n);const c=t(n,r,i);return o.delete(n),o.delete(r),c}}function sAe(t){return t!=null?t[Symbol.toStringTag]:void 0}function $B(t){return rAe(t).concat(iAe(t))}const aAe=Object.hasOwn||((t,e)=>oAe.call(t,e));function ec(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const lAe="__v",uAe="__o",cAe="_owner",{getOwnPropertyDescriptor:GB,keys:HB}=Object;function fAe(t,e){return t.byteLength===e.byteLength&&E0(new Uint8Array(t),new Uint8Array(e))}function dAe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function hAe(t,e){return t.byteLength===e.byteLength&&E0(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function pAe(t,e){return ec(t.getTime(),e.getTime())}function mAe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function gAe(t,e){return t===e}function KB(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,l,c=0;for(;(s=o.next())&&!s.done;){const f=e.entries();let h=!1,p=0;for(;(l=f.next())&&!l.done;){if(i[p]){p++;continue}const y=s.value,_=l.value;if(n.equals(y[0],_[0],c,p,t,e,n)&&n.equals(y[1],_[1],y[0],_[0],t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}const yAe=ec;function vAe(t,e,n){const r=HB(t);let i=r.length;if(HB(e).length!==i)return!1;for(;i-- >0;)if(!f7(t,e,n,r[i]))return!1;return!0}function Sh(t,e,n){const r=$B(t);let i=r.length;if($B(e).length!==i)return!1;let o,s,l;for(;i-- >0;)if(o=r[i],!f7(t,e,n,o)||(s=GB(t,o),l=GB(e,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function bAe(t,e){return ec(t.valueOf(),e.valueOf())}function xAe(t,e){return t.source===e.source&&t.flags===e.flags}function WB(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,l;for(;(s=o.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function E0(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function _Ae(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function f7(t,e,n,r){return(r===cAe||r===uAe||r===lAe)&&(t.$$typeof||e.$$typeof)?!0:aAe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const wAe="[object ArrayBuffer]",TAe="[object Arguments]",EAe="[object Boolean]",SAe="[object DataView]",AAe="[object Date]",CAe="[object Error]",IAe="[object Map]",NAe="[object Number]",RAe="[object Object]",kAe="[object RegExp]",PAe="[object Set]",MAe="[object String]",OAe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},DAe="[object URL]",LAe=Object.prototype.toString;function jAe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:p,areTypedArraysEqual:y,areUrlsEqual:_,unknownTagComparators:S}){return function(E,M,I){if(E===M)return!0;if(E==null||M==null)return!1;const N=typeof E;if(N!==typeof M)return!1;if(N!=="object")return N==="number"?l(E,M,I):N==="function"?o(E,M,I):!1;const C=E.constructor;if(C!==M.constructor)return!1;if(C===Object)return c(E,M,I);if(Array.isArray(E))return e(E,M,I);if(C===Date)return r(E,M,I);if(C===RegExp)return h(E,M,I);if(C===Map)return s(E,M,I);if(C===Set)return p(E,M,I);const R=LAe.call(E);if(R===AAe)return r(E,M,I);if(R===kAe)return h(E,M,I);if(R===IAe)return s(E,M,I);if(R===PAe)return p(E,M,I);if(R===RAe)return typeof E.then!="function"&&typeof M.then!="function"&&c(E,M,I);if(R===DAe)return _(E,M,I);if(R===CAe)return i(E,M,I);if(R===TAe)return c(E,M,I);if(OAe[R])return y(E,M,I);if(R===wAe)return t(E,M,I);if(R===SAe)return n(E,M,I);if(R===EAe||R===NAe||R===MAe)return f(E,M,I);if(S){let L=S[R];if(!L){const P=sAe(E);P&&(L=S[P])}if(L)return L(E,M,I)}return!1}}function VAe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:fAe,areArraysEqual:n?Sh:dAe,areDataViewsEqual:hAe,areDatesEqual:pAe,areErrorsEqual:mAe,areFunctionsEqual:gAe,areMapsEqual:n?AS(KB,Sh):KB,areNumbersEqual:yAe,areObjectsEqual:n?Sh:vAe,arePrimitiveWrappersEqual:bAe,areRegExpsEqual:xAe,areSetsEqual:n?AS(WB,Sh):WB,areTypedArraysEqual:n?AS(E0,Sh):E0,areUrlsEqual:_Ae,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Vy(r.areArraysEqual),o=Vy(r.areMapsEqual),s=Vy(r.areObjectsEqual),l=Vy(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return r}function UAe(t){return function(e,n,r,i,o,s,l){return t(e,n,l)}}function BAe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(l,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,o)}}const FAe=Nl();Nl({strict:!0});Nl({circular:!0});Nl({circular:!0,strict:!0});Nl({createInternalComparator:()=>ec});Nl({strict:!0,createInternalComparator:()=>ec});Nl({circular:!0,createInternalComparator:()=>ec});Nl({circular:!0,createInternalComparator:()=>ec,strict:!0});function Nl(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=VAe(t),s=jAe(o),l=n?n(s):UAe(s);return BAe({circular:e,comparator:s,createState:r,equals:l,strict:i})}function qAe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function YB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):qAe(i)};requestAnimationFrame(r)}function HC(t){"@babel/helpers - typeof";return HC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HC(t)}function zAe(t){return KAe(t)||HAe(t)||GAe(t)||$Ae()}function $Ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GAe(t,e){if(t){if(typeof t=="string")return JB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JB(t,e)}}function JB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KAe(t){if(Array.isArray(t))return t}function WAe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,l=zAe(s),c=l[0],f=l.slice(1);if(typeof c=="number"){YB(i.bind(null,f),c);return}i(c),YB(i.bind(null,f));return}HC(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function XB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(n),!0).forEach(function(r){d7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d7(t,e,n){return e=YAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YAe(t){var e=JAe(t,"string");return Gp(e)==="symbol"?e:String(e)}function JAe(t,e){if(Gp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XAe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},QAe=function(e){return e},ZAe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},np=function(e,n){return Object.keys(n).reduce(function(r,i){return QB(QB({},r),{},d7({},i,e(i,n[i])))},{})},ZB=function(e,n,r){return e.map(function(i){return"".concat(ZAe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function eCe(t,e){return rCe(t)||nCe(t,e)||h7(t,e)||tCe()}function tCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function rCe(t){if(Array.isArray(t))return t}function iCe(t){return aCe(t)||sCe(t)||h7(t)||oCe()}function oCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7(t,e){if(t){if(typeof t=="string")return KC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KC(t,e)}}function sCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aCe(t){if(Array.isArray(t))return KC(t)}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S0=1e-4,p7=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},m7=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},e6=function(e,n){return function(r){var i=p7(e,n);return m7(i,r)}},lCe=function(e,n){return function(r){var i=p7(e,n),o=[].concat(iCe(i.map(function(s,l){return s*l}).slice(1)),[0]);return m7(o,r)}},t6=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,l=1;break;case"ease":i=.25,o=.1,s=.25,l=1;break;case"ease-in":i=.42,o=0,s=1,l=1;break;case"ease-out":i=.42,o=0,s=.58,l=1;break;case"ease-in-out":i=0,o=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(E){return parseFloat(E)}),h=eCe(f,4);i=h[0],o=h[1],s=h[2],l=h[3]}}}var p=e6(i,s),y=e6(o,l),_=lCe(i,s),S=function(M){return M>1?1:M<0?0:M},A=function(M){for(var I=M>1?1:M,N=I,C=0;C<8;++C){var R=p(N)-I,L=_(N);if(Math.abs(R-I)<S0||L<S0)return y(N);N=S(N-R/L)}return y(N)};return A.isStepper=!1,A},uCe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(h,p,y){var _=-(h-p)*r,S=y*o,A=y+(_-S)*l/1e3,E=y*l/1e3+h;return Math.abs(E-p)<S0&&Math.abs(A)<S0?[p,0]:[E,A]};return c.isStepper=!0,c.dt=l,c},cCe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return t6(i);case"spring":return uCe();default:if(i.split("(")[0]==="cubic-bezier")return t6(i)}return typeof i=="function"?i:null};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function n6(t){return hCe(t)||dCe(t)||g7(t)||fCe()}function fCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hCe(t){if(Array.isArray(t))return YC(t)}function r6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(n),!0).forEach(function(r){WC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WC(t,e,n){return e=pCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pCe(t){var e=mCe(t,"string");return Hp(e)==="symbol"?e:String(e)}function mCe(t,e){if(Hp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gCe(t,e){return bCe(t)||vCe(t,e)||g7(t,e)||yCe()}function yCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7(t,e){if(t){if(typeof t=="string")return YC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YC(t,e)}}function YC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function bCe(t){if(Array.isArray(t))return t}var A0=function(e,n,r){return e+(n-e)*r},JC=function(e){var n=e.from,r=e.to;return n!==r},xCe=function t(e,n,r){var i=np(function(o,s){if(JC(s)){var l=e(s.from,s.to,s.velocity),c=gCe(l,2),f=c[0],h=c[1];return or(or({},s),{},{from:f,velocity:h})}return s},n);return r<1?np(function(o,s){return JC(s)?or(or({},s),{},{velocity:A0(s.velocity,i[o].velocity,r),from:A0(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const _Ce=(function(t,e,n,r,i){var o=XAe(t,e),s=o.reduce(function(E,M){return or(or({},E),{},WC({},M,[t[M],e[M]]))},{}),l=o.reduce(function(E,M){return or(or({},E),{},WC({},M,{from:t[M],velocity:0,to:e[M]}))},{}),c=-1,f,h,p=function(){return null},y=function(){return np(function(M,I){return I.from},l)},_=function(){return!Object.values(l).filter(JC).length},S=function(M){f||(f=M);var I=M-f,N=I/n.dt;l=xCe(n,l,N),i(or(or(or({},t),e),y())),f=M,_()||(c=requestAnimationFrame(p))},A=function(M){h||(h=M);var I=(M-h)/r,N=np(function(R,L){return A0.apply(void 0,n6(L).concat([n(I)]))},s);if(i(or(or(or({},t),e),N)),I<1)c=requestAnimationFrame(p);else{var C=np(function(R,L){return A0.apply(void 0,n6(L).concat([n(1)]))},s);i(or(or(or({},t),e),C))}};return p=n.isStepper?S:A,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}var wCe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function TCe(t,e){if(t==null)return{};var n=ECe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ECe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CS(t){return ICe(t)||CCe(t)||ACe(t)||SCe()}function SCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ACe(t,e){if(t){if(typeof t=="string")return XC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XC(t,e)}}function CCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ICe(t){if(Array.isArray(t))return XC(t)}function XC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(r){jh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jh(t,e,n){return e=y7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y7(r.key),r)}}function kCe(t,e,n){return e&&RCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function y7(t){var e=PCe(t,"string");return jf(e)==="symbol"?e:String(e)}function PCe(t,e){if(jf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QC(t,e)}function QC(t,e){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QC(t,e)}function OCe(t){var e=DCe();return function(){var r=C0(t),i;if(e){var o=C0(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ZC(this,i)}}function ZC(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eI(t)}function eI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(t)}var Qs=(function(t){MCe(n,t);var e=OCe(n);function n(r,i){var o;NCe(this,n),o=e.call(this,r,i);var s=o.props,l=s.isActive,c=s.attributeName,f=s.from,h=s.to,p=s.steps,y=s.children,_=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(eI(o)),o.changeStyle=o.changeStyle.bind(eI(o)),!l||_<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:h}),ZC(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof y=="function")return o.state={style:f},ZC(o);o.state={style:c?jh({},c,f):f}}else o.state={style:{}};return o}return kCe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,h=o.to,p=o.from,y=this.state.style;if(l){if(!s){var _={style:c?jh({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(_);return}if(!(FAe(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=S||f?p:i.to;if(this.state&&y){var E={style:c?jh({},c,A):A};(c&&y[c]!==A||!c&&y!==A)&&this.setState(E)}this.runAnimation(io(io({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,_=_Ce(s,l,cCe(f),c,this.changeStyle),S=function(){o.stopJSAnimation=_()};this.manager.start([y,h,S,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,p=f.duration,y=p===void 0?0:p,_=function(A,E,M){if(M===0)return A;var I=E.duration,N=E.easing,C=N===void 0?"ease":N,R=E.style,L=E.properties,P=E.onAnimationEnd,O=M>0?s[M-1]:E,j=L||Object.keys(R);if(typeof C=="function"||C==="spring")return[].concat(CS(A),[o.runJSAnimation.bind(o,{from:O.style,to:R,duration:I,easing:C}),I]);var q=ZB(j,I,C),F=io(io(io({},O.style),R),{},{transition:q});return[].concat(CS(A),[F,I,P]).filter(QAe)};return this.manager.start([c].concat(CS(s.reduce(_,[h,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=WAe());var o=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,_=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof _=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var A=l?jh({},l,c):c,E=ZB(Object.keys(A),s,f);S.start([h,o,io(io({},A),{},{transition:E}),s,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=TCe(i,wCe),f=Y.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!l||f===0||s<=0)return o;var p=function(_){var S=_.props,A=S.style,E=A===void 0?{}:A,M=S.className,I=Y.cloneElement(_,io(io({},c),{},{style:io(io({},E),h),className:M}));return I};return f===1?p(Y.Children.only(o)):re.createElement("div",null,Y.Children.map(o,function(y){return p(y)}))}}]),n})(Y.PureComponent);Qs.displayName="Animate";Qs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qs.propTypes={from:Rt.oneOfType([Rt.object,Rt.string]),to:Rt.oneOfType([Rt.object,Rt.string]),attributeName:Rt.string,duration:Rt.number,begin:Rt.number,easing:Rt.oneOfType([Rt.string,Rt.func]),steps:Rt.arrayOf(Rt.shape({duration:Rt.number.isRequired,style:Rt.object.isRequired,easing:Rt.oneOfType([Rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Rt.func]),properties:Rt.arrayOf("string"),onAnimationEnd:Rt.func})),children:Rt.oneOfType([Rt.node,Rt.func]),isActive:Rt.bool,canBegin:Rt.bool,onAnimationEnd:Rt.func,shouldReAnimate:Rt.bool,onAnimationStart:Rt.func,onAnimationReStart:Rt.func};function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I0.apply(this,arguments)}function LCe(t,e){return BCe(t)||UCe(t,e)||VCe(t,e)||jCe()}function jCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VCe(t,e){if(t){if(typeof t=="string")return o6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o6(t,e)}}function o6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function BCe(t){if(Array.isArray(t))return t}function s6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(n),!0).forEach(function(r){FCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FCe(t,e,n){return e=qCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qCe(t){var e=zCe(t,"string");return Kp(e)=="symbol"?e:String(e)}function zCe(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l6=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&o instanceof Array){for(var p=[0,0,0,0],y=0,_=4;y<_;y++)p[y]=o[y]>s?s:o[y];h="M".concat(e,",").concat(n+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),h+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*p[1])),h+="L ".concat(e+r,",").concat(n+i-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),h+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*p[3])),h+="Z"}else if(s>0&&o===+o&&o>0){var S=Math.min(s,o);h="M ".concat(e,",").concat(n+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(n,`
            L `).concat(e+r-c*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*S,`
            L `).concat(e+r,",").concat(n+i-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r-c*S,",").concat(n+i,`
            L `).concat(e+c*S,",").concat(n+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*S," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},$Ce=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),h=Math.max(o,o+l),p=Math.min(s,s+c),y=Math.max(s,s+c);return r>=f&&r<=h&&i>=p&&i<=y}return!1},GCe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uk=function(e){var n=a6(a6({},GCe),e),r=Y.useRef(),i=Y.useState(-1),o=LCe(i,2),s=o[0],l=o[1];Y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,f=n.y,h=n.width,p=n.height,y=n.radius,_=n.className,S=n.animationEasing,A=n.animationDuration,E=n.animationBegin,M=n.isAnimationActive,I=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var N=Vt("recharts-rectangle",_);return I?re.createElement(Qs,{canBegin:s>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:A,animationEasing:S,isActive:I},function(C){var R=C.width,L=C.height,P=C.x,O=C.y;return re.createElement(Qs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:A,isActive:M,easing:S},re.createElement("path",I0({},mt(n,!0),{className:N,d:l6(P,O,R,L,y),ref:r})))}):re.createElement("path",I0({},mt(n,!0),{className:N,d:l6(c,f,h,p,y)}))};function tI(){return tI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tI.apply(this,arguments)}var ck=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Vt("recharts-dot",o);return n===+n&&r===+r&&i===+i?re.createElement("circle",tI({},mt(e,!1),Yv(e),{className:s,cx:n,cy:r,r:i})):null};function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}var HCe=["x","y","top","left","width","height","className"];function nI(){return nI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nI.apply(this,arguments)}function u6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(n),!0).forEach(function(r){WCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WCe(t,e,n){return e=YCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YCe(t){var e=JCe(t,"string");return Wp(e)=="symbol"?e:String(e)}function JCe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XCe(t,e){if(t==null)return{};var n=QCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ZCe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},eIe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,y=e.height,_=y===void 0?0:y,S=e.className,A=XCe(e,HCe),E=KCe({x:r,y:o,top:l,left:f,width:p,height:_},A);return!ke(r)||!ke(o)||!ke(p)||!ke(_)||!ke(l)||!ke(f)?null:re.createElement("path",nI({},mt(E,!0),{className:Vt("recharts-cross",S),d:ZCe(r,o,p,_,l,f)}))},IS,c6;function tIe(){if(c6)return IS;c6=1;var t=FG(),e=t(Object.getPrototypeOf,Object);return IS=e,IS}var NS,f6;function nIe(){if(f6)return NS;f6=1;var t=ra(),e=tIe(),n=ia(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,l=o.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var y=l.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return NS=f,NS}var rIe=nIe();const iIe=Ht(rIe);var RS,d6;function oIe(){if(d6)return RS;d6=1;var t=ra(),e=ia(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return RS=r,RS}var sIe=oIe();const aIe=Ht(sIe);function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}function lIe(t,e){return dIe(t)||fIe(t,e)||cIe(t,e)||uIe()}function uIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cIe(t,e){if(t){if(typeof t=="string")return h6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h6(t,e)}}function h6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function dIe(t){if(Array.isArray(t))return t}function p6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(n),!0).forEach(function(r){hIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hIe(t,e,n){return e=pIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pIe(t){var e=mIe(t,"string");return Yp(e)=="symbol"?e:String(e)}function mIe(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g6=function(e,n,r,i,o){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+o),l+="L ".concat(e+r-s/2-i,",").concat(n+o),l+="L ".concat(e,",").concat(n," Z"),l},gIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yIe=function(e){var n=m6(m6({},gIe),e),r=Y.useRef(),i=Y.useState(-1),o=lIe(i,2),s=o[0],l=o[1];Y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,p=n.lowerWidth,y=n.height,_=n.className,S=n.animationEasing,A=n.animationDuration,E=n.animationBegin,M=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||y!==+y||h===0&&p===0||y===0)return null;var I=Vt("recharts-trapezoid",_);return M?re.createElement(Qs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:y,x:c,y:f},duration:A,animationEasing:S,isActive:M},function(N){var C=N.upperWidth,R=N.lowerWidth,L=N.height,P=N.x,O=N.y;return re.createElement(Qs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:A,easing:S},re.createElement("path",N0({},mt(n,!0),{className:I,d:g6(P,O,C,R,L),ref:r})))}):re.createElement("g",null,re.createElement("path",N0({},mt(n,!0),{className:I,d:g6(c,f,h,p,y)})))},vIe=["option","shapeType","propTransformer","activeClassName","isActive"];function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function bIe(t,e){if(t==null)return{};var n=xIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(n),!0).forEach(function(r){_Ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ie(t,e,n){return e=wIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wIe(t){var e=TIe(t,"string");return Jp(e)=="symbol"?e:String(e)}function TIe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EIe(t,e){return R0(R0({},e),t)}function SIe(t,e){return t==="symbols"}function v6(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return re.createElement(uk,n);case"trapezoid":return re.createElement(yIe,n);case"sector":return re.createElement(c7,n);case"symbols":if(SIe(e))return re.createElement(IR,n);break;default:return null}}function AIe(t){return Y.isValidElement(t)?t.props:t}function CIe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?EIe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,l=t.isActive,c=bIe(t,vIe),f;if(Y.isValidElement(e))f=Y.cloneElement(e,R0(R0({},c),AIe(e)));else if(ht(e))f=e(c);else if(iIe(e)&&!aIe(e)){var h=i(e,c);f=re.createElement(v6,{shapeType:n,elementProps:h})}else{var p=c;f=re.createElement(v6,{shapeType:n,elementProps:p})}return l?re.createElement(ln,{className:s},f):f}function tx(t,e){return e!=null&&"trapezoids"in t.props}function nx(t,e){return e!=null&&"sectors"in t.props}function Xp(t,e){return e!=null&&"points"in t.props}function IIe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function NIe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function RIe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function kIe(t,e){var n;return tx(t,e)?n=IIe:nx(t,e)?n=NIe:Xp(t,e)&&(n=RIe),n}function PIe(t,e){var n;return tx(t,e)?n="trapezoids":nx(t,e)?n="sectors":Xp(t,e)&&(n="points"),n}function MIe(t,e){if(tx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(nx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Xp(t,e)?e.payload:{}}function OIe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=PIe(n,e),o=MIe(n,e),s=r.filter(function(c,f){var h=Op(o,c),p=n.props[i].filter(function(S){var A=kIe(n,e);return A(S,e)}),y=n.props[i].indexOf(p[p.length-1]),_=f===y;return h&&_}),l=r.indexOf(s[s.length-1]);return l}var kS,b6;function DIe(){if(b6)return kS;b6=1;var t=Math.ceil,e=Math.max;function n(r,i,o,s){for(var l=-1,c=e(t((i-r)/(o||1)),0),f=Array(c);c--;)f[s?c:++l]=r,r+=o;return f}return kS=n,kS}var PS,x6;function v7(){if(x6)return PS;x6=1;var t=iH(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return PS=r,PS}var MS,_6;function LIe(){if(_6)return MS;_6=1;var t=DIe(),e=$b(),n=v7();function r(i){return function(o,s,l){return l&&typeof l!="number"&&e(o,s,l)&&(s=l=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),l=l===void 0?o<s?1:-1:n(l),t(o,s,l,i)}}return MS=r,MS}var OS,w6;function jIe(){if(w6)return OS;w6=1;var t=LIe(),e=t();return OS=e,OS}var VIe=jIe();const k0=Ht(VIe);function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function T6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T6(Object(n),!0).forEach(function(r){b7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b7(t,e,n){return e=UIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UIe(t){var e=BIe(t,"string");return Qp(e)=="symbol"?e:String(e)}function BIe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FIe=["Webkit","Moz","O","ms"],qIe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=FIe.reduce(function(o,s){return E6(E6({},o),{},b7({},s+r,n))},{});return i[e]=n,i};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P0.apply(this,arguments)}function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(n),!0).forEach(function(r){oi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_7(r.key),r)}}function $Ie(t,e,n){return e&&A6(t.prototype,e),n&&A6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GIe(t,e,n){return e=M0(e),HIe(t,x7()?Reflect.construct(e,n||[],M0(t).constructor):e.apply(t,n))}function HIe(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $o(t)}function x7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x7=function(){return!!t})()}function M0(t){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M0(t)}function $o(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rI(t,e)}function rI(t,e){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rI(t,e)}function oi(t,e,n){return e=_7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _7(t){var e=WIe(t,"string");return Vf(e)=="symbol"?e:String(e)}function WIe(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YIe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Zh().domain(k0(0,c)).range([o,o+s-l]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},C6=function(e){return e.changedTouches&&!!e.changedTouches.length},Uf=(function(t){KIe(e,t);function e(n){var r;return zIe(this,e),r=GIe(this,e,[n]),oi($o(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),oi($o(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),oi($o(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:o,startIndex:l})}),r.detachDragEndListener()}),oi($o(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),oi($o(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),oi($o(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),oi($o(r),"handleSlideDragStart",function(i){var o=C6(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind($o(r),"startX"),endX:r.handleTravellerDragStart.bind($o(r),"endX")},r.state={},r}return $Ie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,p=Math.min(i,o),y=Math.max(i,o),_=e.getIndexInRange(s,p),S=e.getIndexInRange(s,y);return{startIndex:_-_%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,l=i.dataKey,c=mi(o[r],l,r);return ht(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,y=c.startIndex,_=c.endIndex,S=c.onChange,A=r.pageX-o;A>0?A=Math.min(A,f+h-p-l,f+h-p-s):A<0&&(A=Math.max(A,f-s,f-l));var E=this.getIndex({startX:s+A,endX:l+A});(E.startIndex!==y||E.endIndex!==_)&&S&&S(E),this.setState({startX:s+A,endX:l+A,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=C6(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],h=this.props,p=h.x,y=h.width,_=h.travellerWidth,S=h.onChange,A=h.gap,E=h.data,M={startX:this.state.startX,endX:this.state.endX},I=r.pageX-o;I>0?I=Math.min(I,p+y-_-f):I<0&&(I=Math.max(I,p-f)),M[s]=f+I;var N=this.getIndex(M),C=N.startIndex,R=N.endIndex,L=function(){var O=E.length-1;return s==="startX"&&(l>c?C%A===0:R%A===0)||l<c&&R===O||s==="endX"&&(l>c?R%A===0:C%A===0)||l>c&&R===O};this.setState(oi(oi({},s,f+I),"brushMoveStartX",r.pageX),function(){S&&L()&&S(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],p=l.indexOf(h);if(p!==-1){var y=p+r;if(!(y===-1||y>=l.length)){var _=l[y];i==="startX"&&_>=f||i==="endX"&&_<=c||this.setState(oi({},i,_),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.fill,f=r.stroke;return re.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.data,f=r.children,h=r.padding,p=Y.Children.only(f);return p?re.cloneElement(p,{x:i,y:o,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o=this,s=this.props,l=s.y,c=s.travellerWidth,f=s.height,h=s.traveller,p=s.ariaLabel,y=s.data,_=s.startIndex,S=s.endIndex,A=Math.max(r,this.props.x),E=DS(DS({},mt(this.props,!1)),{},{x:A,y:l,width:c,height:f}),M=p||"Min value: ".concat(y[_].name,", Max value: ").concat(y[S].name);return re.createElement(ln,{tabIndex:0,role:"slider","aria-label":M,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),o.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,E))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,h=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:p,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,p=h.startX,y=h.endX,_=5,S={pointerEvents:"none",fill:f};return re.createElement(ln,{className:"recharts-brush-texts"},re.createElement(a0,P0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-_,y:s+l/2},S),this.getTextOfTick(i)),re.createElement(a0,P0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+c+_,y:s+l/2},S),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,l=r.x,c=r.y,f=r.width,h=r.height,p=r.alwaysShowText,y=this.state,_=y.startX,S=y.endX,A=y.isTextActive,E=y.isSlideMoving,M=y.isTravellerMoving,I=y.isTravellerFocused;if(!i||!i.length||!ke(l)||!ke(c)||!ke(f)||!ke(h)||f<=0||h<=0)return null;var N=Vt("recharts-brush",o),C=re.Children.count(s)===1,R=qIe("userSelect","none");return re.createElement(ln,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(_,S),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(S,"endX"),(A||E||M||I||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,l=r.height,c=r.stroke,f=Math.floor(o+l/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:i,y:o,width:s,height:l,fill:c,stroke:"none"}),re.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return re.isValidElement(r)?o=re.cloneElement(r,i):ht(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,p=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return DS({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},o&&o.length?YIe({data:o,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var y=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,l=o-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}]),e})(Y.PureComponent);oi(Uf,"displayName","Brush");oi(Uf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var LS,I6;function JIe(){if(I6)return LS;I6=1;var t=DR();function e(n,r){var i;return t(n,function(o,s,l){return i=r(o,s,l),!i}),!!i}return LS=e,LS}var jS,N6;function XIe(){if(N6)return jS;N6=1;var t=OG(),e=Al(),n=JIe(),r=Wr(),i=$b();function o(s,l,c){var f=r(s)?t:n;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return jS=o,jS}var QIe=XIe();const ZIe=Ht(QIe);var os=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},VS,R6;function eNe(){if(R6)return VS;R6=1;var t=ZG();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return VS=e,VS}var US,k6;function tNe(){if(k6)return US;k6=1;var t=eNe(),e=XG(),n=Al();function r(i,o){var s={};return o=n(o,3),e(i,function(l,c,f){t(s,c,o(l,c,f))}),s}return US=r,US}var nNe=tNe();const rNe=Ht(nNe);var BS,P6;function iNe(){if(P6)return BS;P6=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return BS=t,BS}var FS,M6;function oNe(){if(M6)return FS;M6=1;var t=DR();function e(n,r){var i=!0;return t(n,function(o,s,l){return i=!!r(o,s,l),i}),i}return FS=e,FS}var qS,O6;function sNe(){if(O6)return qS;O6=1;var t=iNe(),e=oNe(),n=Al(),r=Wr(),i=$b();function o(s,l,c){var f=r(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,n(l,3))}return qS=o,qS}var aNe=sNe();const lNe=Ht(aNe);var uNe=["x","y"];function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function iI(){return iI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iI.apply(this,arguments)}function D6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(n),!0).forEach(function(r){cNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cNe(t,e,n){return e=fNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fNe(t){var e=dNe(t,"string");return Zp(e)=="symbol"?e:String(e)}function dNe(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hNe(t,e){if(t==null)return{};var n=pNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mNe(t,e){var n=t.x,r=t.y,i=hNe(t,uNe),o="".concat(n),s=parseInt(o,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),y=parseInt(p,10);return Ah(Ah(Ah(Ah(Ah({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function L6(t){return re.createElement(CIe,iI({shapeType:"rectangle",propTransformer:mNe,activeClassName:"recharts-active-bar"},t))}var gNe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||zu(),n)}},yNe=["value","background"],w7;function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function vNe(t,e){if(t==null)return{};var n=bNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function j6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j6(Object(n),!0).forEach(function(r){Za(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E7(r.key),r)}}function _Ne(t,e,n){return e&&V6(t.prototype,e),n&&V6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wNe(t,e,n){return e=D0(e),TNe(t,T7()?Reflect.construct(e,n||[],D0(t).constructor):e.apply(t,n))}function TNe(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vh(t)}function T7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T7=function(){return!!t})()}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}function Vh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ENe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oI(t,e)}function oI(t,e){return oI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oI(t,e)}function Za(t,e,n){return e=E7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E7(t){var e=SNe(t,"string");return Bf(e)=="symbol"?e:String(e)}function SNe(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dm=(function(t){ENe(e,t);function e(){var n;xNe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wNe(this,e,[].concat(i)),Za(Vh(n),"state",{isAnimationFinished:!1}),Za(Vh(n),"id",Nm("recharts-bar-")),Za(Vh(n),"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Za(Vh(n),"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return _Ne(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,h=mt(this.props,!1);return r&&r.map(function(p,y){var _=y===c,S=_?f:s,A=Hn(Hn(Hn({},h),p),{},{isActive:_,option:S,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return re.createElement(ln,O0({className:"recharts-bar-rectangle"},Jv(i.props,p,y),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value)}),re.createElement(L6,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,y=this.state.prevData;return re.createElement(Qs,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t,A=o.map(function(E,M){var I=y&&y[M];if(I){var N=Di(I.x,E.x),C=Di(I.y,E.y),R=Di(I.width,E.width),L=Di(I.height,E.height);return Hn(Hn({},E),{},{x:N(S),y:C(S),width:R(S),height:L(S)})}if(s==="horizontal"){var P=Di(0,E.height),O=P(S);return Hn(Hn({},E),{},{y:E.y+E.height-O,height:O})}var j=Di(0,E.width),q=j(S);return Hn(Hn({},E),{},{width:q})});return re.createElement(ln,null,r.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Op(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,l=i.activeIndex,c=mt(this.props.background,!1);return o.map(function(f,h){f.value;var p=f.background,y=vNe(f,yNe);if(!p)return null;var _=Hn(Hn(Hn(Hn(Hn({},y),{},{fill:"#eee"},p),c),Jv(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,key:"background-bar-".concat(h),className:"recharts-bar-background-rectangle"});return re.createElement(L6,O0({option:r.props.background,isActive:h===l},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=po(h,ex);if(!p)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,_=function(E,M){var I=Array.isArray(E.value)?E.value[1]:E.value;return{x:E.x,y:E.y,value:I,errorVal:mi(E,M)}},S={clipPath:r?"url(#clipPath-".concat(i,")"):null};return re.createElement(ln,S,p.map(function(A){return re.cloneElement(A,{key:"error-bar-".concat(i,"-").concat(A.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,l=r.xAxis,c=r.yAxis,f=r.left,h=r.top,p=r.width,y=r.height,_=r.isAnimationActive,S=r.background,A=r.id;if(i||!o||!o.length)return null;var E=this.state.isAnimationFinished,M=Vt("recharts-bar",s),I=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,C=I||N,R=_t(A)?this.id:A;return re.createElement(ln,{className:M},I||N?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(R)},re.createElement("rect",{x:I?f:f-p/2,y:N?h:h-y/2,width:I?p:p*2,height:N?y:y*2}))):null,re.createElement(ln,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(R,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,R),(!_||E)&&sl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e})(Y.PureComponent);w7=Dm;Za(Dm,"displayName","Bar");Za(Dm,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!id.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Za(Dm,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,y=t.offset,_=FEe(r,n);if(!_)return null;var S=e.layout,A=n.props,E=A.dataKey,M=A.children,I=A.minPointSize,N=S==="horizontal"?s:o,C=f?N.scale.domain():null,R=YEe({numericAxis:N}),L=po(M,sH),P=p.map(function(O,j){var q,F,z,B,X,ie;f?q=qEe(f[h+j],C):(q=mi(O,E),Array.isArray(q)||(q=[R,q]));var W=gNe(I,w7.defaultProps.minPointSize)(q[1],j);if(S==="horizontal"){var ee,se=[s.scale(q[0]),s.scale(q[1])],ge=se[0],K=se[1];F=EB({axis:o,ticks:l,bandSize:i,offset:_.offset,entry:O,index:j}),z=(ee=K??ge)!==null&&ee!==void 0?ee:void 0,B=_.size;var V=ge-K;if(X=Number.isNaN(V)?0:V,ie={x:F,y:s.y,width:B,height:s.height},Math.abs(W)>0&&Math.abs(X)<Math.abs(W)){var $=uo(X||W)*(Math.abs(W)-Math.abs(X));z-=$,X+=$}}else{var J=[o.scale(q[0]),o.scale(q[1])],te=J[0],fe=J[1];if(F=te,z=EB({axis:s,ticks:c,bandSize:i,offset:_.offset,entry:O,index:j}),B=fe-te,X=_.size,ie={x:o.x,y:z,width:o.width,height:X},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var ye=uo(B||W)*(Math.abs(W)-Math.abs(B));B+=ye}}return Hn(Hn(Hn({},O),{},{x:F,y:z,width:B,height:X,value:f?q:q[1],payload:O,background:ie},L&&L[j]&&L[j].props),{},{tooltipPayload:[a7(n,O)],tooltipPosition:{x:F+B/2,y:z+X/2}})});return Hn({data:P,layout:S},y)});function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function ANe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S7(r.key),r)}}function CNe(t,e,n){return e&&U6(t.prototype,e),n&&U6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B6(Object(n),!0).forEach(function(r){rx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rx(t,e,n){return e=S7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S7(t){var e=INe(t,"string");return em(e)=="symbol"?e:String(e)}function INe(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NNe=function(e,n,r,i,o){var s=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},y=!!si(f,Dm);return h.reduce(function(_,S){var A=n[S],E=A.orientation,M=A.domain,I=A.padding,N=I===void 0?{}:I,C=A.mirror,R=A.reversed,L="".concat(E).concat(C?"Mirror":""),P,O,j,q,F;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var z=M[1]-M[0],B=1/0,X=A.categoricalDomain.sort();X.forEach(function(te,fe){fe>0&&(B=Math.min((te||0)-(X[fe-1]||0),B))});var ie=B/z,W=A.layout==="vertical"?r.height:r.width;if(A.padding==="gap"&&(P=ie*W/2),A.padding==="no-gap"){var ee=If(e.barCategoryGap,ie*W),se=ie*W/2;P=se-ee-(se-ee)/W*ee}}i==="xAxis"?O=[r.left+(N.left||0)+(P||0),r.left+r.width-(N.right||0)-(P||0)]:i==="yAxis"?O=c==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(P||0),r.top+r.height-(N.bottom||0)-(P||0)]:O=A.range,R&&(O=[O[1],O[0]]);var ge=UEe(A,o,y),K=ge.scale,V=ge.realScaleType;K.domain(M).range(O),BEe(K);var $=WEe(K,oo(oo({},A),{},{realScaleType:V}));i==="xAxis"?(F=E==="top"&&!C||E==="bottom"&&C,j=r.left,q=p[L]-F*A.height):i==="yAxis"&&(F=E==="left"&&!C||E==="right"&&C,j=p[L]-F*A.width,q=r.top);var J=oo(oo(oo({},A),$),{},{realScaleType:V,x:j,y:q,scale:K,width:i==="xAxis"?r.width:A.width,height:i==="yAxis"?r.height:A.height});return J.bandSize=_0(J,$),!A.hide&&i==="xAxis"?p[L]+=(F?-1:1)*J.height:A.hide||(p[L]+=(F?-1:1)*J.width),oo(oo({},_),{},rx({},S,J))},{})},A7=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},RNe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return A7({x:n,y:r},{x:i,y:o})},C7=(function(){function t(e){ANe(this,t),this.scale=e}return CNe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t})();rx(C7,"EPS",1e-4);var fk=function(e){var n=Object.keys(e).reduce(function(r,i){return oo(oo({},r),{},rx({},i,C7.create(e[i])))},{});return oo(oo({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return rNe(i,function(c,f){return n[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return lNe(i,function(o,s){return n[s].isInRange(o)})}})};function kNe(t){return(t%180+180)%180}var PNe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=kNe(i),s=o*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},zS,F6;function MNe(){if(F6)return zS;F6=1;var t=Al(),e=Rm(),n=qb();function r(i){return function(o,s,l){var c=Object(o);if(!e(o)){var f=t(s,3);o=n(o),s=function(p){return f(c[p],p,c)}}var h=i(o,s,l);return h>-1?c[f?o[h]:h]:void 0}}return zS=r,zS}var $S,q6;function ONe(){if(q6)return $S;q6=1;var t=v7();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return $S=e,$S}var GS,z6;function DNe(){if(z6)return GS;z6=1;var t=GG(),e=Al(),n=ONe(),r=Math.max;function i(o,s,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(o,e(s,3),f)}return GS=i,GS}var HS,$6;function LNe(){if($6)return HS;$6=1;var t=MNe(),e=DNe(),n=t(e);return HS=n,HS}LNe();var jNe=aG();const VNe=Ht(jNe);var UNe=VNe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),I7=Y.createContext(void 0),N7=Y.createContext(void 0),R7=Y.createContext(void 0),BNe=Y.createContext({}),k7=Y.createContext(void 0),P7=Y.createContext(0),M7=Y.createContext(0),G6=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,h=UNe(o);return re.createElement(I7.Provider,{value:r},re.createElement(N7.Provider,{value:i},re.createElement(BNe.Provider,{value:o},re.createElement(R7.Provider,{value:h},re.createElement(k7.Provider,{value:s},re.createElement(P7.Provider,{value:f},re.createElement(M7.Provider,{value:c},l)))))))},FNe=function(){return Y.useContext(k7)},O7=function(e){var n=Y.useContext(I7);n==null&&zu();var r=n[e];return r==null&&zu(),r},D7=function(e){var n=Y.useContext(N7);n==null&&zu();var r=n[e];return r==null&&zu(),r},qNe=function(){var e=Y.useContext(R7);return e},L7=function(){return Y.useContext(M7)},j7=function(){return Y.useContext(P7)};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function H6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(n),!0).forEach(function(r){zNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zNe(t,e,n){return e=$Ne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ne(t){var e=GNe(t,"string");return tm(e)=="symbol"?e:String(e)}function GNe(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HNe(t,e){return JNe(t)||YNe(t,e)||WNe(t,e)||KNe()}function KNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WNe(t,e){if(t){if(typeof t=="string")return W6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W6(t,e)}}function W6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function JNe(t){if(Array.isArray(t))return t}function sI(){return sI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sI.apply(this,arguments)}var XNe=function(e,n){var r;return re.isValidElement(e)?r=re.cloneElement(e,n):ht(e)?r=e(n):r=re.createElement("line",sI({},n,{className:"recharts-reference-line-line"})),r},QNe=function(e,n,r,i,o,s,l,c,f){var h=o.x,p=o.y,y=o.width,_=o.height;if(r){var S=f.y,A=e.y.apply(S,{position:s});if(os(f,"discard")&&!e.y.isInRange(A))return null;var E=[{x:h+y,y:A},{x:h,y:A}];return c==="left"?E.reverse():E}if(n){var M=f.x,I=e.x.apply(M,{position:s});if(os(f,"discard")&&!e.x.isInRange(I))return null;var N=[{x:I,y:p+_},{x:I,y:p}];return l==="top"?N.reverse():N}if(i){var C=f.segment,R=C.map(function(L){return e.apply(L,{position:s})});return os(f,"discard")&&ZIe(R,function(L){return!e.isInRange(L)})?null:R}return null};function dk(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=FNe(),h=O7(i),p=D7(o),y=qNe();if(!f||!y)return null;Nu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=fk({x:h.scale,y:p.scale}),S=Bn(e),A=Bn(n),E=r&&r.length===2,M=QNe(_,S,A,E,y,t.position,h.orientation,p.orientation,t);if(!M)return null;var I=HNe(M,2),N=I[0],C=N.x,R=N.y,L=I[1],P=L.x,O=L.y,j=os(t,"hidden")?"url(#".concat(f,")"):void 0,q=K6(K6({clipPath:j},mt(t,!0)),{},{x1:C,y1:R,x2:P,y2:O});return re.createElement(ln,{className:Vt("recharts-reference-line",l)},XNe(s,q),gr.renderCallByParent(t,RNe({x1:C,y1:R,x2:P,y2:O})))}dk.displayName="ReferenceLine";dk.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function aI(){return aI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aI.apply(this,arguments)}function Y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(n),!0).forEach(function(r){ZNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZNe(t,e,n){return e=eRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eRe(t){var e=tRe(t,"string");return nm(e)=="symbol"?e:String(e)}function tRe(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nRe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=fk({x:i.scale,y:o.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return os(e,"discard")&&!s.isInRange(l)?null:l};function Lm(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,o=t.clipPathId,s=Bn(e),l=Bn(n);if(Nu(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var c=nRe(t);if(!c)return null;var f=c.x,h=c.y,p=t.shape,y=t.className,_=os(t,"hidden")?"url(#".concat(o,")"):void 0,S=J6(J6({clipPath:_},mt(t,!0)),{},{cx:f,cy:h});return re.createElement(ln,{className:Vt("recharts-reference-dot",y)},Lm.renderDot(p,S),gr.renderCallByParent(t,{x:f-r,y:h-r,width:2*r,height:2*r}))}Lm.displayName="ReferenceDot";Lm.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Lm.renderDot=function(t,e){var n;return re.isValidElement(t)?n=re.cloneElement(t,e):ht(t)?n=t(e):n=re.createElement(ck,aI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function lI(){return lI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lI.apply(this,arguments)}function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){rRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rRe(t,e,n){return e=iRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iRe(t){var e=oRe(t,"string");return rm(e)=="symbol"?e:String(e)}function oRe(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sRe=function(e,n,r,i,o){var s=o.x1,l=o.x2,c=o.y1,f=o.y2,h=o.xAxis,p=o.yAxis;if(!h||!p)return null;var y=fk({x:h.scale,y:p.scale}),_={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:n?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return os(o,"discard")&&(!y.isInRange(_)||!y.isInRange(S))?null:A7(_,S)};function jm(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,o=t.className,s=t.alwaysShow,l=t.clipPathId;Nu(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Bn(e),f=Bn(n),h=Bn(r),p=Bn(i),y=t.shape;if(!c&&!f&&!h&&!p&&!y)return null;var _=sRe(c,f,h,p,t);if(!_&&!y)return null;var S=os(t,"hidden")?"url(#".concat(l,")"):void 0;return re.createElement(ln,{className:Vt("recharts-reference-area",o)},jm.renderRect(y,Q6(Q6({clipPath:S},mt(t,!0)),_)),gr.renderCallByParent(t,_))}jm.displayName="ReferenceArea";jm.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};jm.renderRect=function(t,e){var n;return re.isValidElement(t)?n=re.cloneElement(t,e):ht(t)?n=t(e):n=re.createElement(uk,lI({},e,{className:"recharts-reference-area-rect"})),n};function V7(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function aRe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return PNe(r,n)}function lRe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,l=t.height;return e===1?{start:r?i:o,end:r?i+s:o+l}:{start:r?i+s:o+l,end:r?i:o}}function L0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function uRe(t,e){return V7(t,e+1)}function cRe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,l=e.end,c=0,f=1,h=s,p=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:V7(r,f)};var A=c,E,M=function(){return E===void 0&&(E=n(S,A)),E},I=S.coordinate,N=c===0||L0(t,I,M,h,l);N||(c=0,h=s,f+=1),N&&(h=I+t*(M()/2+i),c+=f)},y;f<=o.length;)if(y=p(),y)return y.v;return[]}function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function Z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(n),!0).forEach(function(r){fRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fRe(t,e,n){return e=dRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dRe(t){var e=hRe(t,"string");return im(e)=="symbol"?e:String(e)}function hRe(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pRe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end,f=function(y){var _=o[y],S,A=function(){return S===void 0&&(S=n(_,y)),S};if(y===s-1){var E=t*(_.coordinate+t*A()/2-c);o[y]=_=hr(hr({},_),{},{tickCoord:E>0?_.coordinate-E*t:_.coordinate})}else o[y]=_=hr(hr({},_),{},{tickCoord:_.coordinate});var M=L0(t,_.tickCoord,A,l,c);M&&(c=_.tickCoord-t*(A()/2+i),o[y]=hr(hr({},_),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return o}function mRe(t,e,n,r,i,o){var s=(r||[]).slice(),l=s.length,c=e.start,f=e.end;if(o){var h=r[l-1],p=n(h,l-1),y=t*(h.coordinate+t*p/2-f);s[l-1]=h=hr(hr({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var _=L0(t,h.tickCoord,function(){return p},c,f);_&&(f=h.tickCoord-t*(p/2+i),s[l-1]=hr(hr({},h),{},{isShow:!0}))}for(var S=o?l-1:l,A=function(I){var N=s[I],C,R=function(){return C===void 0&&(C=n(N,I)),C};if(I===0){var L=t*(N.coordinate-t*R()/2-c);s[I]=N=hr(hr({},N),{},{tickCoord:L<0?N.coordinate-L*t:N.coordinate})}else s[I]=N=hr(hr({},N),{},{tickCoord:N.coordinate});var P=L0(t,N.tickCoord,R,c,f);P&&(c=N.tickCoord+t*(R()/2+i),s[I]=hr(hr({},N),{},{isShow:!0}))},E=0;E<S;E++)A(E);return s}function gRe(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(ke(c)||id.isSsr)return uRe(i,typeof c=="number"&&ke(c)?c:0);var y=[],_=l==="top"||l==="bottom"?"width":"height",S=h&&_==="width"?Qh(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(N,C){var R=ht(f)?f(N.value,C):N.value;return _==="width"?aRe(Qh(R,{fontSize:e,letterSpacing:n}),S,p):Qh(R,{fontSize:e,letterSpacing:n})[_]},E=i.length>=2?uo(i[1].coordinate-i[0].coordinate):1,M=lRe(o,E,_);return c==="equidistantPreserveStart"?cRe(E,M,A,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=mRe(E,M,A,i,s,c==="preserveStartEnd"):y=pRe(E,M,A,i,s),y.filter(function(I){return I.isShow}))}var yRe=["viewBox"],vRe=["viewBox"],bRe=["ticks"];function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}function eF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(n),!0).forEach(function(r){hk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KS(t,e){if(t==null)return{};var n=xRe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xRe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B7(r.key),r)}}function wRe(t,e,n){return e&&tF(t.prototype,e),n&&tF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TRe(t,e,n){return e=j0(e),ERe(t,U7()?Reflect.construct(e,n||[],j0(t).constructor):e.apply(t,n))}function ERe(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SRe(t)}function SRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U7=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}function ARe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uI(t,e)}function uI(t,e){return uI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uI(t,e)}function hk(t,e,n){return e=B7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B7(t){var e=CRe(t,"string");return Ff(e)=="symbol"?e:String(e)}function CRe(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ix=(function(t){ARe(e,t);function e(n){var r;return _Re(this,e),r=TRe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return wRe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=KS(r,yRe),l=this.props,c=l.viewBox,f=KS(l,vRe);return!mf(o,c)||!mf(s,f)||!mf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,y=i.tickMargin,_,S,A,E,M,I,N=p?-1:1,C=r.tickSize||h,R=ke(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":_=S=r.coordinate,E=s+ +!p*c,A=E-N*C,I=A-N*y,M=R;break;case"left":A=E=r.coordinate,S=o+ +!p*l,_=S-N*C,M=_-N*y,I=R;break;case"right":A=E=r.coordinate,S=o+ +p*l,_=S+N*C,M=_+N*y,I=R;break;default:_=S=r.coordinate,E=s+ +p*c,A=E+N*C,I=A+N*y,M=R;break}return{line:{x1:_,y1:A,x2:S,y2:E},tick:{x:M,y:I}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,p=Tr(Tr(Tr({},mt(this.props,!1)),mt(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);p=Tr(Tr({},p),{},{x1:i,y1:o+y*l,x2:i+s,y2:o+y*l})}else{var _=+(c==="left"&&!f||c==="right"&&f);p=Tr(Tr({},p),{},{x1:i+_*s,y1:o,x2:i+_*s,y2:o+l})}return re.createElement("line",sf({},p,{className:Vt("recharts-cartesian-axis-line",Ui(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,p=l.tickFormatter,y=l.unit,_=gRe(Tr(Tr({},this.props),{},{ticks:r}),i,o),S=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),E=mt(this.props,!1),M=mt(h,!1),I=Tr(Tr({},E),{},{fill:"none"},mt(c,!1)),N=_.map(function(C,R){var L=s.getTickLineCoord(C),P=L.line,O=L.tick,j=Tr(Tr(Tr(Tr({textAnchor:S,verticalAnchor:A},E),{},{stroke:"none",fill:f},M),O),{},{index:R,payload:C,visibleTicksCount:_.length,tickFormatter:p});return re.createElement(ln,sf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Jv(s.props,C,R)),c&&re.createElement("line",sf({},I,P,{className:Vt("recharts-cartesian-axis-tick-line",Ui(c,"className"))})),h&&e.renderTickItem(h,j,"".concat(ht(p)?p(C.value,R):C.value).concat(y||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,y=p.ticks,_=KS(p,bRe),S=y;return ht(c)&&(S=y&&y.length>0?c(this.props):c(_)),s<=0||l<=0||!S||!S.length?null:re.createElement(ln,{className:Vt("recharts-cartesian-axis",f),ref:function(E){r.layerReference=E}},o&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),gr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return re.isValidElement(r)?s=re.cloneElement(r,i):ht(r)?s=r(i):s=re.createElement(a0,sf({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}]),e})(Y.Component);hk(ix,"displayName","CartesianAxis");hk(ix,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var IRe=["layout","type","stroke","connectNulls","isRange","ref"],F7;function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function NRe(t,e){if(t==null)return{};var n=RRe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RRe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tu.apply(this,arguments)}function nF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(n),!0).forEach(function(r){Yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z7(r.key),r)}}function PRe(t,e,n){return e&&rF(t.prototype,e),n&&rF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MRe(t,e,n){return e=V0(e),ORe(t,q7()?Reflect.construct(e,n||[],V0(t).constructor):e.apply(t,n))}function ORe(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uh(t)}function q7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q7=function(){return!!t})()}function V0(t){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V0(t)}function Uh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cI(t,e)}function cI(t,e){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cI(t,e)}function Yo(t,e,n){return e=z7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z7(t){var e=LRe(t,"string");return qf(e)=="symbol"?e:String(e)}function LRe(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rl=(function(t){DRe(e,t);function e(){var n;kRe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=MRe(this,e,[].concat(i)),Yo(Uh(n),"state",{isAnimationFinished:!0}),Yo(Uh(n),"id",Nm("recharts-area-")),Yo(Uh(n),"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ht(s)&&s()}),Yo(Uh(n),"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ht(s)&&s()}),n}return PRe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,f=c.dot,h=c.points,p=c.dataKey,y=mt(this.props,!1),_=mt(f,!0),S=h.map(function(E,M){var I=Fa(Fa(Fa({key:"dot-".concat(M),r:3},y),_),{},{dataKey:p,cx:E.x,cy:E.y,index:M,value:E.value,payload:E.payload});return e.renderDotItem(f,I)}),A={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return re.createElement(ln,Tu({className:"recharts-area-dots"},A),S)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,f=s[s.length-1].x,h=r*Math.abs(c-f),p=Qa(s.map(function(y){return y.y||0}));return ke(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(Qa(o.map(function(y){return y.y||0})),p)),ke(p)?re.createElement("rect",{x:c<f?c:c-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,f=s[s.length-1].y,h=r*Math.abs(c-f),p=Qa(s.map(function(y){return y.x||0}));return ke(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(Qa(o.map(function(y){return y.x||0})),p)),ke(p)?re.createElement("rect",{x:0,y:c<f?c:c-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var l=this.props,c=l.layout,f=l.type,h=l.stroke,p=l.connectNulls,y=l.isRange;l.ref;var _=NRe(l,IRe);return re.createElement(ln,{clipPath:o?"url(#clipPath-".concat(s,")"):null},re.createElement(tp,Tu({},mt(_,!0),{points:r,connectNulls:p,type:f,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&re.createElement(tp,Tu({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:r})),h!=="none"&&y&&re.createElement(tp,Tu({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,l=s.points,c=s.baseLine,f=s.isAnimationActive,h=s.animationBegin,p=s.animationDuration,y=s.animationEasing,_=s.animationId,S=this.state,A=S.prevPoints,E=S.prevBaseLine;return re.createElement(Qs,{begin:h,duration:p,isActive:f,easing:y,from:{t:0},to:{t:1},key:"area-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var I=M.t;if(A){var N=A.length/l.length,C=l.map(function(O,j){var q=Math.floor(j*N);if(A[q]){var F=A[q],z=Di(F.x,O.x),B=Di(F.y,O.y);return Fa(Fa({},O),{},{x:z(I),y:B(I)})}return O}),R;if(ke(c)&&typeof c=="number"){var L=Di(E,c);R=L(I)}else if(_t(c)||nd(c)){var P=Di(E,0);R=P(I)}else R=c.map(function(O,j){var q=Math.floor(j*N);if(E[q]){var F=E[q],z=Di(F.x,O.x),B=Di(F.y,O.y);return Fa(Fa({},O),{},{x:z(I),y:B(I)})}return O});return o.renderAreaStatically(C,R,r,i)}return re.createElement(ln,null,re.createElement("defs",null,re.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(I))),re.createElement(ln,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,f=this.state,h=f.prevPoints,p=f.prevBaseLine,y=f.totalLength;return c&&s&&s.length&&(!h&&y>0||!Op(h,s)||!Op(p,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,l,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,l=i.points,c=i.className,f=i.top,h=i.left,p=i.xAxis,y=i.yAxis,_=i.width,S=i.height,A=i.isAnimationActive,E=i.id;if(o||!l||!l.length)return null;var M=this.state.isAnimationFinished,I=l.length===1,N=Vt("recharts-area",c),C=p&&p.allowDataOverflow,R=y&&y.allowDataOverflow,L=C||R,P=_t(E)?this.id:E,O=(r=mt(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=O.r,q=j===void 0?3:j,F=O.strokeWidth,z=F===void 0?2:F,B=zve(s)?s:{},X=B.clipDot,ie=X===void 0?!0:X,W=q*2+z;return re.createElement(ln,{className:N},C||R?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(P)},re.createElement("rect",{x:C?h:h-_/2,y:R?f:f-S/2,width:C?_:_*2,height:R?S:S*2})),!ie&&re.createElement("clipPath",{id:"clipPath-dots-".concat(P)},re.createElement("rect",{x:h-W/2,y:f-W/2,width:_+W,height:S+W}))):null,I?null:this.renderArea(L,P),(s||I)&&this.renderDots(L,ie,P),(!A||M)&&sl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}]),e})(Y.PureComponent);F7=Rl;Yo(Rl,"displayName","Area");Yo(Rl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!id.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Yo(Rl,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,l=s??o;if(ke(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,f=c.scale.domain();if(c.type==="number"){var h=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return l==="dataMin"?p:l==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});Yo(Rl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,y=t.offset,_=e.layout,S=f&&f.length,A=F7.getBaseValue(e,n,r,i),E=_==="horizontal",M=!1,I=p.map(function(C,R){var L;S?L=f[h+R]:(L=mi(C,c),Array.isArray(L)?M=!0:L=[A,L]);var P=L[1]==null||S&&mi(C,c)==null;return E?{x:TB({axis:r,ticks:o,bandSize:l,entry:C,index:R}),y:P?null:i.scale(L[1]),value:L,payload:C}:{x:P?null:r.scale(L[1]),y:TB({axis:i,ticks:s,bandSize:l,entry:C,index:R}),value:L,payload:C}}),N;return S||M?N=I.map(function(C){var R=Array.isArray(C.value)?C.value[0]:null;return E?{x:C.x,y:R!=null&&C.y!=null?i.scale(R):null}:{x:R!=null?r.scale(R):null,y:C.y}}):N=E?i.scale(A):r.scale(A),Fa({points:I,baseLine:N,layout:_,isRange:M},y)});Yo(Rl,"renderDotItem",function(t,e){var n;return re.isValidElement(t)?n=re.cloneElement(t,e):ht(t)?n=t(e):n=re.createElement(ck,Tu({},e,{className:"recharts-area-dot"})),n});function fI(){return fI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fI.apply(this,arguments)}var pk=function(e){var n=e.xAxisId,r=L7(),i=j7(),o=O7(n);return o==null?null:re.createElement(ix,fI({},o,{className:Vt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return wu(l,!0)}}))};pk.displayName="XAxis";pk.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function dI(){return dI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dI.apply(this,arguments)}var mk=function(e){var n=e.yAxisId,r=L7(),i=j7(),o=D7(n);return o==null?null:re.createElement(ix,dI({},o,{className:Vt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return wu(l,!0)}}))};mk.displayName="YAxis";mk.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function iF(t){return BRe(t)||URe(t)||VRe(t)||jRe()}function jRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VRe(t,e){if(t){if(typeof t=="string")return hI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hI(t,e)}}function URe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BRe(t){if(Array.isArray(t))return hI(t)}function hI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pI=function(e,n,r,i,o){var s=po(e,dk),l=po(e,Lm),c=[].concat(iF(s),iF(l)),f=po(e,jm),h="".concat(i,"Id"),p=i[0],y=n;if(c.length&&(y=c.reduce(function(A,E){if(E.props[h]===r&&os(E.props,"extendDomain")&&ke(E.props[p])){var M=E.props[p];return[Math.min(A[0],M),Math.max(A[1],M)]}return A},y)),f.length){var _="".concat(p,"1"),S="".concat(p,"2");y=f.reduce(function(A,E){if(E.props[h]===r&&os(E.props,"extendDomain")&&ke(E.props[_])&&ke(E.props[S])){var M=E.props[_],I=E.props[S];return[Math.min(A[0],M,I),Math.max(A[1],M,I)]}return A},y)}return o&&o.length&&(y=o.reduce(function(A,E){return ke(E)?[Math.min(A[0],E),Math.max(A[1],E)]:A},y)),y},WS={exports:{}},oF;function FRe(){return oF||(oF=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,p||c,y),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],_]:c._events[S].push(_):(c._events[S]=_,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,_=p.length,S=new Array(_);y<_;y++)S[y]=p[y].fn;return S},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,y,_,S){var A=n?n+f:f;if(!this._events[A])return!1;var E=this._events[A],M=arguments.length,I,N;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),M){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,y),!0;case 5:return E.fn.call(E.context,h,p,y,_),!0;case 6:return E.fn.call(E.context,h,p,y,_,S),!0}for(N=1,I=new Array(M-1);N<M;N++)I[N-1]=arguments[N];E.fn.apply(E.context,I)}else{var C=E.length,R;for(N=0;N<C;N++)switch(E[N].once&&this.removeListener(f,E[N].fn,void 0,!0),M){case 1:E[N].fn.call(E[N].context);break;case 2:E[N].fn.call(E[N].context,h);break;case 3:E[N].fn.call(E[N].context,h,p);break;case 4:E[N].fn.call(E[N].context,h,p,y);break;default:if(!I)for(R=1,I=new Array(M-1);R<M;R++)I[R-1]=arguments[R];E[N].fn.apply(E[N].context,I)}}return!0},l.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,y){var _=n?n+f:f;if(!this._events[_])return this;if(!h)return s(this,_),this;var S=this._events[_];if(S.fn)S.fn===h&&(!y||S.once)&&(!p||S.context===p)&&s(this,_);else{for(var A=0,E=[],M=S.length;A<M;A++)(S[A].fn!==h||y&&!S[A].once||p&&S[A].context!==p)&&E.push(S[A]);E.length?this._events[_]=E.length===1?E[0]:E:s(this,_)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(WS)),WS.exports}var qRe=FRe();const zRe=Ht(qRe);var YS=new zRe,JS="recharts.syncMouseEvents";function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function $Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$7(r.key),r)}}function HRe(t,e,n){return e&&GRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XS(t,e,n){return e=$7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $7(t){var e=KRe(t,"string");return om(e)=="symbol"?e:String(e)}function KRe(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WRe=(function(){function t(){$Re(this,t),XS(this,"activeIndex",0),XS(this,"coordinateList",[]),XS(this,"layout","horizontal")}return HRe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,y=n.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=o+c+f,y=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:p,pageY:y})}}}]),t})();function YRe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ke(r)&&ke(i))return!0}return!1}function JRe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function G7(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=lr(e,n,r,i),l=lr(e,n,r,o);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function XRe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,y=lr(l,c,f,p),_=lr(l,c,h,p);r=y.x,i=y.y,o=_.x,s=_.y}else return G7(e);return[{x:r,y:i},{x:o,y:s}]}function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function sF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sF(Object(n),!0).forEach(function(r){QRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QRe(t,e,n){return e=ZRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZRe(t){var e=eke(t,"string");return sm(e)=="symbol"?e:String(e)}function eke(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tke(t){var e=t.element,n=t.tooltipEventType,r=t.isActive,i=t.activeCoordinate,o=t.activePayload,s=t.offset,l=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName;if(!e||!e.props.cursor||!r||!i||h!=="ScatterChart"&&n!=="axis")return null;var p,y=tp;if(h==="ScatterChart")p=i,y=eIe;else if(h==="BarChart")p=JRe(f,i,s,c),y=uk;else if(f==="radial"){var _=G7(i),S=_.cx,A=_.cy,E=_.radius,M=_.startAngle,I=_.endAngle;p={cx:S,cy:A,startAngle:M,endAngle:I,innerRadius:E,outerRadius:E},y=c7}else p={points:XRe(f,i,s)},y=tp;var N=Uy(Uy(Uy(Uy({stroke:"#ccc",pointerEvents:"none"},s),p),mt(e.props.cursor,!1)),{},{payload:o,payloadIndex:l,className:"recharts-tooltip-cursor"});return Y.isValidElement(e.props.cursor)?Y.cloneElement(e.props.cursor,N):Y.createElement(y,N)}var nke=["item"],rke=["children","className","width","height","style","compact","title","desc"];function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rp.apply(this,arguments)}function aF(t,e){return ske(t)||oke(t,e)||K7(t,e)||ike()}function ike(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function ske(t){if(Array.isArray(t))return t}function lF(t,e){if(t==null)return{};var n=ake(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ake(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W7(r.key),r)}}function cke(t,e,n){return e&&uke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fke(t,e,n){return e=U0(e),dke(t,H7()?Reflect.construct(e,n||[],U0(t).constructor):e.apply(t,n))}function dke(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xt(t)}function H7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H7=function(){return!!t})()}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(t)}function xt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mI(t,e)}function mI(t,e){return mI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mI(t,e)}function $f(t){return gke(t)||mke(t)||K7(t)||pke()}function pke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K7(t,e){if(t){if(typeof t=="string")return gI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gI(t,e)}}function mke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gke(t){if(Array.isArray(t))return gI(t)}function gI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(n),!0).forEach(function(r){Ye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ye(t,e,n){return e=W7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W7(t){var e=yke(t,"string");return zf(e)=="symbol"?e:String(e)}function yke(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vke={xAxis:["bottom","top"],yAxis:["left","right"]},bke={width:"100%",height:"100%"},Y7={x:0,y:0};function By(t){return t}var xke=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},_ke=function(e,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,l=i.radius;return _e(_e(_e({},i),lr(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=o.coordinate,f=i.angle;return _e(_e(_e({},i),lr(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return Y7},ox=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat($f(l),$f(f)):l},[]);return s.length>0?s:e&&e.length&&ke(i)&&ke(o)?e.slice(i,o+1):[]};function J7(t){return t==="number"?[0,"auto"]:void 0}var yI=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,l=ox(n,e);return r<0||!o||!o.length||r>=l.length?null:o.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var _=p===void 0?l:p;y=Wv(_,s.dataKey,i)}else y=p&&p[r]||l[r];return y?[].concat($f(c),[a7(f,y)]):c},[])},cF=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=xke(o,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=MEe(s,l,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,y=yI(e,n,h,p),_=_ke(r,l,h,o);return{activeTooltipIndex:h,activeLabel:p,activePayload:y,activeCoordinate:_}}return null},wke=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,y=e.stackOffset,_=o7(h,o);return r.reduce(function(S,A){var E,M=A.props,I=M.type,N=M.dataKey,C=M.allowDataOverflow,R=M.allowDuplicatedCategory,L=M.scale,P=M.ticks,O=M.includeHidden,j=A.props[s];if(S[j])return S;var q=ox(e.data,{graphicalItems:i.filter(function($){return $.props[s]===j}),dataStartIndex:c,dataEndIndex:f}),F=q.length,z,B,X;YRe(A.props.domain,C,I)&&(z=FC(A.props.domain,null,C),_&&(I==="number"||L!=="auto")&&(X=ep(q,N,"category")));var ie=J7(I);if(!z||z.length===0){var W,ee=(W=A.props.domain)!==null&&W!==void 0?W:ie;if(N){if(z=ep(q,N,I),I==="category"&&_){var se=Ove(z);R&&se?(B=z,z=k0(0,F)):R||(z=CB(ee,z,A).reduce(function($,J){return $.indexOf(J)>=0?$:[].concat($f($),[J])},[]))}else if(I==="category")R?z=z.filter(function($){return $!==""&&!_t($)}):z=CB(ee,z,A).reduce(function($,J){return $.indexOf(J)>=0||J===""||_t(J)?$:[].concat($f($),[J])},[]);else if(I==="number"){var ge=VEe(q,i.filter(function($){return $.props[s]===j&&(O||!$.props.hide)}),N,o,h);ge&&(z=ge)}_&&(I==="number"||L!=="auto")&&(X=ep(q,N,"category"))}else _?z=k0(0,F):l&&l[j]&&l[j].hasStack&&I==="number"?z=y==="expand"?[0,1]:s7(l[j].stackGroups,c,f):z=i7(q,i.filter(function($){return $.props[s]===j&&(O||!$.props.hide)}),I,h,!0);if(I==="number")z=pI(p,z,j,o,P),ee&&(z=FC(ee,z,C));else if(I==="category"&&ee){var K=ee,V=z.every(function($){return K.indexOf($)>=0});V&&(z=K)}}return _e(_e({},S),{},Ye({},j,_e(_e({},A.props),{},{axisType:o,domain:z,categoricalDomain:X,duplicateDomain:B,originalDomain:(E=A.props.domain)!==null&&E!==void 0?E:ie,isCategorical:_,layout:h})))},{})},Tke=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,y=ox(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),_=y.length,S=o7(h,o),A=-1;return r.reduce(function(E,M){var I=M.props[s],N=J7("number");if(!E[I]){A++;var C;return S?C=k0(0,_):l&&l[I]&&l[I].hasStack?(C=s7(l[I].stackGroups,c,f),C=pI(p,C,I,o)):(C=FC(N,i7(y,r.filter(function(R){return R.props[s]===I&&!R.props.hide}),"number",h),i.defaultProps.allowDataOverflow),C=pI(p,C,I,o)),_e(_e({},E),{},Ye({},I,_e(_e({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ui(vke,"".concat(o,".").concat(A%2),null),domain:C,originalDomain:N,isCategorical:S,layout:h})))}return E},{})},Eke=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,p="".concat(i,"Id"),y=po(h,o),_={};return y&&y.length?_=wke(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(_=Tke(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),_},Ske=function(e){var n=Jc(e),r=wu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:LR(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:_0(n,r)}},fF=function(e){var n=e.children,r=e.defaultShowTooltip,i=si(n,Uf),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Ake=function(e){return!e||!e.length?!1:e.some(function(n){var r=Bs(n&&n.type);return r&&r.indexOf("Bar")>=0})},dF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Cke=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,h=r.height,p=r.children,y=r.margin||{},_=si(p,Uf),S=si(p,Tp),A=Object.keys(c).reduce(function(R,L){var P=c[L],O=P.orientation;return!P.mirror&&!P.hide?_e(_e({},R),{},Ye({},O,R[O]+P.width)):R},{left:y.left||0,right:y.right||0}),E=Object.keys(s).reduce(function(R,L){var P=s[L],O=P.orientation;return!P.mirror&&!P.hide?_e(_e({},R),{},Ye({},O,Ui(R,"".concat(O))+P.height)):R},{top:y.top||0,bottom:y.bottom||0}),M=_e(_e({},E),A),I=M.bottom;_&&(M.bottom+=_.props.height||Uf.defaultProps.height),S&&n&&(M=LEe(M,i,r,n));var N=f-M.left-M.right,C=h-M.top-M.bottom;return _e(_e({brushBottom:I},M),{},{width:Math.max(N,0),height:Math.max(C,0)})},Ike=function(e){var n,r=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,s=o===void 0?"axis":o,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,f=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,y=e.defaultProps,_=function(E,M){var I=M.graphicalItems,N=M.stackGroups,C=M.offset,R=M.updateId,L=M.dataStartIndex,P=M.dataEndIndex,O=E.barSize,j=E.layout,q=E.barGap,F=E.barCategoryGap,z=E.maxBarSize,B=dF(j),X=B.numericAxisName,ie=B.cateAxisName,W=Ake(I),ee=W&&OEe({barSize:O,stackGroups:N}),se=[];return I.forEach(function(ge,K){var V=ox(E.data,{graphicalItems:[ge],dataStartIndex:L,dataEndIndex:P}),$=ge.props,J=$.dataKey,te=$.maxBarSize,fe=ge.props["".concat(X,"Id")],ye=ge.props["".concat(ie,"Id")],Te={},Se=f.reduce(function(Ze,mn){var gi=M["".concat(mn.axisType,"Map")],Yr=ge.props["".concat(mn.axisType,"Id")];gi&&gi[Yr]||mn.axisType==="zAxis"||zu();var Kt=gi[Yr];return _e(_e({},Ze),{},Ye(Ye({},mn.axisType,Kt),"".concat(mn.axisType,"Ticks"),wu(Kt)))},Te),he=Se[ie],Ie=Se["".concat(ie,"Ticks")],Ae=N&&N[fe]&&N[fe].hasStack&&JEe(ge,N[fe].stackGroups),pe=Bs(ge.type).indexOf("Bar")>=0,$e=_0(he,Ie),Ce=[];if(pe){var Je,nt,yt=_t(te)?z:te,bt=(Je=(nt=_0(he,Ie,!0))!==null&&nt!==void 0?nt:yt)!==null&&Je!==void 0?Je:0;Ce=DEe({barGap:q,barCategoryGap:F,bandSize:bt!==$e?bt:$e,sizeList:ee[ye],maxBarSize:yt}),bt!==$e&&(Ce=Ce.map(function(Ze){return _e(_e({},Ze),{},{position:_e(_e({},Ze.position),{},{offset:Ze.position.offset-bt/2})})}))}var lt=ge&&ge.type&&ge.type.getComposedData;lt&&se.push({props:_e(_e({},lt(_e(_e({},Se),{},{displayedData:V,props:E,dataKey:J,item:ge,bandSize:$e,barPosition:Ce,offset:C,stackedData:Ae,layout:j,dataStartIndex:L,dataEndIndex:P}))),{},Ye(Ye(Ye({key:ge.key||"item-".concat(K)},X,Se[X]),ie,Se[ie]),"animationId",R)),childIndex:Hve(ge,E.children),item:ge})}),se},S=function(E,M){var I=E.props,N=E.dataStartIndex,C=E.dataEndIndex,R=E.updateId;if(!FV({props:I}))return null;var L=I.children,P=I.layout,O=I.stackOffset,j=I.data,q=I.reverseStackOrder,F=dF(P),z=F.numericAxisName,B=F.cateAxisName,X=po(L,i),ie=KEe(j,X,"".concat(z,"Id"),"".concat(B,"Id"),O,q),W=f.reduce(function(V,$){var J="".concat($.axisType,"Map");return _e(_e({},V),{},Ye({},J,Eke(I,_e(_e({},$),{},{graphicalItems:X,stackGroups:$.axisType===z&&ie,dataStartIndex:N,dataEndIndex:C}))))},{}),ee=Cke(_e(_e({},W),{},{props:I,graphicalItems:X}),M==null?void 0:M.legendBBox);Object.keys(W).forEach(function(V){W[V]=p(I,W[V],ee,V.replace("Map",""),r)});var se=W["".concat(B,"Map")],ge=Ske(se),K=_(I,_e(_e({},W),{},{dataStartIndex:N,dataEndIndex:C,updateId:R,graphicalItems:X,stackGroups:ie,offset:ee}));return _e(_e({formattedGraphicalItems:K,graphicalItems:X,offset:ee,stackGroups:ie},ge),W)};return n=(function(A){hke(E,A);function E(M){var I,N,C;return lke(this,E),C=fke(this,E,[M]),Ye(xt(C),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ye(xt(C),"accessibilityManager",new WRe),Ye(xt(C),"handleLegendBBoxUpdate",function(R){if(R){var L=C.state,P=L.dataStartIndex,O=L.dataEndIndex,j=L.updateId;C.setState(_e({legendBBox:R},S({props:C.props,dataStartIndex:P,dataEndIndex:O,updateId:j},_e(_e({},C.state),{},{legendBBox:R}))))}}),Ye(xt(C),"handleReceiveSyncEvent",function(R,L,P){if(C.props.syncId===R){if(P===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(L)}}),Ye(xt(C),"handleBrushChange",function(R){var L=R.startIndex,P=R.endIndex;if(L!==C.state.dataStartIndex||P!==C.state.dataEndIndex){var O=C.state.updateId;C.setState(function(){return _e({dataStartIndex:L,dataEndIndex:P},S({props:C.props,dataStartIndex:L,dataEndIndex:P,updateId:O},C.state))}),C.triggerSyncEvent({dataStartIndex:L,dataEndIndex:P})}}),Ye(xt(C),"handleMouseEnter",function(R){var L=C.getMouseInfo(R);if(L){var P=_e(_e({},L),{},{isTooltipActive:!0});C.setState(P),C.triggerSyncEvent(P);var O=C.props.onMouseEnter;ht(O)&&O(P,R)}}),Ye(xt(C),"triggeredAfterMouseMove",function(R){var L=C.getMouseInfo(R),P=L?_e(_e({},L),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var O=C.props.onMouseMove;ht(O)&&O(P,R)}),Ye(xt(C),"handleItemMouseEnter",function(R){C.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),Ye(xt(C),"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Ye(xt(C),"handleMouseMove",function(R){R.persist(),C.throttleTriggeredAfterMouseMove(R)}),Ye(xt(C),"handleMouseLeave",function(R){C.throttleTriggeredAfterMouseMove.cancel();var L={isTooltipActive:!1};C.setState(L),C.triggerSyncEvent(L);var P=C.props.onMouseLeave;ht(P)&&P(L,R)}),Ye(xt(C),"handleOuterEvent",function(R){var L=Gve(R),P=Ui(C.props,"".concat(L));if(L&&ht(P)){var O,j;/.*touch.*/i.test(L)?j=C.getMouseInfo(R.changedTouches[0]):j=C.getMouseInfo(R),P((O=j)!==null&&O!==void 0?O:{},R)}}),Ye(xt(C),"handleClick",function(R){var L=C.getMouseInfo(R);if(L){var P=_e(_e({},L),{},{isTooltipActive:!0});C.setState(P),C.triggerSyncEvent(P);var O=C.props.onClick;ht(O)&&O(P,R)}}),Ye(xt(C),"handleMouseDown",function(R){var L=C.props.onMouseDown;if(ht(L)){var P=C.getMouseInfo(R);L(P,R)}}),Ye(xt(C),"handleMouseUp",function(R){var L=C.props.onMouseUp;if(ht(L)){var P=C.getMouseInfo(R);L(P,R)}}),Ye(xt(C),"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),Ye(xt(C),"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.handleMouseDown(R.changedTouches[0])}),Ye(xt(C),"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.handleMouseUp(R.changedTouches[0])}),Ye(xt(C),"triggerSyncEvent",function(R){C.props.syncId!==void 0&&YS.emit(JS,C.props.syncId,R,C.eventEmitterSymbol)}),Ye(xt(C),"applySyncEvent",function(R){var L=C.props,P=L.layout,O=L.syncMethod,j=C.state.updateId,q=R.dataStartIndex,F=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)C.setState(_e({dataStartIndex:q,dataEndIndex:F},S({props:C.props,dataStartIndex:q,dataEndIndex:F,updateId:j},C.state)));else if(R.activeTooltipIndex!==void 0){var z=R.chartX,B=R.chartY,X=R.activeTooltipIndex,ie=C.state,W=ie.offset,ee=ie.tooltipTicks;if(!W)return;if(typeof O=="function")X=O(ee,R);else if(O==="value"){X=-1;for(var se=0;se<ee.length;se++)if(ee[se].value===R.activeLabel){X=se;break}}var ge=_e(_e({},W),{},{x:W.left,y:W.top}),K=Math.min(z,ge.x+ge.width),V=Math.min(B,ge.y+ge.height),$=ee[X]&&ee[X].value,J=yI(C.state,C.props.data,X),te=ee[X]?{x:P==="horizontal"?ee[X].coordinate:K,y:P==="horizontal"?V:ee[X].coordinate}:Y7;C.setState(_e(_e({},R),{},{activeLabel:$,activeCoordinate:te,activePayload:J,activeTooltipIndex:X}))}else C.setState(R)}),Ye(xt(C),"renderCursor",function(R){var L,P=C.state,O=P.isTooltipActive,j=P.activeCoordinate,q=P.activePayload,F=P.offset,z=P.activeTooltipIndex,B=P.tooltipAxisBandSize,X=C.getTooltipEventType(),ie=(L=R.props.active)!==null&&L!==void 0?L:O,W=C.props.layout,ee=R.key||"_recharts-cursor";return re.createElement(tke,{key:ee,activeCoordinate:j,activePayload:q,activeTooltipIndex:z,chartName:r,element:R,isActive:ie,layout:W,offset:F,tooltipAxisBandSize:B,tooltipEventType:X})}),Ye(xt(C),"renderPolarAxis",function(R,L,P){var O=Ui(R,"type.axisType"),j=Ui(C.state,"".concat(O,"Map")),q=j&&j[R.props["".concat(O,"Id")]];return Y.cloneElement(R,_e(_e({},q),{},{className:O,key:R.key||"".concat(L,"-").concat(P),ticks:wu(q,!0)}))}),Ye(xt(C),"renderPolarGrid",function(R){var L=R.props,P=L.radialLines,O=L.polarAngles,j=L.polarRadius,q=C.state,F=q.radiusAxisMap,z=q.angleAxisMap,B=Jc(F),X=Jc(z),ie=X.cx,W=X.cy,ee=X.innerRadius,se=X.outerRadius;return Y.cloneElement(R,{polarAngles:Array.isArray(O)?O:wu(X,!0).map(function(ge){return ge.coordinate}),polarRadius:Array.isArray(j)?j:wu(B,!0).map(function(ge){return ge.coordinate}),cx:ie,cy:W,innerRadius:ee,outerRadius:se,key:R.key||"polar-grid",radialLines:P})}),Ye(xt(C),"renderLegend",function(){var R=C.state.formattedGraphicalItems,L=C.props,P=L.children,O=L.width,j=L.height,q=C.props.margin||{},F=O-(q.left||0)-(q.right||0),z=n7({children:P,formattedGraphicalItems:R,legendWidth:F,legendContent:h});if(!z)return null;var B=z.item,X=lF(z,nke);return Y.cloneElement(B,_e(_e({},X),{},{chartWidth:O,chartHeight:j,margin:q,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Ye(xt(C),"renderTooltip",function(){var R,L=C.props,P=L.children,O=L.accessibilityLayer,j=si(P,ks);if(!j)return null;var q=C.state,F=q.isTooltipActive,z=q.activeCoordinate,B=q.activePayload,X=q.activeLabel,ie=q.offset,W=(R=j.props.active)!==null&&R!==void 0?R:F;return Y.cloneElement(j,{viewBox:_e(_e({},ie),{},{x:ie.left,y:ie.top}),active:W,label:X,payload:W?B:[],coordinate:z,accessibilityLayer:O})}),Ye(xt(C),"renderBrush",function(R){var L=C.props,P=L.margin,O=L.data,j=C.state,q=j.offset,F=j.dataStartIndex,z=j.dataEndIndex,B=j.updateId;return Y.cloneElement(R,{key:R.key||"_recharts-brush",onChange:Dy(C.handleBrushChange,R.props.onChange),data:O,x:ke(R.props.x)?R.props.x:q.left,y:ke(R.props.y)?R.props.y:q.top+q.height+q.brushBottom-(P.bottom||0),width:ke(R.props.width)?R.props.width:q.width,startIndex:F,endIndex:z,updateId:"brush-".concat(B)})}),Ye(xt(C),"renderReferenceElement",function(R,L,P){if(!R)return null;var O=xt(C),j=O.clipPathId,q=C.state,F=q.xAxisMap,z=q.yAxisMap,B=q.offset,X=R.props,ie=X.xAxisId,W=X.yAxisId;return Y.cloneElement(R,{key:R.key||"".concat(L,"-").concat(P),xAxis:F[ie],yAxis:z[W],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:j})}),Ye(xt(C),"renderActivePoints",function(R){var L=R.item,P=R.activePoint,O=R.basePoint,j=R.childIndex,q=R.isRange,F=[],z=L.props.key,B=L.item.props,X=B.activeDot,ie=B.dataKey,W=_e(_e({index:j,dataKey:ie,cx:P.x,cy:P.y,r:4,fill:lk(L.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value,key:"".concat(z,"-activePoint-").concat(j)},mt(X,!1)),Yv(X));return F.push(E.renderActiveDot(X,W)),O?F.push(E.renderActiveDot(X,_e(_e({},W),{},{cx:O.x,cy:O.y,key:"".concat(z,"-basePoint-").concat(j)}))):q&&F.push(null),F}),Ye(xt(C),"renderGraphicChild",function(R,L,P){var O=C.filterFormatItem(R,L,P);if(!O)return null;var j=C.getTooltipEventType(),q=C.state,F=q.isTooltipActive,z=q.tooltipAxis,B=q.activeTooltipIndex,X=q.activeLabel,ie=C.props.children,W=si(ie,ks),ee=O.props,se=ee.points,ge=ee.isRange,K=ee.baseLine,V=O.item.props,$=V.activeDot,J=V.hide,te=V.activeBar,fe=V.activeShape,ye=!!(!J&&F&&W&&($||te||fe)),Te={};j!=="axis"&&W&&W.props.trigger==="click"?Te={onClick:Dy(C.handleItemMouseEnter,R.props.onClick)}:j!=="axis"&&(Te={onMouseLeave:Dy(C.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:Dy(C.handleItemMouseEnter,R.props.onMouseEnter)});var Se=Y.cloneElement(R,_e(_e({},O.props),Te));function he(mn){return typeof z.dataKey=="function"?z.dataKey(mn.payload):null}if(ye)if(B>=0){var Ie,Ae;if(z.dataKey&&!z.allowDuplicatedCategory){var pe=typeof z.dataKey=="function"?he:"payload.".concat(z.dataKey.toString());Ie=Wv(se,pe,X),Ae=ge&&K&&Wv(K,pe,X)}else Ie=se==null?void 0:se[B],Ae=ge&&K&&K[B];if(fe||te){var $e=R.props.activeIndex!==void 0?R.props.activeIndex:B;return[Y.cloneElement(R,_e(_e(_e({},O.props),Te),{},{activeIndex:$e})),null,null]}if(!_t(Ie))return[Se].concat($f(C.renderActivePoints({item:O,activePoint:Ie,basePoint:Ae,childIndex:B,isRange:ge})))}else{var Ce,Je=(Ce=C.getItemByXY(C.state.activeCoordinate))!==null&&Ce!==void 0?Ce:{graphicalItem:Se},nt=Je.graphicalItem,yt=nt.item,bt=yt===void 0?R:yt,lt=nt.childIndex,Ze=_e(_e(_e({},O.props),Te),{},{activeIndex:lt});return[Y.cloneElement(bt,Ze),null,null]}return ge?[Se,null,null]:[Se,null]}),Ye(xt(C),"renderCustomized",function(R,L,P){return Y.cloneElement(R,_e(_e({key:"recharts-customized-".concat(P)},C.props),C.state))}),Ye(xt(C),"renderMap",{CartesianGrid:{handler:By,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:By},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:By},YAxis:{handler:By},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((I=M.id)!==null&&I!==void 0?I:Nm("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=oH(C.triggeredAfterMouseMove,(N=M.throttleDelay)!==null&&N!==void 0?N:1e3/60),C.state={},C}return cke(E,[{key:"componentDidMount",value:function(){var I,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,N=I.children,C=I.data,R=I.height,L=I.layout,P=si(N,ks);if(P){var O=P.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length)){var j=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,q=yI(this.state,C,O,j),F=this.state.tooltipTicks[O].coordinate,z=(this.state.offset.top+R)/2,B=L==="horizontal",X=B?{x:F,y:z}:{y:F,x:z},ie=this.state.formattedGraphicalItems.find(function(ee){var se=ee.item;return se.type.name==="Scatter"});ie&&(X=_e(_e({},X),ie.props.points[O].tooltipPosition),q=ie.props.points[O].tooltipPayload);var W={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:j,activePayload:q,activeCoordinate:X};this.setState(W),this.renderCursor(P),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var C,R;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(I){fC([si(I.children,ks)],[si(this.props.children,ks)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=si(this.props.children,ks);if(I&&typeof I.props.shared=="boolean"){var N=I.props.shared?"axis":"item";return c.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var N=this.container,C=N.getBoundingClientRect(),R=k_e(C),L={chartX:Math.round(I.pageX-R.left),chartY:Math.round(I.pageY-R.top)},P=C.width/N.offsetWidth||1,O=this.inRange(L.chartX,L.chartY,P);if(!O)return null;var j=this.state,q=j.xAxisMap,F=j.yAxisMap,z=this.getTooltipEventType();if(z!=="axis"&&q&&F){var B=Jc(q).scale,X=Jc(F).scale,ie=B&&B.invert?B.invert(L.chartX):null,W=X&&X.invert?X.invert(L.chartY):null;return _e(_e({},L),{},{xValue:ie,yValue:W})}var ee=cF(this.state,this.props.data,this.props.layout,O);return ee?_e(_e({},L),ee):null}},{key:"inRange",value:function(I,N){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,L=I/C,P=N/C;if(R==="horizontal"||R==="vertical"){var O=this.state.offset,j=L>=O.left&&L<=O.left+O.width&&P>=O.top&&P<=O.top+O.height;return j?{x:L,y:P}:null}var q=this.state,F=q.angleAxisMap,z=q.radiusAxisMap;if(F&&z){var B=Jc(F);return RB({x:L,y:P},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,N=this.getTooltipEventType(),C=si(I,ks),R={};C&&N==="axis"&&(C.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var L=Yv(this.props,this.handleOuterEvent);return _e(_e({},L),R)}},{key:"addListener",value:function(){YS.on(JS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){YS.removeListener(JS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,N,C){for(var R=this.state.formattedGraphicalItems,L=0,P=R.length;L<P;L++){var O=R[L];if(O.item===I||O.props.key===I.key||N===Bs(O.item.type)&&C===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,N=this.state.offset,C=N.left,R=N.top,L=N.height,P=N.width;return re.createElement("defs",null,re.createElement("clipPath",{id:I},re.createElement("rect",{x:C,y:R,height:L,width:P})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(N,C){var R=aF(C,2),L=R[0],P=R[1];return _e(_e({},N),{},Ye({},L,P.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(N,C){var R=aF(C,2),L=R[0],P=R[1];return _e(_e({},N),{},Ye({},L,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(I){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(I){var N=this.state,C=N.formattedGraphicalItems,R=N.activeItem;if(C&&C.length)for(var L=0,P=C.length;L<P;L++){var O=C[L],j=O.props,q=O.item,F=Bs(q.type);if(F==="Bar"){var z=(j.data||[]).find(function(W){return $Ce(I,W)});if(z)return{graphicalItem:O,payload:z}}else if(F==="RadialBar"){var B=(j.data||[]).find(function(W){return RB(I,W)});if(B)return{graphicalItem:O,payload:B}}else if(tx(O,R)||nx(O,R)||Xp(O,R)){var X=OIe({graphicalItem:O,activeTooltipItem:R,itemData:q.props.data}),ie=q.props.activeIndex===void 0?X:q.props.activeIndex;return{graphicalItem:_e(_e({},O),{},{childIndex:ie}),payload:Xp(O,R)?q.props.data[X]:O.props.data[X]}}}return null}},{key:"render",value:function(){var I=this,N;if(!FV(this))return null;var C=this.props,R=C.children,L=C.className,P=C.width,O=C.height,j=C.style,q=C.compact,F=C.title,z=C.desc,B=lF(C,rke),X=mt(B,!1);if(q)return re.createElement(G6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(hC,rp({},X,{width:P,height:O,title:F,desc:z}),this.renderClipPath(),zV(R,this.renderMap)));if(this.props.accessibilityLayer){var ie,W;X.tabIndex=(ie=this.props.tabIndex)!==null&&ie!==void 0?ie:0,X.role=(W=this.props.role)!==null&&W!==void 0?W:"application",X.onKeyDown=function(se){I.accessibilityManager.keyboardEvent(se)},X.onFocus=function(){I.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return re.createElement(G6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",rp({className:Vt("recharts-wrapper",L),style:_e({position:"relative",cursor:"default",width:P,height:O},j)},ee,{ref:function(ge){I.container=ge},role:(N=X.role)!==null&&N!==void 0?N:"region"}),re.createElement(hC,rp({},X,{width:P,height:O,title:F,desc:z,style:bke}),this.renderClipPath(),zV(R,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),E})(Y.Component),Ye(n,"displayName",r),Ye(n,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},y)),Ye(n,"getDerivedStateFromProps",function(A,E){var M=A.dataKey,I=A.data,N=A.children,C=A.width,R=A.height,L=A.layout,P=A.stackOffset,O=A.margin,j=E.dataStartIndex,q=E.dataEndIndex;if(E.updateId===void 0){var F=fF(A);return _e(_e(_e({},F),{},{updateId:0},S(_e(_e({props:A},F),{},{updateId:0}),E)),{},{prevDataKey:M,prevData:I,prevWidth:C,prevHeight:R,prevLayout:L,prevStackOffset:P,prevMargin:O,prevChildren:N})}if(M!==E.prevDataKey||I!==E.prevData||C!==E.prevWidth||R!==E.prevHeight||L!==E.prevLayout||P!==E.prevStackOffset||!mf(O,E.prevMargin)){var z=fF(A),B={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},X=_e(_e({},cF(E,I,L)),{},{updateId:E.updateId+1}),ie=_e(_e(_e({},z),B),X);return _e(_e(_e({},ie),S(_e({props:A},ie),E)),{},{prevDataKey:M,prevData:I,prevWidth:C,prevHeight:R,prevLayout:L,prevStackOffset:P,prevMargin:O,prevChildren:N})}if(!fC(N,E.prevChildren)){var W,ee,se,ge,K=si(N,Uf),V=K&&(W=(ee=K.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&W!==void 0?W:j,$=K&&(se=(ge=K.props)===null||ge===void 0?void 0:ge.endIndex)!==null&&se!==void 0?se:q,J=V!==j||$!==q,te=!_t(I),fe=te&&!J?E.updateId:E.updateId+1;return _e(_e({updateId:fe},S(_e(_e({props:A},E),{},{updateId:fe,dataStartIndex:V,dataEndIndex:$}),E)),{},{prevChildren:N,dataStartIndex:V,dataEndIndex:$})}return null}),Ye(n,"renderActiveDot",function(A,E){var M;return Y.isValidElement(A)?M=Y.cloneElement(A,E):ht(A)?M=A(E):M=re.createElement(ck,E),re.createElement(ln,{className:"recharts-active-dot",key:E.key},M)}),n},Nke=Ike({chartName:"AreaChart",GraphicalChild:Rl,axisComponents:[{axisType:"xAxis",AxisComp:pk},{axisType:"yAxis",AxisComp:mk}],formatAxisMap:NNe});const Fy=({label:t,value:e,trend:n,subLabel:r,color:i,data:o})=>{const l={cyan:{blob:"bg-cyan-500/10",hover:"group-hover:bg-cyan-500/20",stroke:"#06b6d4",fill:"#06b6d4"},purple:{blob:"bg-purple-500/10",hover:"group-hover:bg-purple-500/20",stroke:"#a855f7",fill:"#a855f7"},green:{blob:"bg-green-500/10",hover:"group-hover:bg-green-500/20",stroke:"#22c55e",fill:"#22c55e"},yellow:{blob:"bg-yellow-500/10",hover:"group-hover:bg-yellow-500/20",stroke:"#eab308",fill:"#eab308"}}[i];return g.jsxs("div",{className:"relative overflow-hidden group bg-black/40 border border-white/10 rounded-xl h-40 flex flex-col justify-between shadow-lg",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 rounded-full blur-3xl -mr-10 -mt-10 transition-all opacity-50 ${l.blob} ${l.hover}`}),g.jsxs("div",{className:"relative z-20 p-5 h-full flex flex-col justify-start",children:[g.jsx("h3",{className:"text-[10px] font-mono text-white/40 uppercase tracking-widest mb-1",children:t}),g.jsxs("div",{className:"flex items-baseline gap-2",children:[g.jsx("span",{className:"text-3xl font-bold font-mono tracking-tight text-white",children:e}),n&&g.jsx("span",{className:`text-[10px] font-mono ${n.startsWith("+")?"text-green-400":"text-red-400"}`,children:n})]}),r&&g.jsx("p",{className:"text-[10px] text-white/30 mt-1 font-mono",children:r})]}),o&&g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 z-10 opacity-40 group-hover:opacity-60 transition-all duration-500 translate-y-2 group-hover:translate-y-0",children:g.jsx(E_e,{width:"100%",height:"100%",children:g.jsxs(Nke,{data:o,margin:{top:0,right:0,left:0,bottom:0},children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:`gradient-${i}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:l.stroke,stopOpacity:.8}),g.jsx("stop",{offset:"95%",stopColor:l.stroke,stopOpacity:0})]})}),g.jsx(Rl,{type:"monotone",dataKey:"value",stroke:l.stroke,strokeWidth:2,fillOpacity:1,fill:`url(#gradient-${i})`,isAnimationActive:!0})]})})})]})},QS=({status:t})=>{const e={ACTIVE:"bg-green-500/10 text-green-400 border-green-500/20 shadow-[0_0_10px_rgba(34,197,94,0.1)]",BANNED:"bg-red-500/10 text-red-400 border-red-500/20",SHADOW_BANNED:"bg-purple-500/10 text-purple-400 border-purple-500/20",PENDING:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20 animate-pulse",VERIFIED:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20",UNVERIFIED:"bg-white/5 text-white/40 border-white/10"},n=e[t]||e.UNVERIFIED;return g.jsx("span",{className:`px-2 py-0.5 rounded-sm text-[9px] font-mono border uppercase tracking-wider ${n}`,children:t.replace("_"," ")})},Rke=({user:t,onClose:e,onBan:n})=>{if(!t)return null;const r=[];return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"w-full max-w-2xl bg-[#09090b] border border-white/10 rounded-xl overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(GA,{className:"text-yellow-500",size:20}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-mono text-sm font-bold text-white",children:"MESSAGE_INSPECTOR"}),g.jsxs("p",{className:"text-[10px] text-white/40 font-mono uppercase",children:["TARGET: ",t.name," (",t.id,")"]})]})]}),g.jsx("button",{onClick:e,className:"p-1 hover:bg-white/10 rounded text-white/60 hover:text-white",children:g.jsx(br,{size:20})})]}),g.jsx("div",{className:"p-4 h-96 overflow-y-auto space-y-3 font-mono text-xs bg-black/50",children:r.length===0?g.jsx("div",{className:"flex items-center justify-center h-full text-white/30 italic",children:"No recent message logs found for this user."}):r.map(i=>g.jsxs("div",{className:`flex gap-3 ${i.type==="alert"?"bg-red-500/10 border border-red-500/20 p-2 rounded":""}`,children:[g.jsx("span",{className:"text-white/30 shrink-0 w-16",children:i.time}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("span",{className:`font-bold mr-2 ${i.sender==="System"?"text-red-400":"text-cyan-400"}`,children:["[",i.sender,"]:"]}),g.jsx("span",{className:i.risk==="high"?"text-red-300":"text-white/70",children:i.text})]})]},i.id))}),g.jsxs("div",{className:"p-3 border-t border-white/10 bg-white/5 flex justify-end gap-2",children:[g.jsx($t,{variant:"ghost",onClick:e,className:"h-8 text-xs",children:"Close"}),g.jsx($t,{variant:"primary",className:"h-8 text-xs bg-red-600 hover:bg-red-700 border-none shadow-none text-white",onClick:()=>{n(t.id),e()},children:"Ban User"})]})]})})},kke=({user:t,onClose:e,onConfirm:n})=>{if(!t)return null;const r=["Invalid Document","Blurry Image","Business Not Found","Suspicious Activity","Other"],[i,o]=Y.useState(r[0]);return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"w-full max-w-md bg-[#09090b] border border-white/10 rounded-xl shadow-2xl",children:[g.jsx("div",{className:"p-4 border-b border-white/10",children:g.jsx("h3",{className:"font-mono text-sm font-bold text-white",children:"REJECT_VERIFICATION"})}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("p",{className:"text-sm text-white/70",children:["Select a reason for rejecting ",g.jsx("span",{className:"text-white font-bold",children:t.name}),":"]}),g.jsx("div",{className:"space-y-2",children:r.map(s=>g.jsxs("label",{className:"flex items-center gap-3 p-3 rounded border border-white/10 hover:bg-white/5 cursor-pointer transition-colors",children:[g.jsx("input",{type:"radio",name:"reason",checked:i===s,onChange:()=>o(s),className:"accent-red-500"}),g.jsx("span",{className:"text-sm text-white/80",children:s})]},s))})]}),g.jsxs("div",{className:"p-4 border-t border-white/10 flex justify-end gap-3",children:[g.jsx($t,{variant:"ghost",onClick:e,className:"h-9",children:"Cancel"}),g.jsx($t,{onClick:()=>n(i),className:"h-9 bg-red-500 hover:bg-red-600 border-none text-white shadow-none",children:"Confirm Rejection"})]})]})})},qy=(t,e)=>Array.from({length:15},(n,r)=>({value:Math.max(0,t+Math.sin(r/2)*e+(Math.random()-.5)*e)})),Pke=({onLogout:t})=>{const[e,n]=Y.useState("overview"),[r,i]=Y.useState(null),[o,s]=Y.useState([]),[l,c]=Y.useState(!0),[f,h]=Y.useState(""),[p,y]=Y.useState(!1),[_,S]=Y.useState([]),[A,E]=Y.useState(null),[M,I]=Y.useState(null),[N,C]=Y.useState("ALL"),[R,L]=Y.useState(!1),[P,O]=Y.useState(!1),[j,q]=Y.useState(!1),[F,z]=Y.useState({});Y.useEffect(()=>{B(),z({users:qy(150,20),revenue:qy(5e3,1e3),matches:qy(40,10),verifications:qy(10,5)})},[]);const B=async()=>{c(!0);const[$,J]=await Promise.all([kt.getAdminStats(),kt.getAllUsers()]);i($),s(J),c(!1)},X=async()=>{window.confirm("This will inject mock data into Firestore. Continue?")&&(y(!0),await kt.seedDatabase(),await B(),y(!1))},ie=async($,J,te)=>{s(fe=>fe.map(ye=>ye.id===$?{...ye,verificationStatus:J?ai.VERIFIED:ai.REJECTED}:ye)),await kt.verifyUser($,J),I(null),kt.getAdminStats().then(i)},W=async $=>{s(J=>J.map(te=>te.id===$?{...te,status:Br.BANNED}:te)),await kt.updateUserStatus($,Br.BANNED)},ee=async $=>{s(J=>J.map(te=>te.id===$?{...te,status:te.status===Br.SHADOW_BANNED?Br.ACTIVE:Br.SHADOW_BANNED}:te))},se=()=>{_.length===K.length?S([]):S(K.map($=>$.id))},ge=$=>{_.includes($)?S(J=>J.filter(te=>te!==$)):S(J=>[...J,$])};let K=o.filter($=>$.name.toLowerCase().includes(f.toLowerCase())||$.email.toLowerCase().includes(f.toLowerCase()));N!=="ALL"&&(K=K.filter($=>$.role===N)),R&&(K=K.filter($=>$.role===Ke.BUSINESS&&$.verificationStatus!==ai.VERIFIED)),j&&(K=K.filter($=>$.verificationStatus===ai.VERIFIED)),P&&(K=K.filter($=>$.reportCount>0));const V=o.filter($=>$.verificationStatus===ai.PENDING);return g.jsxs("div",{className:"flex h-screen w-screen bg-[#050505] text-white font-sans overflow-hidden",children:[g.jsxs(qe.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},className:"w-20 lg:w-64 border-r border-white/5 flex flex-col bg-black z-20",children:[g.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-white/5",children:[g.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center font-bold text-white",children:g.jsx("img",{src:yu,className:"h-8 w-auto object-contain",alt:"Ping Admin"})}),g.jsxs("div",{className:"hidden lg:block",children:[g.jsx("span",{className:"font-bold text-lg tracking-tight text-white",children:"GOD_MODE"}),g.jsx("span",{className:"block text-[9px] text-cyan-500 font-mono tracking-widest",children:"V2.0.4 ACCESS GRANTED"})]})]}),g.jsx("nav",{className:"flex-1 px-3 space-y-1 mt-6",children:[{id:"overview",icon:que,label:"COCKPIT"},{id:"users",icon:HA,label:"USER_GRID"},{id:"verifications",icon:qw,label:"VERIFICATION",badge:r==null?void 0:r.pendingVerifications},{id:"reports",icon:GA,label:"SAFETY_LOG"}].map($=>g.jsxs("button",{onClick:()=>n($.id),className:`
                w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all relative group font-mono text-xs
                ${e===$.id?"bg-cyan-950/30 text-cyan-400 border border-cyan-900/50":"text-white/40 hover:text-white hover:bg-white/5 border border-transparent"}
              `,children:[g.jsx($.icon,{size:16}),g.jsx("span",{className:"hidden lg:block tracking-wide",children:$.label}),$.badge?g.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-5 h-5 bg-red-500 rounded text-[9px] text-white font-bold flex items-center justify-center shadow-[0_0_10px_rgba(239,68,68,0.4)]",children:$.badge}):null]},$.id))}),g.jsxs("div",{className:"p-4 border-t border-white/5 space-y-2",children:[g.jsxs("button",{onClick:X,disabled:p,className:"flex items-center gap-3 px-4 py-3 text-orange-500/60 hover:text-orange-500 hover:bg-orange-500/10 w-full rounded-lg transition-colors font-mono text-xs border border-transparent hover:border-orange-500/20",children:[p?g.jsx(Iu,{size:16,className:"animate-spin"}):g.jsx(Mue,{size:16}),g.jsx("span",{className:"hidden lg:block",children:p?"SEEDING...":"SEED_DATABASE"})]}),g.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3 text-red-500/60 hover:text-red-500 hover:bg-red-500/10 w-full rounded-lg transition-colors font-mono text-xs border border-transparent hover:border-red-500/20",children:[g.jsx(YL,{size:16}),g.jsx("span",{className:"hidden lg:block",children:"TERMINATE_SESSION"})]})]})]}),g.jsxs("div",{className:"flex-1 flex flex-col h-full relative overflow-hidden bg-[#0a0a0a]",children:[g.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(0,255,255,0.02)_1px,transparent_1px)] bg-[size:40px_40px]"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black pointer-events-none"}),g.jsxs("header",{className:"h-16 border-b border-white/5 flex items-center justify-between px-8 bg-black/60 backdrop-blur-md z-10 shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono text-white/30",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${l?"bg-yellow-500 animate-bounce":"bg-green-500 animate-pulse"}`}),"SYSTEM STATUS: ",l?"LOADING_RESOURCES":"ONLINE"]}),g.jsx("div",{className:"h-4 w-px bg-white/10"}),g.jsx("div",{className:"text-[10px] font-mono text-white/30",children:"LATENCY: 24ms"})]}),g.jsx("div",{className:"flex items-center gap-4"})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-8 relative z-0 no-scrollbar",children:l?g.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-cyan-500/50 space-y-4",children:[g.jsx(Iu,{size:40,className:"animate-spin"}),g.jsx("p",{className:"font-mono text-xs tracking-widest animate-pulse",children:"ESTABLISHING UPLINK..."})]}):g.jsxs(yr,{mode:"wait",children:[e==="overview"&&r&&g.jsxs(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[g.jsx(Fy,{label:"Total Users",value:r.totalUsers,trend:"+12.5%",subLabel:`${r.split.business} BIZ / ${r.split.influencer} INF`,color:"cyan",data:F.users}),g.jsx(Fy,{label:"Monthly Revenue",value:`${r.revenue.toLocaleString()}`,trend:"+8.2%",subLabel:"STRIPE VOL",color:"purple",data:F.revenue}),g.jsx(Fy,{label:"Active Matches",value:r.activeMatches,trend:"+24 today",subLabel:"CONVERSATIONS",color:"green",data:F.matches}),g.jsx(Fy,{label:"Verification Q",value:r.pendingVerifications,subLabel:"REQUIRES ACTION",color:"yellow",data:F.verifications})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 p-6 min-h-[400px] flex flex-col bg-black/40 border border-white/10 rounded-xl relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-cyan-500 to-purple-500 opacity-50"}),g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsx("h3",{className:"font-mono font-bold text-sm text-white",children:"GROWTH_METRICS"}),g.jsx("div",{className:"flex gap-1",children:["1D","1W","1M","1Y"].map($=>g.jsx("button",{className:"text-[10px] font-mono px-3 py-1 rounded-sm bg-white/5 hover:bg-cyan-500/20 hover:text-cyan-400 border border-transparent hover:border-cyan-500/30 transition-all text-white/50",children:$},$))})]}),g.jsx("div",{className:"flex-1 flex items-end gap-1 px-2 border-b border-white/5 pb-2",children:[30,45,35,60,55,70,85,80,95,100,90,110,95,105,115,120].map(($,J)=>g.jsx("div",{className:"flex-1 bg-cyan-500/20 hover:bg-cyan-400/80 transition-all duration-300 relative group",style:{height:`${$*.7}%`},children:g.jsxs("div",{className:"opacity-0 group-hover:opacity-100 absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-[9px] px-2 py-1 border border-cyan-500/30 text-cyan-400 font-mono whitespace-nowrap z-10 pointer-events-none",children:["DATA: ",$*12]})},J))})]}),g.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl overflow-hidden flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-white/10 bg-white/5 flex justify-between items-center",children:[g.jsx("h3",{className:"font-mono font-bold text-sm text-white",children:"SYSTEM_LOGS"}),g.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),g.jsx("div",{className:"flex-1 p-0 overflow-y-auto font-mono text-xs",children:[1,2,3,4,5,6,7,8].map($=>g.jsxs("div",{className:"flex items-start gap-3 p-3 border-b border-white/5 hover:bg-white/5 transition-colors cursor-default",children:[g.jsxs("span",{className:"text-white/30 text-[10px] mt-0.5",children:["09:4",$,":12"]}),g.jsxs("div",{children:[g.jsxs("p",{className:"text-white/80",children:["User ",g.jsx("span",{className:"text-cyan-400",children:"#8392"})," verified."]}),g.jsxs("p",{className:"text-[9px] text-white/30 mt-0.5",children:["ADMIN_ACTION  IP 192.168.1.",$]})]})]},$))})]})]})]},"overview"),e==="users"&&g.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex flex-col",children:g.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col bg-black/40 border border-white/10 rounded-xl",children:[g.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-white/5",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("h3",{className:"font-mono font-bold text-sm tracking-widest text-white",children:"DATABASE_RECORDS"}),g.jsxs("div",{className:"relative",children:[g.jsx(t8,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/30",size:12}),g.jsx("input",{type:"text",value:f,onChange:$=>h($.target.value),placeholder:"Search user or email...",className:"bg-black/50 border border-white/10 rounded-lg pl-8 pr-3 py-1.5 text-xs font-mono text-white focus:outline-none focus:border-cyan-500/50 w-56 transition-colors placeholder:text-white/20"})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:()=>{const $=N==="ALL"?Ke.BUSINESS:N===Ke.BUSINESS?Ke.INFLUENCER:"ALL";C($)},className:`text-[10px] font-mono px-3 py-1.5 flex items-center gap-2 border transition-all ${N!=="ALL"?"bg-indigo-500/10 border-indigo-500/50 text-indigo-400":"border-white/10 text-white/50 hover:text-white"}`,children:[N===Ke.BUSINESS?g.jsx(Ks,{size:12}):g.jsx(HA,{size:12}),N==="ALL"?"FILTER: ROLE":N===Ke.BUSINESS?"ROLE: BRAND":"ROLE: CREATOR"]}),g.jsxs("button",{onClick:()=>{O(!P),P||L(!1)},className:`text-[10px] font-mono px-3 py-1.5 flex items-center gap-2 border transition-all ${P?"bg-red-500/10 border-red-500/50 text-red-400":"border-white/10 text-white/50 hover:text-white"}`,children:[g.jsx(FA,{size:12})," ",P?"FILTER: REPORTED":"SHOW REPORTED"]}),g.jsxs("button",{onClick:()=>{q(!j),j||L(!1)},className:`text-[10px] font-mono px-3 py-1.5 flex items-center gap-2 border transition-all ${j?"bg-cyan-500/10 border-cyan-500/50 text-cyan-400":"border-white/10 text-white/50 hover:text-white"}`,children:[g.jsx(Uv,{size:12})," ",j?"FILTER: VERIFIED":"SHOW VERIFIED"]}),g.jsxs("button",{onClick:()=>{L(!R),R||(O(!1),q(!1))},className:`text-[10px] font-mono px-3 py-1.5 flex items-center gap-2 border transition-all ${R?"bg-yellow-500/10 border-yellow-500/50 text-yellow-400":"border-white/10 text-white/50 hover:text-white"}`,children:[g.jsx(Lue,{size:12})," ",R?"FILTER: UNVERIFIED BIZ":"FILTER: UNVERIFIED"]})]})]}),g.jsx("div",{className:"flex-1 overflow-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{className:"bg-black sticky top-0 z-10",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-4 border-b border-white/10 w-10",children:g.jsx("input",{type:"checkbox",checked:_.length===K.length&&K.length>0,onChange:se,className:"accent-cyan-500 bg-transparent border-white/20"})}),g.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal",children:"Entity"}),g.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal",children:"Role"}),g.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal",children:"AI Score"}),g.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal",children:"Status"}),g.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal",children:"Verification"}),g.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal text-right",children:"Control"})]})}),g.jsx("tbody",{className:"divide-y divide-white/5 text-xs font-mono",children:K.map($=>g.jsxs("tr",{className:`hover:bg-cyan-500/5 transition-colors group ${_.includes($.id)?"bg-cyan-500/10":""}`,children:[g.jsx("td",{className:"p-4",children:g.jsx("input",{type:"checkbox",checked:_.includes($.id),onChange:()=>ge($.id),className:"accent-cyan-500"})}),g.jsx("td",{className:"p-4",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"w-8 h-8 rounded bg-white/10 overflow-hidden relative",children:[g.jsx("img",{src:$.avatar,className:"w-full h-full object-cover opacity-80"}),$.status===Br.SHADOW_BANNED&&g.jsx("div",{className:"absolute inset-0 bg-purple-500/50 flex items-center justify-center",children:g.jsx(zw,{size:14,className:"text-white"})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold text-white tracking-tight flex items-center gap-2",children:[$.name,$.reportCount>0&&g.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 px-1.5 py-0.5 rounded text-[9px] font-mono flex items-center gap-1",children:[g.jsx(FA,{size:8})," ",$.reportCount]})]}),g.jsx("div",{className:"text-[10px] text-white/30",children:$.email})]})]})}),g.jsx("td",{className:"p-4",children:g.jsx("span",{className:`text-[9px] px-1.5 py-0.5 border ${$.role===Ke.BUSINESS?"border-blue-500/30 text-blue-400":"border-purple-500/30 text-purple-400"}`,children:$.role})}),g.jsx("td",{className:"p-4",children:$.aiMatchScore?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:`font-mono text-xs ${$.aiMatchScore>80?"text-green-400":"text-white/60"}`,children:[$.aiMatchScore,"%"]}),g.jsx("div",{className:"w-12 h-1 bg-white/10 rounded-full overflow-hidden",children:g.jsx("div",{className:`h-full ${$.aiMatchScore>80?"bg-green-500":"bg-yellow-500"}`,style:{width:`${$.aiMatchScore}%`}})})]}):g.jsx("span",{className:"font-mono text-xs text-white/20",children:"N/A"})}),g.jsx("td",{className:"p-4",children:g.jsx(QS,{status:$.status})}),g.jsx("td",{className:"p-4",children:g.jsx(QS,{status:$.verificationStatus})}),g.jsx("td",{className:"p-4 text-right",children:g.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>E($),className:"p-1.5 hover:bg-cyan-500/20 rounded text-cyan-500/60 hover:text-cyan-400",title:"Inspect Messages",children:g.jsx(Hue,{size:14})}),g.jsx("button",{onClick:()=>ee($.id),className:`p-1.5 hover:bg-purple-500/20 rounded transition-colors ${$.status===Br.SHADOW_BANNED?"text-purple-400 bg-purple-500/10":"text-purple-500/60 hover:text-purple-400"}`,title:"Shadow Ban",children:g.jsx(zw,{size:14})}),g.jsx("button",{onClick:()=>W($.id),className:"p-1.5 hover:bg-red-500/20 rounded text-red-500/60 hover:text-red-500",title:"Ban User",children:g.jsx(YL,{size:14})})]})})]},$.id))})]})}),g.jsx(yr,{children:_.length>0&&g.jsxs(qe.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-[#09090b] border border-cyan-500/30 shadow-[0_0_30px_rgba(6,182,212,0.2)] rounded-full px-6 py-3 flex items-center gap-4 z-30",children:[g.jsxs("span",{className:"text-xs font-mono text-cyan-400",children:[_.length," SELECTED"]}),g.jsx("div",{className:"h-4 w-px bg-white/10"}),g.jsxs("button",{className:"text-xs font-mono text-white/70 hover:text-white flex items-center gap-2",children:[g.jsx(qw,{size:14})," VERIFY"]}),g.jsxs("button",{className:"text-xs font-mono text-white/70 hover:text-white flex items-center gap-2",children:[g.jsx(zw,{size:14})," SHADOW"]}),g.jsxs("button",{className:"text-xs font-mono text-red-400 hover:text-red-300 flex items-center gap-2",children:[g.jsx(o8,{size:14})," DELETE"]}),g.jsx("button",{onClick:()=>S([]),className:"ml-2 p-1 hover:bg-white/10 rounded-full",children:g.jsx(br,{size:14})})]})})]})},"users"),e==="verifications"&&g.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:V.length===0?g.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-32 opacity-30",children:[g.jsx(qw,{size:64,className:"text-green-500 mb-6"}),g.jsx("h2",{className:"text-2xl font-mono font-bold tracking-widest",children:"QUEUE_EMPTY"}),g.jsx("p",{className:"font-mono text-sm mt-2",children:"ALL TASKS COMPLETED"})]}):V.map($=>g.jsxs("div",{className:"relative bg-black/40 border border-white/10 rounded-xl overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-yellow-500"}),g.jsxs("div",{className:"p-6 flex flex-col gap-6",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsx("img",{src:$.avatar,className:"w-16 h-16 rounded object-cover border border-white/10"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-white text-lg tracking-tight",children:$.name}),g.jsx("p",{className:"text-xs font-mono text-white/50",children:$.email}),g.jsx("div",{className:"mt-2",children:g.jsx(QS,{status:"PENDING_REVIEW"})})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-[10px] font-mono text-white/30",children:"REQ_ID"}),g.jsxs("div",{className:"font-mono text-white/60",children:["#",$.id.slice(0,6).toUpperCase()]})]})]}),g.jsxs("div",{className:"bg-[#050505] border border-white/10 rounded p-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3",children:[g.jsxs("span",{className:"text-[10px] font-mono font-bold text-white/40 uppercase flex items-center gap-2",children:[g.jsx(tR,{size:12})," Supporting_Doc_01.pdf"]}),g.jsx("a",{href:"#",className:"text-[10px] font-mono text-cyan-400 hover:underline",children:"OPEN_SOURCE"})]}),$.docUrl?g.jsx("div",{className:"relative h-40 group-hover:h-64 transition-all duration-500 overflow-hidden rounded border border-white/5",children:g.jsx("img",{src:$.docUrl,className:"w-full h-full object-cover opacity-60 hover:opacity-100 transition-opacity"})}):g.jsx("div",{className:"h-32 flex items-center justify-center border border-white/5 border-dashed rounded text-white/20 font-mono text-xs",children:"NO_PREVIEW_AVAILABLE"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("button",{onClick:()=>I($),className:"flex items-center justify-center gap-2 py-3 rounded bg-red-500/5 border border-red-500/20 text-red-500 font-mono text-xs font-bold hover:bg-red-500/10 transition-all",children:[g.jsx(br,{size:14})," REJECT"]}),g.jsxs("button",{onClick:()=>ie($.id,!0),className:"flex items-center justify-center gap-2 py-3 rounded bg-green-500/5 border border-green-500/20 text-green-500 font-mono text-xs font-bold hover:bg-green-500/10 transition-all shadow-[0_0_15px_rgba(34,197,94,0.05)]",children:[g.jsx(Eb,{size:14})," APPROVE"]})]})]})]},$.id))},"verifications"),e==="reports"&&g.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center h-full text-white/20",children:[g.jsx(GA,{size:64,className:"mb-4"}),g.jsx("p",{className:"font-mono text-sm tracking-widest",children:"SYSTEM_SECURE"}),g.jsx("p",{className:"font-mono text-xs mt-2",children:"NO CRITICAL ALERTS LOGGED"})]})]})}),g.jsxs(yr,{children:[A&&g.jsx(Rke,{user:A,onClose:()=>E(null),onBan:W}),M&&g.jsx(kke,{user:M,onClose:()=>I(null),onConfirm:$=>ie(M.id,!1)})]})]})]})},Mke=({user:t})=>{var i,o,s;const e=[{label:"Display Name",met:!!((i=t.name)!=null&&i.trim()),weight:10},{label:"Profile Photo",met:t.avatar&&!t.avatar.includes("placeholder")&&!t.avatar.includes("ui-avatars"),weight:15},{label:"Bio",met:(((o=t.bio)==null?void 0:o.length)||0)>20,weight:20},{label:"Interests",met:((s=t.tags)==null?void 0:s.length)>0,weight:10},{label:"Video Pitch",met:!!t.introVideoUrl,weight:35},{label:"Socials",met:Object.values(t.socials||{}).some(l=>!!l),weight:10}],n=e.reduce((l,c)=>l+(c.met?c.weight:0),0),r=e.find(l=>!l.met);return g.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black text-white p-5 rounded-3xl shadow-xl border border-white/10 relative overflow-hidden mb-6",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-pink-500/20 blur-3xl rounded-full -mr-10 -mt-10 pointer-events-none"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-blue-500/10 blur-3xl rounded-full -ml-10 -mb-10 pointer-events-none"}),g.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[g.jsxs("div",{className:"relative w-16 h-16 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 36 36",children:[g.jsx("path",{className:"text-gray-800",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:`${n===100?"text-green-500":"text-pink-500"} transition-all duration-1000 ease-out`,strokeDasharray:`${n}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round"})]}),g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-sm",children:[n,"%"]})]}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("h4",{className:"font-bold text-lg leading-tight mb-1 flex items-center gap-2",children:[n===100?"All Star Profile! ":"Profile Strength",n===100&&g.jsx(lce,{size:16,className:"text-yellow-400"})]}),g.jsx("p",{className:"text-xs text-gray-400",children:n===100?"You're fully optimized for maximum visibility.":g.jsxs("span",{children:["Next: ",g.jsx("span",{className:"text-white font-semibold",children:(r==null?void 0:r.label)||"Complete details"}),g.jsxs("span",{className:"text-green-400 ml-1",children:["(+",r==null?void 0:r.weight,"%)"]})]})}),n<100&&g.jsx("div",{className:"mt-2 h-1.5 w-full bg-gray-800 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-orange-400 transition-all duration-500",style:{width:`${n}%`}})})]})]})]})},Oke=({index:t,image:e,isMain:n,onRemove:r,onAdd:i,isLoading:o})=>g.jsx("div",{className:`
        relative rounded-xl overflow-hidden bg-white/40 dark:bg-white/5 border-2 
        ${n?"border-pink-500/50 shadow-[0_0_15px_rgba(236,72,153,0.2)] row-span-2 col-span-2":"border-dashed border-pink-200 dark:border-white/10"}
        group transition-all cursor-pointer
      `,onClick:s=>{!e&&!o&&i()},children:o?g.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-black/5 dark:bg-white/5",children:[g.jsx(Iu,{className:"animate-spin text-pink-500 mb-2",size:n?32:20}),g.jsx("span",{className:"text-[10px] text-pink-500 font-bold",children:"Uploading..."})]}):e?g.jsxs("div",{onClick:i,className:"w-full h-full relative",children:[g.jsx("img",{src:e,className:"w-full h-full object-cover",draggable:!1,alt:`Profile ${t}`}),g.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none",children:g.jsxs("span",{className:"text-white text-xs font-bold bg-black/50 px-2 py-1 rounded-full border border-white/20 backdrop-blur-sm flex items-center gap-1",children:[g.jsx(Fue,{size:12})," Replace"]})}),g.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto",onClick:s=>s.stopPropagation(),children:g.jsx("button",{onClick:s=>{s.stopPropagation(),r()},className:"bg-black/60 text-white rounded-full p-1 hover:bg-red-500 transition-colors",children:g.jsx(br,{size:14})})}),n&&g.jsx("div",{className:"absolute bottom-2 left-2 bg-pink-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide pointer-events-none",children:"Main"}),g.jsx("div",{className:"absolute bottom-1 right-1 bg-black/40 text-white/50 text-[10px] px-1.5 rounded pointer-events-none",children:t+1})]}):g.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-pink-300 dark:text-white/20 hover:text-pink-500 dark:hover:text-pink-400 hover:bg-pink-500/5 transition-all",children:[g.jsx(Jue,{size:n?32:24}),n&&g.jsx("span",{className:"text-xs font-bold uppercase mt-2 tracking-widest",children:"Add Photo"})]})}),Dke=({user:t,onSave:e,onCancel:n})=>{var se,ge,K,V;const[r,i]=Y.useState("edit"),[o,s]=Y.useState({...t}),[l,c]=Y.useState(!0),[f,h]=Y.useState(!1),[p,y]=Y.useState([]),[_,S]=Y.useState(!1),[A,E]=Y.useState(!1),[M,I]=Y.useState("Professional"),[N,C]=Y.useState(null),R=Y.useRef(null),[L,P]=Y.useState(null);Y.useEffect(()=>{s(t)},[t]);const O=($,J)=>{s(te=>({...te,[$]:J})),C(null)},j=($,J)=>{s(te=>({...te,socials:{...te.socials,[$]:J}})),C(null)},q=async $=>{var J;if((J=$.target.files)!=null&&J[0]){const te=$.target.files[0];if(te.size>50*1024*1024){alert("Video is too large. Please keep it under 50MB.");return}h(!0);try{const fe=`users/${t.id}/videos/${Date.now()}_${te.name}`,ye=await kt.uploadFile(te,fe);O("introVideoUrl",ye)}catch(fe){console.error("Video Upload Failed",fe),alert("Failed to upload video")}finally{h(!1)}}},F=$=>{var J;P($),(J=R.current)==null||J.click()},z=async $=>{var J;if((J=$.target.files)!=null&&J[0]&&L!==null){const te=$.target.files[0],fe=L;y(ye=>[...ye,fe]),P(null);try{const ye=`users/${t.id}/images/${Date.now()}_${te.name}`,Te=await kt.uploadFile(te,ye);if(fe===0)O("avatar",Te);else{const Se=[...o.portfolio||[]],he=fe-1;for(;Se.length<he;)Se.push("");Se[he]=Te,O("portfolio",Se)}}catch(ye){console.error("Image Upload Failed",ye),alert("Failed to upload image. Please try again.")}finally{y(ye=>ye.filter(Te=>Te!==fe)),R.current&&(R.current.value="")}}},B=$=>{if($===0)O("avatar",fi);else{const J=(o.portfolio||[]).filter((te,fe)=>fe!==$-1);O("portfolio",J)}},X=$=>$===0?o.avatar:o.portfolio?o.portfolio[$-1]:null,ie=async()=>{S(!0);const $=await Kv.generateBio(o,M);O("bio",$),S(!1)},W=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}E(!0);const $={enableHighAccuracy:!0,timeout:1e4,maximumAge:0};navigator.geolocation.getCurrentPosition(async J=>{const{latitude:te,longitude:fe}=J.coords;try{const ye=await Kv.identifyLocation(te,fe);ye&&ye!=="Location Unavailable"?O("location",ye):alert("Could not identify specific city/state. Please check manually.")}catch(ye){console.error("Location error",ye),alert("Location service unavailable. Please enter manually.")}E(!1)},J=>{console.error("Geolocation error:",J);let te="Unable to retrieve location.";J.code===1?te="Location permission denied. Please enable in browser settings.":J.code===2?te="Location unavailable.":J.code===3&&(te="Location request timed out."),alert(te),E(!1)},$)},ee=()=>{var $;if(!(($=o.name)!=null&&$.trim())){C("Display Name is required."),i("edit");return}e(o)};return g.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-[#0f0c29] text-gray-900 dark:text-white transition-colors duration-300",children:[g.jsx("input",{type:"file",ref:R,className:"hidden",accept:"image/*",onChange:z}),g.jsxs("div",{className:"sticky top-0 z-40 bg-white/90 dark:bg-[#0f0c29]/90 backdrop-blur-xl border-b border-pink-100 dark:border-white/5 pb-0 transition-colors duration-300",children:[g.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",children:[g.jsx("button",{onClick:n,className:"p-2 -ml-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-700 dark:text-white/80 transition-colors",children:g.jsx(Sm,{size:24})}),g.jsx("h2",{className:"text-lg font-bold",children:"Edit Profile"}),g.jsx("button",{onClick:ee,className:"text-sm font-bold bg-black text-white px-4 py-2 rounded-full shadow-lg hover:scale-105 active:scale-95 transition-all",children:"Save"})]}),g.jsxs("div",{className:"flex px-6 gap-6 mt-2 overflow-x-auto no-scrollbar",children:[g.jsx("button",{onClick:()=>i("edit"),className:`pb-3 text-sm font-bold border-b-2 whitespace-nowrap transition-colors ${r==="edit"?"border-pink-500 text-pink-500":"border-transparent text-gray-500 dark:text-white/40"}`,children:"Edit Info"}),g.jsx("button",{onClick:()=>i("location"),className:`pb-3 text-sm font-bold border-b-2 whitespace-nowrap transition-colors ${r==="location"?"border-pink-500 text-pink-500":"border-transparent text-gray-500 dark:text-white/40"}`,children:"Location"}),g.jsx("button",{onClick:()=>i("preview"),className:`pb-3 text-sm font-bold border-b-2 whitespace-nowrap transition-colors ${r==="preview"?"border-pink-500 text-pink-500":"border-transparent text-gray-500 dark:text-white/40"}`,children:"Preview Card"})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative",children:g.jsxs(yr,{mode:"wait",children:[r==="edit"&&g.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-6 space-y-8 pb-32",children:[g.jsx(Mke,{user:o}),g.jsx(yr,{children:N&&g.jsxs(qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-500/20 rounded-xl p-4 flex items-center gap-3 text-red-600 dark:text-red-400 mb-2",children:[g.jsx(ZN,{size:18}),g.jsx("span",{className:"text-sm font-bold",children:N})]})}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xs font-bold text-pink-800/50 dark:text-white/50 uppercase tracking-widest",children:["Basic Info ",g.jsx("span",{className:"text-red-500 font-bold ml-0.5",children:"*"})]}),g.jsxs("div",{className:"relative",children:[g.jsx(l8,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),g.jsx("input",{type:"text",value:o.name||"",onChange:$=>O("name",$.target.value),placeholder:"Display Name",className:`w-full bg-gray-50 dark:bg-white/5 border rounded-xl pl-12 pr-4 py-3 text-sm focus:outline-none transition-colors font-bold text-lg ${!((se=o.name)!=null&&se.trim())&&(N!=null&&N.includes("Name"))?"border-red-500":"border-pink-100 dark:border-white/10 focus:border-pink-500"}`})]}),g.jsxs("div",{className:"relative",children:[g.jsx(Af,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 z-10",size:16}),g.jsx("input",{type:"text",value:o.location||"",onChange:$=>O("location",$.target.value),placeholder:"Location (City, State)",className:"w-full bg-gray-50 dark:bg-white/5 border border-pink-100 dark:border-white/10 rounded-xl pl-12 pr-36 py-3 text-sm focus:outline-none transition-colors font-bold text-lg focus:border-pink-500"}),g.jsxs("button",{onClick:W,disabled:A,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[10px] font-bold bg-black dark:bg-white/10 text-white px-3 py-1.5 rounded-lg hover:scale-105 active:scale-95 transition-all flex items-center gap-1.5 z-20",children:[A?g.jsx(Iu,{size:12,className:"animate-spin"}):g.jsx($A,{size:12}),A?"Locating...":"Get Location"]})]})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xs font-bold text-pink-800/50 dark:text-white/50 uppercase tracking-widest",children:["Profile Photos ",g.jsx("span",{className:"text-red-500 font-bold ml-0.5",children:"*"})]}),g.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 text-xs font-bold text-pink-500",children:[g.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${l?"bg-pink-500":"bg-gray-400"}`,children:g.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${l?"left-4.5":"left-0.5"}`,style:{left:l?"18px":"2px"}})}),"Smart Photos"]})]}),g.jsx("div",{className:`grid grid-cols-3 grid-rows-3 gap-3 aspect-square p-2 rounded-2xl border-2 transition-colors ${N!=null&&N.includes("photos")?"border-red-500/50 bg-red-500/5":"border-transparent"}`,children:[0,1,2,3,4,5].map($=>g.jsx(Oke,{index:$,image:X($),isMain:$===0,onRemove:()=>B($),onAdd:()=>F($),isLoading:p.includes($)},$))}),g.jsx("p",{className:`text-xs text-center font-bold tracking-wide ${N!=null&&N.includes("photos")?"text-red-500":"text-gray-400 dark:text-white/30"}`,children:"Minimum 5 photos recommended."})]}),g.jsx("section",{className:"space-y-4",children:g.jsxs("div",{className:"space-y-2",children:[g.jsxs("h3",{className:"text-xs font-bold text-pink-800/50 dark:text-white/50 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(Due,{size:12})," Video Pitch"]}),o.introVideoUrl?g.jsxs("div",{className:"relative aspect-video rounded-2xl overflow-hidden bg-black border border-pink-500/30 shadow-lg group w-full",children:[g.jsx("video",{src:o.introVideoUrl,className:"w-full h-full object-cover",controls:!0,playsInline:!0}),g.jsx("button",{onClick:()=>O("introVideoUrl",void 0),className:"absolute top-2 right-2 bg-black/60 text-white p-2 rounded-full hover:bg-red-500 transition-colors backdrop-blur-md z-10",children:g.jsx(o8,{size:16})})]}):g.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl h-40 flex flex-col items-center justify-center text-center cursor-pointer hover:bg-pink-50/50 dark:hover:bg-white/5 transition-colors group ${N!=null&&N.includes("Video")?"border-red-500 bg-red-500/5":"border-pink-200 dark:border-white/10"}`,children:[g.jsx("input",{type:"file",accept:"video/*",onChange:q,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",disabled:f}),f?g.jsxs("div",{className:"flex flex-col items-center gap-2 text-pink-500",children:[g.jsx("div",{className:"w-4 h-4 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"}),g.jsx("span",{className:"text-[10px] font-bold",children:"Uploading..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mb-2 group-hover:scale-110 transition-transform ${N!=null&&N.includes("Video")?"bg-red-100 text-red-500":"bg-pink-100 dark:bg-white/10 text-pink-500"}`,children:g.jsx(cce,{size:16})}),g.jsx("p",{className:"text-xs font-bold text-gray-600 dark:text-white/80",children:"Add Video Intro"})]})]})]})}),g.jsxs("section",{className:"space-y-3",children:[g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xs font-bold text-pink-800/50 dark:text-white/50 uppercase tracking-widest",children:["About Me ",g.jsx("span",{className:"text-red-500 font-bold ml-0.5",children:"*"})]}),g.jsx("button",{onClick:ie,disabled:_,className:"flex items-center gap-1.5 text-[10px] font-bold text-white bg-gradient-to-r from-pink-500 to-orange-400 px-3 py-1.5 rounded-full shadow-lg hover:shadow-pink-500/20 active:scale-95 transition-all disabled:opacity-50",children:_?g.jsxs(g.Fragment,{children:[g.jsx(Iu,{size:12,className:"animate-spin"})," Writing..."]}):g.jsxs(g.Fragment,{children:[g.jsx(Cf,{size:12,fill:"currentColor"})," Generate Bio"]})})]}),g.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:["Professional","Fun","Creative","Hype"].map($=>g.jsx("button",{onClick:()=>I($),className:`px-3 py-1 rounded-full text-[10px] font-bold border transition-all ${M===$?"bg-pink-500 text-white border-pink-500":"bg-white dark:bg-white/5 text-gray-500 dark:text-white/50 border-gray-200 dark:border-white/10 hover:border-pink-500/50"}`,children:$},$))})]}),g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{value:o.bio||"",onChange:$=>O("bio",$.target.value),maxLength:500,className:`w-full h-32 bg-gray-50 dark:bg-white/5 border rounded-2xl p-4 text-sm focus:outline-none resize-none leading-relaxed transition-colors ${!((ge=o.bio)!=null&&ge.trim())&&(N!=null&&N.includes("Bio"))?"border-red-500":"border-pink-100 dark:border-white/10 focus:border-pink-500"}`,placeholder:"Write a catchy bio..."}),g.jsxs("span",{className:"absolute bottom-3 right-3 text-[10px] text-gray-400",children:[((K=o.bio)==null?void 0:K.length)||0,"/500"]})]})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xs font-bold text-pink-800/50 dark:text-white/50 uppercase tracking-widest",children:["Social Links ",g.jsx("span",{className:"text-red-500 font-bold ml-0.5",children:"*"})]}),g.jsx("div",{className:`space-y-3 p-3 rounded-2xl border-2 transition-colors ${N!=null&&N.includes("social")?"border-red-500 bg-red-500/5":"border-transparent"}`,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-500/10 text-pink-500 flex items-center justify-center shrink-0",children:g.jsx(rR,{size:18})}),g.jsx("input",{type:"text",value:((V=o.socials)==null?void 0:V.instagram)||"",onChange:$=>j("instagram",$.target.value),placeholder:"Instagram Username",className:"flex-1 bg-gray-50 dark:bg-white/5 border border-pink-100 dark:border-white/10 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-pink-500 transition-colors"})]})})]})]},"edit"),r==="location"&&g.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"h-full flex flex-col relative",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/4 left-1/2 -translate-x-1/2 w-64 h-64 bg-pink-500/10 rounded-full blur-[80px]"}),g.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-blue-500/10 rounded-full blur-[60px]"})]}),g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 relative z-10 space-y-8",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`absolute inset-0 bg-pink-500/20 rounded-full blur-xl transition-all duration-1000 ${A?"scale-150 opacity-100":"scale-100 opacity-50"}`}),g.jsx("div",{className:"relative w-28 h-28 bg-white dark:bg-white/5 border border-pink-100 dark:border-white/10 rounded-full flex items-center justify-center shadow-2xl backdrop-blur-xl",children:g.jsx($A,{size:48,className:`text-pink-500 transition-all duration-1000 ${A?"animate-bounce":""}`,fill:A?"currentColor":"none"})}),A&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute inset-0 border-2 border-pink-500/30 rounded-full animate-ping"}),g.jsx("div",{className:"absolute inset-0 border border-pink-500/20 rounded-full animate-ping animation-delay-200"})]})]}),g.jsxs("div",{className:"text-center space-y-2 max-w-xs",children:[g.jsx("h3",{className:"text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:A?"Finding you...":"Set Location"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-white/50 leading-relaxed",children:"We prioritize local matches. Connect with brands and creators in your specific city."})]}),g.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[g.jsxs("div",{className:"relative group",children:[g.jsx(Af,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-pink-500 transition-colors",size:20}),g.jsx("input",{type:"text",value:o.location||"",onChange:$=>O("location",$.target.value),placeholder:"City, State",className:"w-full bg-gray-50 dark:bg-black/20 border-2 border-transparent focus:border-pink-500/20 focus:bg-white dark:focus:bg-black/40 rounded-2xl pl-12 pr-4 py-4 text-center font-bold text-lg text-gray-900 dark:text-white placeholder:text-gray-300 dark:placeholder:text-white/20 transition-all shadow-inner"})]}),g.jsx("button",{onClick:W,disabled:A,className:"w-full py-4 rounded-xl bg-gradient-to-r from-pink-500 to-orange-400 text-white font-bold text-sm shadow-xl hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:scale-100 flex items-center justify-center gap-2 mt-6",children:A?g.jsxs(g.Fragment,{children:[g.jsx(Iu,{size:18,className:"animate-spin"}),g.jsx("span",{children:"Detecting..."})]}):g.jsxs(g.Fragment,{children:[g.jsx(Cf,{size:18,className:"group-hover:rotate-12 transition-transform"}),g.jsx("span",{children:"Use Current Location"})]})})]})]})]},"location"),r==="preview"&&g.jsx(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"h-full flex items-center justify-center p-6 bg-gray-100 dark:bg-black/40",children:g.jsx("div",{className:"w-full max-w-sm h-[75vh] relative rounded-3xl overflow-hidden shadow-2xl",children:g.jsx(Cb,{user:o,role:t.role===Ke.BUSINESS?Ke.INFLUENCER:Ke.BUSINESS,isPremium:t.isPremium})})},"preview")]})})]})},Rs=({active:t,onToggle:e,disabled:n=!1})=>g.jsx("button",{onClick:n?void 0:e,className:`w-11 h-6 rounded-full transition-colors relative ${t?"bg-pink-500":"bg-gray-300 dark:bg-white/10"} ${n?"opacity-50 cursor-not-allowed":""}`,children:g.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform shadow-sm ${t?"translate-x-5":"translate-x-0"}`})}),Lke=({value:t,min:e,max:n,onChange:r,label:i,unit:o})=>g.jsxs("div",{className:"space-y-3 py-2",children:[g.jsxs("div",{className:"flex justify-between items-center text-sm font-medium text-gray-900 dark:text-white/90",children:[g.jsx("span",{children:i}),g.jsxs("span",{className:"text-pink-500",children:[t,o]})]}),g.jsx("input",{type:"range",min:e,max:n,value:t,onChange:s=>r(Number(s.target.value)),className:"w-full h-1 bg-gray-200 dark:bg-white/10 rounded-lg appearance-none cursor-pointer accent-pink-500"})]}),jke=({onClose:t,settings:e,onUpdate:n})=>{const r=i=>n({...e,[i]:!(e!=null&&e[i])});return g.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:g.jsxs(qe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"p-4 border-b border-black/5 dark:border-white/5 flex justify-between items-center bg-gray-50 dark:bg-white/5",children:[g.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[g.jsx(eR,{size:18})," Notifications"]}),g.jsx("button",{onClick:t,children:g.jsx(br,{size:20,className:"text-gray-500"})})]}),g.jsx("div",{className:"p-2",children:[{key:"matches",label:"New Matches",desc:"When you match with a brand"},{key:"messages",label:"Messages",desc:"Direct messages and proposals"},{key:"tips",label:"Tips & Offers",desc:"Ping Gold discounts and tips"},{key:"email",label:"Email Digest",desc:"Weekly summary of stats"}].map(i=>g.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl transition-colors",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm text-gray-900 dark:text-white",children:i.label}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:i.desc})]}),g.jsx(Rs,{active:e==null?void 0:e[i.key],onToggle:()=>r(i.key)})]},i.key))})]})})},Vke=({onClose:t})=>g.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:g.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"p-4 border-b border-black/5 dark:border-white/5 flex justify-between items-center bg-gray-50 dark:bg-white/5",children:[g.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[g.jsx(Vv,{size:18})," Billing"]}),g.jsx("button",{onClick:t,children:g.jsx(br,{size:20,className:"text-gray-500"})})]}),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-gray-900 to-gray-800 text-white shadow-lg relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:g.jsx(Vv,{size:64})}),g.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Primary Card"}),g.jsx("p",{className:"font-mono text-lg tracking-wider mb-4",children:"   4242"}),g.jsxs("div",{className:"flex justify-between text-xs",children:[g.jsx("span",{children:"VISA"}),g.jsx("span",{children:"EXP 12/25"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-white/50 uppercase tracking-widest",children:"History"}),[{date:"Oct 24",label:"Ping Gold (Monthly)",amount:"1,490"},{date:"Sep 24",label:"Ping Gold (Monthly)",amount:"1,490"}].map((e,n)=>g.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg hover:bg-black/5 dark:hover:bg-white/5",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:e.label}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:e.date})]}),g.jsx("span",{className:"text-sm font-mono font-medium text-gray-900 dark:text-white",children:e.amount})]},n))]}),g.jsx($t,{variant:"secondary",fullWidth:!0,children:"Update Method"})]})]})}),Uke=({onClose:t})=>g.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:g.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl h-[50vh] flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-black/5 dark:border-white/5 flex justify-between items-center bg-gray-50 dark:bg-white/5 shrink-0",children:[g.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[g.jsx(a8,{size:18})," Blocked Users"]}),g.jsx("button",{onClick:t,children:g.jsx(br,{size:20,className:"text-gray-500"})})]}),g.jsx("div",{className:"p-4 overflow-y-auto flex-1 space-y-2",children:[1,2,3].map(e=>g.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 dark:bg-white/20"}),g.jsxs("div",{children:[g.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["Blocked User ",e]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:"Blocked on 12/10/23"})]})]}),g.jsx("button",{className:"text-xs font-bold text-gray-500 hover:text-red-500 px-3 py-1 bg-white dark:bg-white/10 rounded-full border border-black/5 dark:border-white/10",children:"Unblock"})]},e))})]})}),Bke=({onClose:t,onConfirm:e})=>g.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:g.jsx(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-[#1a1a1a] border border-red-500/20 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl",children:g.jsxs("div",{className:"p-6 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(FA,{size:32})}),g.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Are you sure?"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-white/60 mb-6 leading-relaxed",children:"Are you sure you want to delete your account? This action is permanent and all your data will be removed forever."}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx($t,{fullWidth:!0,variant:"secondary",onClick:t,className:"h-12",children:"No"}),g.jsx($t,{fullWidth:!0,onClick:e,className:"bg-red-600 hover:bg-red-700 border-none text-white shadow-lg shadow-red-600/20 h-12",children:"Delete"})]})]})})}),Fke=({onClose:t})=>g.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:g.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"p-6 pb-2 flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[g.jsx(n8,{className:"text-pink-500"})," Safety Center"]}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-white",children:g.jsx(br,{size:20})})]}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsx("p",{className:"text-gray-600 dark:text-white/70 text-sm leading-relaxed",children:"Ping is committed to a safe creator economy."}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-white/5 border border-black/5 dark:border-white/5 flex gap-3 items-start",children:[g.jsx(ls,{className:"text-blue-500 dark:text-blue-400 shrink-0",size:18}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-sm text-gray-900 dark:text-white",children:"Secure Payments"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50 mt-1",children:"All transactions are held in escrow until deliverables are approved."})]})]}),g.jsxs("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-white/5 border border-black/5 dark:border-white/5 flex gap-3 items-start",children:[g.jsx(iR,{className:"text-green-500 dark:text-green-400 shrink-0",size:18}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-sm text-gray-900 dark:text-white",children:"Harassment Policy"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50 mt-1",children:"Zero tolerance for abuse. Reports are reviewed 24/7 by human moderators."})]})]})]}),g.jsx($t,{fullWidth:!0,onClick:t,children:"Understood"})]})]})}),qke=({onClose:t})=>g.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:g.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"p-6 pb-2 flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[g.jsx(zA,{className:"text-blue-500"})," Help & Support"]}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-white",children:g.jsx(br,{size:20})})]}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsx("p",{className:"text-gray-600 dark:text-white/70 text-sm leading-relaxed",children:"Need help? Contact our support team."}),g.jsxs("div",{className:"space-y-3",children:[g.jsx($t,{variant:"secondary",fullWidth:!0,onClick:()=>alert("Emailing support..."),children:"Email Support"}),g.jsx($t,{variant:"ghost",fullWidth:!0,onClick:()=>alert("Opening FAQ..."),children:"View FAQ"})]})]})]})}),zke=({onClose:t})=>g.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:g.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"p-6 pb-2 flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[g.jsx(ls,{className:"text-gray-500"})," Privacy Policy"]}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-white",children:g.jsx(br,{size:20})})]}),g.jsxs("div",{className:"p-6 space-y-4 h-64 overflow-y-auto",children:[g.jsxs("p",{className:"text-gray-600 dark:text-white/70 text-sm leading-relaxed",children:[g.jsx("strong",{children:"1. Data Collection:"})," We collect information you provide directly to us..."]}),g.jsxs("p",{className:"text-gray-600 dark:text-white/70 text-sm leading-relaxed",children:[g.jsx("strong",{children:"2. Use of Information:"})," We use your information to provide, maintain, and improve our services..."]}),g.jsxs("p",{className:"text-gray-600 dark:text-white/70 text-sm leading-relaxed",children:[g.jsx("strong",{children:"3. Sharing:"})," We do not share your personal information with third parties except as described..."]})]}),g.jsx("div",{className:"p-4 border-t border-white/10",children:g.jsx($t,{fullWidth:!0,onClick:t,children:"Close"})})]})}),$ke=({user:t,onUpdateUser:e,onBack:n,onLogout:r,onUpgrade:i,isDarkMode:o,onToggleTheme:s})=>{var N,C,R,L,P,O;const[l,c]=Y.useState("none"),[f,h]=Y.useState((t==null?void 0:t.settings)||{globalMode:!1,maxDistance:50,isVisible:!0,autoplay:!0,haptics:!0,onlineStatus:!0,readReceipts:!0,dataSaver:!1,language:"English",notifications:{matches:!0,messages:!0,tips:!1,email:!0}}),[p,y]=Y.useState(!1);Y.useEffect(()=>{const j=setTimeout(()=>{e&&e({settings:f})},500);return()=>clearTimeout(j)},[f]);const _=(j,q)=>{h(F=>({...F,[j]:q}))},S=()=>{const j=["English","Espaol","Franais","Deutsch",""],q=f.language||"English",F=j.indexOf(q),z=j[(F+1)%j.length];_("language",z)},A=()=>{alert("Cache cleared successfully! App will reload resources on next launch.")},E=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}y(!0),navigator.geolocation.getCurrentPosition(async j=>{const{latitude:q,longitude:F}=j.coords;try{const z=await Kv.identifyLocation(q,F);z&&z!=="Location Unavailable"?(e({location:z}),alert(`Location updated to: ${z}`)):alert("Could not identify specific city. Please try manually.")}catch(z){console.error("Location error",z),alert("Location service unavailable.")}y(!1)},j=>{alert("Unable to retrieve location. Please enable permissions."),y(!1)})},M=j=>{const q=window.prompt(`Enter your ${j} username:`);q&&t&&e({socials:{...t.socials||{},[j.toLowerCase()]:q}})},I=j=>{window.confirm(`Disconnect ${j}?`)&&t&&e({socials:{...t.socials||{},[j.toLowerCase()]:""}})};return t?g.jsxs("div",{className:"h-full flex flex-col p-6 animate-in slide-in-from-right duration-300 relative text-gray-900 dark:text-white bg-white dark:bg-[#050505]",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-8 shrink-0",children:[g.jsx("button",{onClick:n,className:"p-2 -ml-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-600 dark:text-white/80 transition-colors",children:g.jsx(Sm,{size:24})}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:yu,className:"w-8 h-8 rounded-lg shadow-sm",alt:"Ping Logo"}),g.jsx("h2",{className:"text-2xl font-bold",children:"Settings"})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto space-y-8 pb-24 no-scrollbar",children:[g.jsxs("div",{onClick:i,className:"relative overflow-hidden rounded-2xl p-0.5 cursor-pointer group",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-500 to-yellow-400 animate-gradient-x opacity-100"}),g.jsxs("div",{className:"relative bg-white dark:bg-[#1a1a1a] rounded-[14px] p-4 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-yellow-300 to-yellow-600 flex items-center justify-center text-black shadow-lg",children:g.jsx(Sb,{size:20,fill:"black"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Ping Gold"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/60",children:"Unlock all features"})]})]}),g.jsx(Ur,{size:20,className:"text-gray-400 group-hover:text-yellow-500 transition-colors"})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[g.jsx($A,{size:12})," Discovery Settings"]}),g.jsxs(Fr,{className:"p-0 overflow-hidden",intensity:"low",children:[g.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-500",children:g.jsx(Af,{size:18})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"Current Location"}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-white/50 block",children:t.location||"Unknown"})]})]}),g.jsx($t,{variant:"ghost",className:"h-8 text-xs text-blue-500",onClick:E,children:p?g.jsx(Iu,{size:14,className:"animate-spin"}):"Update"})]}),g.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-purple-500/10 text-purple-500",children:g.jsx(qA,{size:18})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"Global Mode"}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-white/50 block",children:"Match with anyone, anywhere"})]})]}),g.jsx(Rs,{active:f.globalMode,onToggle:()=>_("globalMode",!f.globalMode)})]}),!f.globalMode&&g.jsx("div",{className:"w-full p-4 border-b border-black/5 dark:border-white/5 bg-gray-50/50 dark:bg-white/5",children:g.jsx(Lke,{label:"Maximum Distance",value:f.maxDistance,min:5,max:150,unit:"km",onChange:j=>_("maxDistance",j)})}),g.jsxs("div",{className:"w-full flex items-center justify-between p-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-pink-500/10 text-pink-500",children:g.jsx(bp,{size:18})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"Show me on Ping"}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-white/50 block",children:"Turn off to pause account"})]})]}),g.jsx(Rs,{active:f.isVisible,onToggle:()=>_("isVisible",!f.isVisible)})]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[g.jsx(Vv,{size:12})," Payment & Billing"]}),g.jsxs(Fr,{className:"p-0 overflow-hidden",intensity:"low",children:[g.jsxs("button",{onClick:()=>c("payment"),className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors border-b border-black/5 dark:border-white/5 group",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-green-500/10 text-green-500",children:g.jsx(Vv,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Payment Methods"})]}),g.jsx(Ur,{size:16,className:"text-gray-300 dark:text-white/20"})]}),g.jsx("button",{className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors group",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-gray-500/10 text-gray-500",children:g.jsx(Xue,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Restore Purchases"})]})})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[g.jsx(tce,{size:12})," App Experience"]}),g.jsxs(Fr,{className:"p-0 overflow-hidden",intensity:"low",children:[g.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-indigo-500/10 text-indigo-500",children:o?g.jsx(Wue,{size:18}):g.jsx(ice,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Dark Mode"})]}),g.jsx(Rs,{active:o,onToggle:s})]}),g.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-orange-500/10 text-orange-500",children:g.jsx(uce,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Haptic Feedback"})]}),g.jsx(Rs,{active:f.haptics,onToggle:()=>_("haptics",!f.haptics)})]}),g.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-red-500/10 text-red-500",children:g.jsx(u8,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Autoplay Videos"})]}),g.jsx(Rs,{active:f.autoplay,onToggle:()=>_("autoplay",!f.autoplay)})]}),g.jsxs("button",{onClick:()=>c("notifications"),className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-green-500/10 text-green-500",children:g.jsx(eR,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Notifications"})]}),g.jsx(Ur,{size:16,className:"text-gray-300 dark:text-white/20"})]}),g.jsxs("button",{onClick:S,className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-teal-500/10 text-teal-500",children:g.jsx(qA,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Language"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xs text-gray-500 dark:text-white/40",children:f.language||"English"}),g.jsx(Ur,{size:16,className:"text-gray-300 dark:text-white/20"})]})]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[g.jsx(BA,{size:12})," Integrations"]}),g.jsxs(Fr,{className:"p-0 overflow-hidden",intensity:"low",children:[g.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-500 flex items-center justify-center text-white",children:g.jsx(rR,{size:18})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"Instagram"}),(N=t.socials)!=null&&N.instagram?g.jsxs("span",{className:"text-xs text-green-500 font-medium block",children:["Connected as ",t.socials.instagram]}):g.jsx("span",{className:"text-xs text-gray-500 dark:text-white/50 block",children:"Not Connected"})]})]}),(C=t.socials)!=null&&C.instagram?g.jsx("button",{className:"text-xs text-gray-400 hover:text-red-500",onClick:()=>I("Instagram"),children:"Disconnect"}):g.jsx($t,{variant:"secondary",className:"h-7 text-xs px-3",onClick:()=>M("Instagram"),children:"Connect"})]}),g.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-9 h-9 rounded-full bg-black dark:bg-white dark:text-black text-white flex items-center justify-center",children:g.jsx(s8,{size:18})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"X (Twitter)"}),(R=t.socials)!=null&&R.twitter?g.jsxs("span",{className:"text-xs text-green-500 font-medium block",children:["Connected as ",t.socials.twitter]}):g.jsx("span",{className:"text-xs text-gray-500 dark:text-white/50 block",children:"Not Connected"})]})]}),(L=t.socials)!=null&&L.twitter?g.jsx("button",{className:"text-xs text-gray-400 hover:text-red-500",onClick:()=>I("Twitter"),children:"Disconnect"}):g.jsx($t,{variant:"secondary",className:"h-7 text-xs px-3",onClick:()=>M("Twitter"),children:"Connect"})]}),g.jsxs("div",{className:"w-full flex items-center justify-between p-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-9 h-9 rounded-full bg-[#0077b5] text-white flex items-center justify-center",children:g.jsx(Q$,{size:18})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"LinkedIn"}),(P=t.socials)!=null&&P.linkedin?g.jsxs("span",{className:"text-xs text-green-500 font-medium block",children:["Connected as ",t.socials.linkedin]}):g.jsx("span",{className:"text-xs text-gray-500 dark:text-white/50 block",children:"Not Connected"})]})]}),(O=t.socials)!=null&&O.linkedin?g.jsx("button",{className:"text-xs text-gray-400 hover:text-red-500",onClick:()=>I("LinkedIn"),children:"Disconnect"}):g.jsx($t,{variant:"secondary",className:"h-7 text-xs px-3",onClick:()=>M("LinkedIn"),children:"Connect"})]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[g.jsx(jue,{size:12})," Privacy & Data"]}),g.jsxs(Fr,{className:"p-0 overflow-hidden",intensity:"low",children:[g.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-green-500/10 text-green-500",children:g.jsx(BA,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Online Status"})]}),g.jsx(Rs,{active:f.onlineStatus,onToggle:()=>_("onlineStatus",!f.onlineStatus)})]}),g.jsxs("button",{onClick:()=>c("blocked"),className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-red-500/10 text-red-500",children:g.jsx(a8,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Blocked Users"})]}),g.jsx(Ur,{size:16,className:"text-gray-300 dark:text-white/20"})]}),g.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-500",children:g.jsx(bp,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Read Receipts"})]}),g.jsx(Rs,{active:f.readReceipts,onToggle:()=>_("readReceipts",!f.readReceipts)})]}),g.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-yellow-500/10 text-yellow-500",children:g.jsx(Pue,{size:18})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"Data Saver"}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-white/50 block",children:"Lower quality media"})]})]}),g.jsx(Rs,{active:f.dataSaver,onToggle:()=>_("dataSaver",!f.dataSaver)})]}),g.jsxs("button",{onClick:A,className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-gray-500/10 text-gray-500",children:g.jsx(sce,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Clear Cache"})]}),g.jsx("span",{className:"text-xs text-gray-400",children:"128 MB"})]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[g.jsx(zA,{size:12})," Support"]}),g.jsxs(Fr,{className:"p-0 overflow-hidden",intensity:"low",children:[g.jsxs("button",{onClick:()=>c("safety"),className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors border-b border-black/5 dark:border-white/5 group",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-red-500/10 text-red-500",children:g.jsx(n8,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Safety Center"})]}),g.jsx(Ur,{size:16,className:"text-gray-300 dark:text-white/20 group-hover:text-gray-500 dark:group-hover:text-white/40"})]}),g.jsxs("button",{onClick:()=>c("support"),className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors border-b border-black/5 dark:border-white/5 group",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-500",children:g.jsx(zA,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Help & Support"})]}),g.jsx(Ur,{size:16,className:"text-gray-300 dark:text-white/20"})]}),g.jsxs("button",{onClick:()=>c("privacy"),className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors group",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-full bg-gray-500/10 text-gray-500",children:g.jsx(ls,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Privacy Policy"})]}),g.jsx(Ur,{size:16,className:"text-gray-300 dark:text-white/20"})]})]})]}),g.jsxs("div",{className:"pt-6 pb-4 space-y-4",children:[g.jsxs($t,{variant:"ghost",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-500/10 h-14 border border-red-500/10",onClick:r,children:[g.jsx($ue,{size:20,className:"mr-2"})," Sign Out"]}),g.jsx("button",{onClick:()=>c("delete"),className:"w-full text-xs text-gray-400 dark:text-white/30 hover:text-red-500 transition-colors uppercase tracking-widest font-bold",children:"Delete Account"}),g.jsxs("div",{className:"text-center mt-6 space-y-1",children:[g.jsx("p",{className:"text-[10px] text-gray-400 dark:text-white/20 font-medium font-mono",children:"PING v2.1.0 (PROD)"}),g.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] text-gray-300 dark:text-white/10",children:[g.jsx("span",{children:"Made in SF"}),g.jsx("span",{children:""}),g.jsx("span",{children:"Reachup Media"})]})]})]})]}),g.jsxs(yr,{children:[l==="safety"&&g.jsx(Fke,{onClose:()=>c("none")}),l==="notifications"&&g.jsx(jke,{settings:f.notifications,onUpdate:j=>_("notifications",j),onClose:()=>c("none")}),l==="payment"&&g.jsx(Vke,{onClose:()=>c("none")}),l==="blocked"&&g.jsx(Uke,{onClose:()=>c("none")}),l==="delete"&&g.jsx(Bke,{onClose:()=>c("none"),onConfirm:r}),l==="support"&&g.jsx(qke,{onClose:()=>c("none")}),l==="privacy"&&g.jsx(zke,{onClose:()=>c("none")})]})]}):null},Gke=({user:t,onNavigate:e,onUpgrade:n,newLikesCount:r,onUpdateUser:i})=>g.jsx("div",{className:"flex flex-col h-full bg-white dark:bg-black overflow-y-auto no-scrollbar pb-32",children:g.jsxs("div",{className:"px-6 pt-12 pb-6 space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:["Hello, ",g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-orange-400",children:t.name.split(" ")[0]})]}),g.jsx("p",{className:"text-gray-500 dark:text-white/40 text-sm font-medium",children:"Ready for your next collaboration?"})]}),g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-tr from-pink-500 to-orange-400 rounded-full blur opacity-40 group-hover:opacity-100 transition duration-500"}),g.jsx("img",{src:t.avatar,alt:"Profile",className:"relative w-14 h-14 rounded-full border-2 border-white dark:border-black object-cover",onClick:()=>e("profile")}),t.verified&&g.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 border-2 border-white dark:border-black rounded-full p-1 shadow-lg",children:g.jsx(Uv,{size:12,className:"text-white"})})]})]}),g.jsxs("div",{onClick:()=>e("deck"),className:"relative h-48 rounded-[2.5rem] overflow-hidden group cursor-pointer shadow-2xl shadow-pink-500/20",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-pink-500 to-orange-400 group-hover:scale-105 transition-transform duration-700"}),g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"}),g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/20 rounded-full -mr-10 -mt-10 blur-3xl group-hover:bg-white/30 transition-colors"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-black/10 rounded-full -ml-12 -mb-12 blur-2xl"}),g.jsxs("div",{className:"relative h-full p-8 flex flex-col justify-end",children:[g.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center text-white mb-4 group-hover:scale-110 transition-transform duration-500",children:g.jsx(gl,{size:24,fill:"currentColor"})}),g.jsx("h2",{className:"text-3xl font-extrabold text-white mb-2",children:"Start Matching"}),g.jsxs("p",{className:"text-white/70 font-medium flex items-center gap-2",children:["Find your next collab ",g.jsx(Ur,{size:16})]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-white/40 mb-4 px-1 uppercase tracking-widest",children:"Overview"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs(Fr,{className:"p-5 flex flex-col justify-between h-40 group hover:border-pink-500/30 transition-colors bg-gray-50 dark:bg-white/5",hoverEffect:!0,onClick:()=>e("likes"),children:[g.jsx("div",{className:"w-10 h-10 rounded-2xl bg-pink-500/10 flex items-center justify-center text-pink-500 group-hover:scale-110 transition-transform",children:g.jsx(Ab,{size:20,fill:"currentColor"})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white block tracking-tight",children:r}),g.jsx("span",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-wider",children:"New Likes"})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(Fr,{className:"p-4 flex items-center justify-between h-[4.5rem] bg-gray-50 dark:bg-white/5",hoverEffect:!0,onClick:()=>e("analytics"),children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-xl bg-blue-500/10 text-blue-500",children:g.jsx(ace,{size:18})}),g.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Analytics"})]})}),g.jsx(Fr,{className:"p-4 flex items-center justify-between h-[4.5rem] bg-gray-50 dark:bg-white/5",hoverEffect:!0,onClick:()=>e(t.role===Ke.BUSINESS?"analytics":"profile"),children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-xl bg-purple-500/10 text-purple-500",children:t.role===Ke.BUSINESS?g.jsx(Ks,{size:18}):g.jsx(zue,{size:18})}),g.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:t.role===Ke.BUSINESS?"Budget":"Media Kit"})]})})]})]})]}),g.jsxs("div",{className:"space-y-4",children:[!t.verified&&g.jsx("div",{className:"p-1 rounded-[2rem] bg-gradient-to-r from-blue-500/20 to-cyan-500/20 cursor-pointer",children:g.jsxs("div",{className:"bg-white/80 dark:bg-black/40 backdrop-blur-xl rounded-[1.8rem] p-5 flex items-center gap-4 border border-blue-500/20",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white shrink-0 shadow-lg shadow-blue-500/30",children:g.jsx(Uv,{size:24})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:"Get Verified"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:"Build trust and get +300% visibility."})]}),g.jsx(Ur,{className:"text-gray-400"})]})}),!t.isPremium&&g.jsx("div",{onClick:n,className:"p-1 rounded-[2rem] bg-gradient-to-r from-yellow-500/20 to-orange-500/20 cursor-pointer",children:g.jsxs("div",{className:"bg-white/80 dark:bg-black/40 backdrop-blur-xl rounded-[1.8rem] p-5 flex items-center gap-4 border border-yellow-500/20",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center text-white shrink-0 shadow-lg shadow-orange-500/30",children:g.jsx(Sb,{size:24,fill:"white"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:"Upgrade to Gold"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:"Unlock unlimited swipes & insights."})]}),g.jsx(Ur,{className:"text-gray-400"})]})})]})]})}),Hke=({user:t,onBack:e,onUpgrade:n})=>{const[r,i]=Y.useState({profileViews:0,matchRate:0}),[o,s]=Y.useState([]),[l,c]=Y.useState([]),[f,h]=Y.useState(!0);Y.useEffect(()=>{(async()=>{try{const _=await kt.getAnalyticsStats(t.id);i({profileViews:_.profileViews,matchRate:_.matchRate}),s(_.chartData),c(_.recentActivity)}catch(_){console.error("Error loading analytics data:",_)}finally{h(!1)}})()},[t.id]);const p=o.length>0?Math.max(...o.map(y=>y.value),1):1;return f?g.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-50 dark:bg-[#050505]",children:g.jsx("div",{className:"w-10 h-10 border-4 border-pink-500/30 border-t-pink-500 rounded-full animate-spin"})}):g.jsxs("div",{className:"h-full w-full flex flex-col relative overflow-y-auto bg-gray-50 dark:bg-[#050505] text-gray-900 dark:text-white pb-24",children:[g.jsxs("div",{className:"px-6 pt-12 pb-6 flex items-center gap-4 sticky top-0 z-20 bg-gray-50/90 dark:bg-[#050505]/90 backdrop-blur-md",children:[g.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white dark:bg-white/5 border border-black/5 dark:border-white/10 flex items-center justify-center hover:scale-105 transition-transform shadow-sm",children:g.jsx(jv,{size:20})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Performance"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:"Insights & Analytics"})]})]}),g.jsxs("div",{className:"px-6 space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs(Fr,{className:"p-5 flex flex-col gap-3 bg-white dark:bg-white/5 border border-black/5 dark:border-white/10",hoverEffect:!1,children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/10 text-blue-500 flex items-center justify-center",children:g.jsx(bp,{size:16})}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2",children:[g.jsx("span",{className:"text-2xl font-bold",children:r.profileViews}),r.profileViews>0&&g.jsxs("span",{className:"text-xs text-green-500 font-bold flex items-center mb-1",children:[g.jsx(WL,{size:12})," Live"]})]}),g.jsx("span",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest",children:"Profile Views"})]})]}),g.jsxs(Fr,{className:"p-5 flex flex-col gap-3 bg-white dark:bg-white/5 border border-black/5 dark:border-white/10",hoverEffect:!1,children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-pink-500/10 text-pink-500 flex items-center justify-center",children:g.jsx(oce,{size:16})}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2",children:[g.jsxs("span",{className:"text-2xl font-bold",children:[r.matchRate,"%"]}),r.matchRate>0&&g.jsxs("span",{className:"text-xs text-green-500 font-bold flex items-center mb-1",children:[g.jsx(WL,{size:12})," Active"]})]}),g.jsx("span",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest",children:"Swipe Match Rate"})]})]})]}),g.jsxs(Fr,{className:"p-6 bg-white dark:bg-white/5 border border-black/5 dark:border-white/10",hoverEffect:!1,children:[g.jsx("div",{className:"flex items-center justify-between mb-8",children:g.jsxs("div",{children:[g.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[g.jsx(BA,{size:18,className:"text-blue-500"})," Impressions Weekly"]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/40",children:"Last 7 days views"})]})}),g.jsxs("div",{className:"h-40 flex items-end justify-between gap-2",children:[o.map((y,_)=>{const S=p>0?y.value/p*100:0;return g.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1 group relative",children:[g.jsxs("div",{className:"w-full relative h-full flex items-end justify-center",children:[g.jsxs("div",{className:"absolute -top-8 bg-black dark:bg-white text-white dark:text-black text-[10px] font-bold px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none",children:[y.value," views"]}),g.jsx(qe.div,{style:{height:`${S}%`},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:_*.05},className:`w-full max-w-[2rem] rounded-t-md transition-colors ${y.value>0?"bg-blue-500":"bg-gray-200 dark:bg-white/10"} group-hover:bg-blue-400`})]}),g.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-white/40 uppercase",children:y.day})]},_)}),o.length===0&&g.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 dark:text-white/40 text-sm font-bold",children:"No activity yet."})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"px-1 text-sm font-bold text-gray-500 dark:text-white/40 mb-3 tracking-wide uppercase",children:"Recent Activity"}),g.jsx("div",{className:"space-y-3",children:l.length===0?g.jsx("div",{className:"text-center p-6 border border-dashed border-gray-200 dark:border-white/10 rounded-2xl text-gray-400 dark:text-white/40 text-sm",children:"Match or get swiped on to see activity here."}):l.map((y,_)=>g.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-[1.5rem] bg-white dark:bg-[#1a1a1a] border border-black/5 dark:border-white/5 shadow-sm",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-500 shrink-0",children:y.direction==="up"?g.jsx(gl,{size:16}):g.jsx(bp,{size:16})}),g.jsx("div",{className:"flex-1",children:g.jsx("p",{className:"text-sm font-bold",children:y.direction==="up"?"Someone Super Liked you!":"Someone discovered your profile"})}),g.jsx("span",{className:"text-[10px] text-gray-400 dark:text-white/40 font-bold",children:Math.floor((Date.now()-y.timestamp)/36e5)>0?`${Math.floor((Date.now()-y.timestamp)/36e5)}h ago`:"Just now"})]},_))})]}),g.jsxs("div",{className:"relative overflow-hidden rounded-[2rem] border border-yellow-500/30 p-6 bg-gradient-to-br from-yellow-500/10 to-orange-500/5 mt-4 group",children:[g.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-yellow-500/20 blur-[30px] rounded-full group-hover:scale-150 transition-transform duration-700 pointer-events-none"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx("div",{className:"bg-yellow-500 text-black p-1.5 rounded-full",children:g.jsx(Sb,{size:14,fill:"currentColor"})}),g.jsx("h3",{className:"font-bold text-yellow-600 dark:text-yellow-500",children:"Advanced Insights"})]}),g.jsxs("div",{className:"space-y-4 mb-6",children:[g.jsxs("div",{className:"flex items-start gap-3 opacity-60",children:[g.jsx(ls,{size:16,className:"mt-0.5 text-gray-500 dark:text-white/50"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-sm",children:"See Who Liked You"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:"Instantly match with people who already swiped right."})]})]}),g.jsxs("div",{className:"flex items-start gap-3 opacity-60",children:[g.jsx(ls,{size:16,className:"mt-0.5 text-gray-500 dark:text-white/50"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-sm",children:"Audience Demographics"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:"Breakdown of age, location, and interests of your viewers."})]})]})]}),g.jsx($t,{fullWidth:!0,onClick:n,className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-none shadow-[0_10px_30px_rgba(234,179,8,0.3)] hover:shadow-[0_15px_40px_rgba(234,179,8,0.4)] relative z-20",children:t.isPremium?"Manage Subscription":"Unlock with Gold"})]})]})]})]})},Kke=({role:t,onBack:e,onComplete:n})=>{const[r,i]=Y.useState(1),o=()=>{r<3?i(r+1):n()};return g.jsxs("div",{className:"min-h-screen bg-white flex flex-col p-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsx("button",{onClick:r===1?e:()=>i(r-1),className:"p-2 -ml-2 text-gray-400",children:g.jsx(jv,{size:24})}),g.jsx("div",{className:"flex gap-2",children:[1,2,3].map(s=>g.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${s<=r?"w-8 bg-black":"w-2 bg-gray-200"}`},s))}),g.jsx("div",{className:"w-8"})," "]}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("h1",{className:"text-3xl font-bold mb-2",children:[r===1&&"Let's get to know you",r===2&&"Where are you based?",r===3&&"Tell us your story"]}),g.jsxs("p",{className:"text-gray-500 mb-8",children:[r===1&&"Start with the basics.",r===2&&"Help us find partners near you.",r===3&&"A great bio helps you stand out."]}),g.jsxs("div",{className:"space-y-6",children:[r===1&&g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Display Name"}),g.jsx("input",{type:"text",placeholder:"e.g. Pixel Arcade",className:"w-full bg-gray-50 border border-gray-100 rounded-2xl px-5 py-4 text-lg font-medium focus:outline-none focus:border-black transition-colors"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Your Role"}),g.jsxs("div",{className:"p-4 bg-black text-white rounded-2xl font-bold flex items-center justify-between",children:[t===Ke.BUSINESS?"Brand / Business":"Content Creator",g.jsx(Ur,{size:18,className:"opacity-40"})]})]})]}),r===2&&g.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"City / Region"}),g.jsx("input",{type:"text",placeholder:"e.g. Mumbai, India",className:"w-full bg-gray-50 border border-gray-100 rounded-2xl px-5 py-4 text-lg font-medium focus:outline-none focus:border-black transition-colors"})]})}),r===3&&g.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Short Bio"}),g.jsx("textarea",{rows:4,placeholder:"Describe what you do in a few sentences...",className:"w-full bg-gray-50 border border-gray-100 rounded-2xl px-5 py-4 text-lg font-medium focus:outline-none focus:border-black transition-colors resize-none"})]})})]})]}),g.jsx("div",{className:"mt-8",children:g.jsxs($t,{onClick:o,fullWidth:!0,className:"bg-black text-white h-14 rounded-xl font-bold shadow-lg shadow-black/10",children:[r===3?"Complete Profile":"Continue"," ",g.jsx(Ur,{size:18,className:"ml-2"})]})})]})},Wke=({user:t,onClose:e,onUpgrade:n})=>{const[r,i]=Y.useState("yearly"),o=[{icon:g.jsx(gl,{size:20,className:"text-yellow-400"}),title:"Unlimited Swipes",desc:"Swipe as much as you want without daily limits."},{icon:g.jsx(bp,{size:20,className:"text-pink-400"}),title:"See Who Liked You",desc:"Instantly match with people who already swiped right."},{icon:g.jsx(Iue,{size:20,className:"text-blue-400"}),title:"Audience Demographics",desc:"Deep dive into age, location, and interests of your viewers."},{icon:g.jsx(Zue,{size:20,className:"text-orange-400"}),title:"Priority Placement",desc:"Your profile gets shown first to top tier matches."},{icon:g.jsx(X$,{size:20,className:"text-purple-400"}),title:"Read Receipts",desc:"Know exactly when your messages are seen."},{icon:g.jsx(Uv,{size:20,className:"text-green-400"}),title:"Priority Support",desc:"Jump the queue with 24/7 dedicated account assistance."}],s=1490,l=990;return g.jsxs("div",{className:"fixed inset-0 z-[150] bg-[#050505] text-white flex flex-col overflow-y-auto overflow-x-hidden no-scrollbar",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-96 bg-gradient-to-b from-yellow-500/20 via-[#050505] to-[#050505] pointer-events-none"}),g.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[500px] h-[500px] bg-yellow-500/10 rounded-full blur-[100px] pointer-events-none mix-blend-screen"}),g.jsx("div",{className:"absolute top-[20%] left-[-20%] w-[400px] h-[400px] bg-orange-500/10 rounded-full blur-[100px] pointer-events-none mix-blend-screen"}),g.jsxs("div",{className:"relative z-10 p-6 flex justify-between items-center sticky top-0 bg-[#050505]/50 backdrop-blur-md",children:[g.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:g.jsx(br,{size:20})}),g.jsx("div",{className:"text-[10px] font-bold tracking-widest uppercase text-white/50",children:"Ping Gold"}),g.jsx("div",{className:"w-10"})," "]}),g.jsxs("div",{className:"relative z-10 px-6 pb-24 max-w-lg mx-auto w-full flex-1 flex flex-col",children:[g.jsxs("div",{className:"text-center mb-10 pt-4 animate-in slide-in-from-bottom-4 duration-500",children:[g.jsxs("div",{className:"relative inline-block mb-6 group",children:[g.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-2xl opacity-40 group-hover:opacity-60 transition-opacity duration-700"}),g.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-yellow-300 via-yellow-500 to-orange-600 rounded-full p-1 shadow-2xl flex items-center justify-center border-4 border-[#050505]",children:g.jsx(Sb,{size:40,className:"text-[#050505] fill-[#050505]"})})]}),g.jsxs("h1",{className:"text-4xl font-extrabold mb-3 tracking-tight",children:["Unlock Your ",g.jsx("br",{}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500",children:"Full Potential."})]}),g.jsx("p",{className:"text-white/60 text-sm max-w-xs mx-auto",children:"Get more matches, deeper insights, and premium features with Ping Gold."})]}),g.jsx("div",{className:"space-y-4 mb-10 animate-in slide-in-from-bottom-6 duration-700 delay-100",children:o.map((c,f)=>g.jsxs("div",{className:"flex gap-4 p-4 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform shadow-inner border border-white/5",children:c.icon}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-base mb-0.5",children:c.title}),g.jsx("p",{className:"text-xs text-white/50 leading-relaxed",children:c.desc})]})]},f))}),g.jsx("div",{className:"mb-6 animate-in slide-in-from-bottom-8 duration-700 delay-200",children:g.jsxs("div",{className:"bg-white/5 p-1 rounded-full flex max-w-[280px] mx-auto border border-white/10 relative",children:[g.jsx("button",{onClick:()=>i("monthly"),className:`flex-1 py-3 px-4 rounded-full text-sm font-bold transition-all relative z-10 ${r==="monthly"?"text-black":"text-white/60 hover:text-white"}`,children:"Monthly"}),g.jsxs("button",{onClick:()=>i("yearly"),className:`flex-1 py-3 px-4 rounded-full text-sm font-bold transition-all relative z-10 flex items-center justify-center gap-2 ${r==="yearly"?"text-black":"text-white/60 hover:text-white"}`,children:["Yearly ",g.jsx("span",{className:"text-[9px] bg-red-500 text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wider self-center",children:"Save 33%"})]}),g.jsx("div",{className:`absolute top-1 bottom-1 w-[calc(50%-4px)] bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full transition-transform duration-300 ease-out z-0 ${r==="yearly"?"translate-x-[calc(100%+4px)]":"translate-x-0"}`})]})}),g.jsxs("div",{className:"mt-auto animate-in slide-in-from-bottom-10 duration-700 delay-300 text-center",children:[g.jsx("div",{className:"mb-6",children:g.jsx(yr,{mode:"wait",children:g.jsxs(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[g.jsxs("span",{className:"text-5xl font-black",children:["",r==="yearly"?l:s]}),g.jsx("span",{className:"text-white/50 text-base font-medium",children:" / month"}),r==="yearly"&&g.jsxs("p",{className:"text-xs text-white/40 mt-2",children:["Billed annually at ",l*12]})]},r)})}),g.jsxs($t,{onClick:n,fullWidth:!0,className:"h-16 text-lg rounded-2xl bg-gradient-to-r from-yellow-400 to-orange-500 text-black border-none shadow-[0_10px_40px_rgba(234,179,8,0.3)] hover:shadow-[0_15px_50px_rgba(234,179,8,0.4)] relative overflow-hidden group",children:[g.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:["Get Ping Gold ",g.jsx(Ur,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),g.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-in-out"})]}),g.jsx("p",{className:"text-[10px] text-white/30 text-center mt-4 px-8 leading-relaxed",children:'Recurring billing, cancel anytime. By tapping "Get Ping Gold", you agree to our Terms of Service.'})]})]})]})},Yke=({notifications:t,onBack:e})=>{const n=r=>{switch(r){case"match":return{icon:Ab,color:"text-pink-500"};case"message":return{icon:iR,color:"text-blue-400"};case"tip":return{icon:gl,color:"text-purple-500"};case"system":default:return{icon:Tb,color:"text-green-500"}}};return g.jsxs(qe.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 z-[150] bg-white dark:bg-[#0f0c29] flex flex-col h-full transition-colors duration-300",children:[g.jsxs("div",{className:"p-6 flex items-center gap-4 border-b border-pink-100 dark:border-white/5 bg-white/90 dark:bg-white/5 backdrop-blur-xl shrink-0",children:[g.jsx("button",{onClick:e,className:"p-2 -ml-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-700 dark:text-white/80 transition-colors",children:g.jsx(Sm,{size:24})}),g.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:["Notifications",t.length>0&&g.jsx("span",{className:"bg-pink-500 text-white text-[10px] px-1.5 py-0.5 rounded-full font-mono",children:t.length})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 no-scrollbar",children:[t.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 dark:text-white/30 space-y-3 opacity-60",children:[g.jsx(eR,{size:48}),g.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"No Notifications"}),g.jsx("p",{className:"text-xs",children:"We'll let you know when something happens."})]}):t.map(r=>{const i=n(r.type);return g.jsxs(Fr,{className:"p-4 flex gap-4 items-start cursor-pointer hover:bg-white/50 dark:hover:bg-white/10 transition-colors bg-gray-50 dark:bg-white/5",intensity:"low",children:[g.jsx("div",{className:`p-3 rounded-full bg-white/50 dark:bg-white/5 ${i.color} shrink-0`,children:g.jsx(i.icon,{size:20,fill:r.type==="match"?"currentColor":"none"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h3",{className:"font-bold text-sm text-gray-900 dark:text-white",children:r.title}),g.jsx("span",{className:"text-[10px] text-gray-400 dark:text-white/40 whitespace-nowrap ml-2",children:new Date(r.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),g.jsx("p",{className:"text-xs text-gray-600 dark:text-white/60 mt-1 leading-relaxed truncate",children:r.text})]}),!r.read&&g.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2 shrink-0 animate-pulse"})]},r.id)}),t.length>0&&g.jsx("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400 dark:text-white/30 space-y-2 opacity-50",children:g.jsx("p",{className:"text-xs uppercase tracking-widest",children:"You're all caught up"})})]})]})},Jke=({activeTab:t,onTabChange:e})=>{const n=[{id:"home",icon:Uue,label:"Home"},{id:"matches",icon:iR,label:"Matches"},{id:"profile",icon:l8,label:"Profile"}];return g.jsx("div",{className:"fixed bottom-6 left-0 w-full px-6 z-50 flex justify-center pointer-events-none",children:g.jsx("div",{className:"bg-white/80 dark:bg-[#121212]/80 backdrop-blur-2xl border border-white/20 dark:border-white/10 rounded-full px-6 py-3 flex items-center gap-2 shadow-2xl shadow-black/20 pointer-events-auto",children:n.map(r=>{const i=t===r.id;return g.jsxs(qe.button,{onClick:()=>e(r.id),className:`
                relative flex items-center justify-center w-14 h-14 rounded-full transition-colors duration-300
                ${i?"text-pink-600 dark:text-white":"text-gray-400 dark:text-white/40 hover:text-gray-600 dark:hover:text-white/70"}
              `,whileTap:{scale:.85},transition:{type:"spring",stiffness:400,damping:15},children:[g.jsx("div",{className:"relative z-10",children:g.jsx(r.icon,{size:26,strokeWidth:i?2.5:2})}),i&&g.jsx(qe.div,{layoutId:"nav-pill",className:"absolute inset-0 bg-gradient-to-br from-pink-500/10 to-orange-500/10 dark:bg-white/10 rounded-full",transition:{type:"spring",stiffness:500,damping:30}}),i&&g.jsx(qe.div,{layoutId:"nav-dot",className:"absolute bottom-2 w-1.5 h-1.5 bg-pink-500 rounded-full",transition:{type:"spring",stiffness:500,damping:30}})]},r.id)})})})},Xke=({message:t,onClose:e})=>(Y.useEffect(()=>{const n=setTimeout(e,3e3);return()=>clearTimeout(n)},[e]),g.jsxs(qe.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-[#1a1a1a] text-white px-6 py-3 rounded-full shadow-2xl z-[200] flex items-center gap-3 border border-white/10",children:[g.jsx("div",{className:"bg-green-500 rounded-full p-1 text-black",children:g.jsx(Eb,{size:12,strokeWidth:4})}),g.jsx("span",{className:"text-sm font-semibold pr-1",children:t})]})),Qke="admin@ping.com",Zke="Ping$2024!Secure",ePe=()=>{var wo;const[t,e]=Y.useState(()=>{const Re=localStorage.getItem("ping_session_user");try{const Ve=Re?JSON.parse(Re):null;return Ve&&Ve.id&&kt.syncSession(Ve),Ve}catch{return null}}),[n,r]=Y.useState(()=>{const Re=localStorage.getItem("ping_session_user");if(Re)try{const Ve=JSON.parse(Re);return Ve.id?Ve.role===Ke.ADMIN?"admin":"app":"landing"}catch{return"landing"}return"landing"}),[i,o]=Y.useState("home"),[s,l]=Y.useState("dashboard"),[c,f]=Y.useState([]),[h,p]=Y.useState([]),[y,_]=Y.useState([]),[S,A]=Y.useState(null),[E,M]=Y.useState(0),[I,N]=Y.useState(!1),[C,R]=Y.useState(!1),[L,P]=Y.useState(!1),[O,j]=Y.useState(!1),[q,F]=Y.useState(null),[z,B]=Y.useState(((wo=t==null?void 0:t.settings)==null?void 0:wo.darkMode)??!1),[X,ie]=Y.useState(null),[W,ee]=Y.useState(0),[se,ge]=Y.useState([]),[K,V]=Y.useState(Ke.INFLUENCER),[$,J]=Y.useState(""),[te,fe]=Y.useState(""),[ye,Te]=Y.useState(!1),[Se,he]=Y.useState("signup"),[Ie,Ae]=Y.useState(!1),[pe,$e]=Y.useState(!1);Y.useLayoutEffect(()=>{t&&t.id&&kt.syncSession(t)},[t]),Y.useEffect(()=>{var Re;t&&t.id?(localStorage.setItem("ping_session_user",JSON.stringify(t)),((Re=t.settings)==null?void 0:Re.darkMode)!==void 0&&t.settings.darkMode!==z&&B(t.settings.darkMode)):t===null&&localStorage.removeItem("ping_session_user")},[t]),Y.useEffect(()=>{z?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[z]),Y.useEffect(()=>{if(t&&t.id&&n==="app"){const Re=kt.subscribeToMatches(t.id,Ve=>{p(Ve)});return()=>Re()}},[t==null?void 0:t.id,n]),Y.useEffect(()=>{(async()=>{if(window.location.href.includes("apiKey=")&&window.location.href.includes("oobCode=")){Te(!0);try{let Ve=window.localStorage.getItem("emailForSignIn");if(Ve||(Ve=window.prompt("Please provide your email for confirmation")),Ve){const It=window.localStorage.getItem("pendingUserRole")||Ke.INFLUENCER,gn=await kt.verifyMagicLink(Ve,window.location.href,It,Ve.split("@")[0]);e(gn),gn.avatar===fi&&!gn.bio?r("onboarding"):r("app"),window.history.replaceState({},document.title,window.location.pathname),Ze("Successfully verified email!")}}catch(Ve){console.error("Magic link verification failed:",Ve),ie("Failed to verify confirmation link. It may have expired."),r("landing"),Ae(!0)}finally{Te(!1)}}})()},[]);const Ce=Y.useCallback(async()=>{var Re;if(!t||!t.id){console.debug("Data load deferred: No authenticated user context.");return}kt.syncSession(t);try{N(!0);const Ve=await Promise.allSettled([kt.getCandidates(t.role),kt.getNotifications(),kt.getNewLikesCount(),kt.getDailySwipeCount(t.id)]);Ve[0].status==="fulfilled"&&f(Ve[0].value),Ve[1].status==="fulfilled"&&_(Ve[1].value),Ve[2].status==="fulfilled"&&M(Ve[2].value),Ve[3].status==="fulfilled"&&ee(Ve[3].value),Ve.forEach((It,gn)=>{It.status==="rejected"&&console.warn(`Non-critical load error (index ${gn}):`,It.reason)}),console.debug("Application data refreshed (partial or full).")}catch(Ve){console.error("Critical Data Load Error:",Ve),!((Re=Ve.message)!=null&&Re.includes("index"))&&t.id&&!t.id.startsWith("test-")&&n==="app"&&ie(Ve.message||"Failed to load data. Please try again.")}finally{N(!1)}},[t,n]);Y.useEffect(()=>{t&&t.id&&n==="app"&&Ce()},[t==null?void 0:t.id,n,Ce]);const Je=Y.useCallback(Re=>{window.history.pushState({view:Re},"")},[]);Y.useEffect(()=>{const Re=Ve=>{if(S){A(null);return}if(L){P(!1);return}if(O){j(!1);return}if(C){R(!1);return}if(s!=="dashboard"){l("dashboard");return}if(i!=="home"){o("home");return}};return window.history.replaceState({view:"root"},""),window.addEventListener("popstate",Re),()=>window.removeEventListener("popstate",Re)},[S,L,O,C,s,i]);const nt=Re=>{Je(Re),Re==="deck"&&l("deck"),Re==="analytics"&&l("analytics"),Re==="likes"&&Ze("Feature coming soon!"),Re==="matches"&&o("matches"),Re==="profile"&&o("profile")},yt=Re=>{Je(Re),o(Re),Re==="home"&&l("dashboard")},bt=Re=>{Je("overlay"),Re(!0)},lt=Re=>{Je("chat"),A(Re)},Ze=Re=>{F(Re)},mn=async(Re,Ve,It)=>{Re&&Re.preventDefault(),Te(!0),ie(null);const gn=Ve||$,Ir=It||te;try{if(gn===Qke&&Ir===Zke){const Ot=await kt.login(Ke.ADMIN,gn,Ir);e(Ot),r(Ot.role===Ke.ADMIN?"admin":"app"),Te(!1);return}let Mt;Se==="signup"?(localStorage.setItem("pendingUserRole",K),await kt.sendMagicLink(gn,window.location.origin),$e(!0)):(Mt=await kt.login(K,gn,Ir),e(Mt),r("app"))}catch(Mt){console.error(Mt);let Ot="Authentication failed.";Mt.code==="auth/email-already-in-use"&&(Ot="Email already in use. Try signing in."),Mt.code==="auth/wrong-password"&&(Ot="Invalid password."),Mt.code==="auth/user-not-found"&&(Ot="User not found."),Mt.code==="auth/invalid-credential"&&(Ot="Invalid credentials."),Mt.code==="auth/weak-password"&&(Ot="Password should be at least 6 characters."),Mt.message&&!Ot.includes("Email")&&(Ot=Mt.message),ie(Ot)}finally{Te(!1)}},gi=Re=>{let Ve="";const It="demo123";Re==="business"?(Ve="hello@pixelarcade.co",V(Ke.BUSINESS)):(Ve="jamie.travels@social.com",V(Ke.INFLUENCER)),J(Ve),fe(It),mn(void 0,Ve,It)},Yr=async()=>{await kt.logout(),localStorage.removeItem("ping_session_user"),e(null),r("landing"),J(""),fe(""),Ae(!1),o("home"),l("dashboard")},Kt=async Re=>{if(t&&t.id){const Ve={...t,...Re};e(Ve);try{await kt.updateUserProfile(t.id,Re),Re.settings||Ze("Profile Saved")}catch(It){console.error("Failed to save profile",It),Ze("Error saving profile")}}},Gi=()=>{const Re=!z;B(Re),t&&Kt({settings:{...t.settings||{},darkMode:Re}})},_o=async Re=>{if(!t||!t.id)return;const Ve=await kt.addMatch(Re);lt(Ve),Ce()};if(n==="landing"){const Re=K===Ke.INFLUENCER,Ve=Re?"from-pink-500 to-orange-400":"from-blue-600 to-indigo-500",It=Re?"bg-gradient-to-r from-pink-500 to-orange-400":"bg-gradient-to-r from-blue-600 to-indigo-600",gn={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}},Ir={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return g.jsxs("div",{className:"min-h-[100dvh] w-full bg-[#fff5f7] relative overflow-hidden flex flex-col font-sans transition-colors duration-500",children:[g.jsxs("div",{className:"aurora-bg",children:[g.jsx("div",{className:"blob blob-1"}),g.jsx("div",{className:"blob blob-2"}),g.jsx("div",{className:"blob blob-3"})]}),g.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center relative z-10 safe-top",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("img",{src:yu,alt:"Ping Logo",className:"w-10 h-10 rounded-xl shadow-lg shadow-blue-500/20"}),g.jsx("span",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-orange-400 tracking-tight",children:"Ping"})]}),!Ie&&g.jsxs("button",{onClick:()=>{he("signin"),Ae(!0),ie(null)},className:"flex items-center gap-2 text-gray-600 font-bold text-sm hover:text-gray-900 transition-colors",children:[g.jsx(ls,{size:16})," Log in"]})]}),g.jsx("div",{className:"flex-1"}),g.jsxs("div",{className:"bg-white w-full rounded-t-[40px] shadow-[0_-10px_40px_rgba(0,0,0,0.05)] p-8 pb-12 relative z-10 animate-in slide-in-from-bottom duration-500",children:[g.jsx(yr,{mode:"wait",children:Ie?g.jsxs(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"pt-2",children:[g.jsxs("div",{className:"flex items-center mb-6",children:[g.jsx("button",{onClick:()=>Ae(!1),className:"p-2 -ml-2 text-gray-400 hover:text-gray-900 transition-colors",children:g.jsx(jv,{size:24})}),g.jsx("h2",{className:"text-2xl font-bold text-gray-900 ml-2",children:Se==="signin"?"Welcome Back":"Create Account"})]}),X&&g.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-100 rounded-xl flex items-center gap-2 text-red-600 text-xs font-bold",children:[g.jsx(ZN,{size:14}),X]}),g.jsx("form",{onSubmit:mn,className:"space-y-5",children:pe?g.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-6 space-y-4",children:[g.jsx("div",{className:"w-16 h-16 bg-pink-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-pink-100 shadow-sm",children:g.jsx(Gue,{className:"text-pink-500",size:32})}),g.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Check your email"}),g.jsxs("p",{className:"text-gray-500 text-sm leading-relaxed max-w-[250px] mx-auto",children:["We've sent a magic login link to ",g.jsx("br",{}),g.jsx("span",{className:"font-bold text-gray-900 text-base",children:$})]}),g.jsx($t,{type:"button",onClick:()=>$e(!1),variant:"ghost",className:"mt-4 text-pink-500 hover:bg-pink-50",children:"Try another email"})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"space-y-1.5",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1 uppercase tracking-wider",children:"Email Address"}),g.jsx("input",{type:"email",value:$,onChange:Mt=>J(Mt.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-2xl px-5 py-4 text-gray-900 focus:outline-none focus:border-pink-500 focus:ring-2 focus:ring-pink-100 transition-all font-medium text-base",placeholder:"name@example.com",required:!0})]}),Se==="signin"&&g.jsxs("div",{className:"space-y-1.5",children:[g.jsxs("div",{className:"flex justify-between items-center ml-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Password"}),g.jsx("button",{type:"button",className:"text-xs font-bold text-pink-500",children:"Forgot?"})]}),g.jsx("input",{type:"password",value:te,onChange:Mt=>fe(Mt.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-2xl px-5 py-4 text-gray-900 focus:outline-none focus:border-pink-500 focus:ring-2 focus:ring-pink-100 transition-all font-medium text-base",placeholder:"",required:!0})]}),g.jsx($t,{type:"submit",fullWidth:!0,className:`h-16 text-lg rounded-full mt-2 shadow-xl shadow-pink-500/20 border-none ${It}`,children:ye?g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"})," Processing..."]}):Se==="signin"?"Sign In":"Send Magic Link"}),Se==="signin"&&g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsxs("button",{type:"button",onClick:()=>gi("business"),className:"flex-1 bg-blue-50 hover:bg-blue-100 text-blue-600 text-xs font-bold py-3 rounded-xl transition-colors border border-blue-200 flex items-center justify-center gap-1",children:[g.jsx(Ks,{size:12})," Demo Brand"]}),g.jsxs("button",{type:"button",onClick:()=>gi("creator"),className:"flex-1 bg-pink-50 hover:bg-pink-100 text-pink-600 text-xs font-bold py-3 rounded-xl transition-colors border border-pink-200 flex items-center justify-center gap-1",children:[g.jsx(gl,{size:12})," Demo Creator"]})]}),g.jsx("div",{className:"text-center pt-2",children:g.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:[Se==="signin"?"Don't have an account?":"Already have an account?"," "," ",g.jsx("button",{type:"button",onClick:()=>{he(Se==="signin"?"signup":"signin"),ie(null),$e(!1)},className:"text-gray-900 font-bold hover:underline",children:Se==="signin"?"Sign up":"Log in"})]})})]})})]},"form"):g.jsxs(qe.div,{variants:gn,initial:"hidden",animate:"visible",exit:"hidden",children:[g.jsxs(qe.div,{variants:Ir,className:"bg-gray-100 p-1.5 rounded-full flex mb-10 max-w-xs mx-auto shadow-inner",children:[g.jsx("button",{onClick:()=>V(Ke.INFLUENCER),className:`flex-1 py-3 rounded-full text-sm font-bold transition-all duration-300 ${Re?"bg-white text-gray-900 shadow-md transform scale-100":"text-gray-400 hover:text-gray-600"}`,children:"Creator"}),g.jsx("button",{onClick:()=>V(Ke.BUSINESS),className:`flex-1 py-3 rounded-full text-sm font-bold transition-all duration-300 ${Re?"text-gray-400 hover:text-gray-600":"bg-white text-gray-900 shadow-md transform scale-100"}`,children:"Brand"})]}),g.jsxs(qe.div,{variants:Ir,className:"text-center space-y-6 mb-10",children:[g.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-900 leading-[1.15] tracking-tight",children:Re?g.jsxs(g.Fragment,{children:["Monetize your ",g.jsx("br",{}),g.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r ${Ve}`,children:"Influence."})]}):g.jsxs(g.Fragment,{children:["Hire the world's ",g.jsx("br",{}),g.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r ${Ve}`,children:"Best Talent."})]})}),g.jsx("p",{className:"text-gray-500 text-sm sm:text-base leading-relaxed max-w-xs mx-auto font-medium",children:Re?"Connect with premium brands, manage deals, and get paid instantly.":"Find creators that match your brand identity in seconds, not days."})]}),g.jsx(qe.div,{variants:Ir,children:g.jsxs($t,{onClick:()=>{he("signup"),Ae(!0),ie(null)},fullWidth:!0,className:`h-16 text-lg rounded-full shadow-xl shadow-pink-500/20 ${It} border-none`,animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:["Get Started ",g.jsx(Cue,{className:"ml-2"})]})})]},"welcome")}),!Ie&&g.jsx("div",{className:"mt-8 text-center",children:g.jsx("p",{className:"text-[10px] text-gray-300 uppercase tracking-[0.2em] font-medium",children:"Ping App by Reachup Media"})})]})]})}return n==="admin"?g.jsx(Pke,{onLogout:Yr}):n==="onboarding"&&t?g.jsx(Kke,{role:t.role,onBack:Yr,onComplete:()=>r("app")}):!t||!t.id?null:g.jsxs("div",{className:`h-screen w-full overflow-hidden flex flex-col relative transition-colors duration-300 ${z?"dark bg-[#050505] text-white":"bg-white text-gray-900"}`,children:[g.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[i==="home"&&g.jsx(yr,{mode:"wait",children:s==="dashboard"?g.jsx(Gke,{user:t,notificationCount:y.filter(Re=>!Re.read).length,newLikesCount:E,onNavigate:nt,onSettingsClick:()=>bt(R),onNotificationsClick:()=>bt(j),onUpgrade:()=>bt(P),onUpdateUser:Kt},"dashboard"):s==="analytics"?g.jsx(Hke,{user:t,onBack:()=>l("dashboard"),onUpgrade:()=>bt(P)},"analytics"):g.jsxs("div",{className:"h-full w-full relative",children:[g.jsx(xce,{isLoading:I,candidates:c,currentUserRole:t.role,isPremium:t.isPremium,dailySwipeCount:W,onSwipeCountChange:ee,swipeHistory:se,onSwipeHistoryChange:ge,onUpgrade:()=>bt(P),onSwipe:async(Re,Ve)=>{try{const It=await kt.swipe(t.id,Ve,Re);return It.isMatch&&await Ce(),It}catch(It){return console.error("Swipe operation failed:",It),{isMatch:!1}}},onMatchChat:_o}),g.jsx("button",{onClick:()=>l("dashboard"),className:"absolute top-4 left-4 z-[70] w-10 h-10 flex items-center justify-center bg-white/10 text-white rounded-full backdrop-blur-xl border border-white/20 hover:bg-white/20 transition-all shadow-lg hover:shadow-xl",children:g.jsx(jv,{size:24})})]},"deck")}),i==="matches"&&g.jsxs("div",{className:"h-full w-full flex flex-col p-4 pt-10 overflow-y-auto pb-32",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6 px-2",children:"Matches & Messages"}),h.length===0?g.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-white/30",children:g.jsx("p",{children:"No matches yet. Go swipe!"})}):g.jsx("div",{className:"space-y-2",children:h.map(Re=>{var Ve,It;return g.jsxs(Fr,{onClick:()=>lt(Re),className:"flex items-center gap-4 p-4 cursor-pointer",intensity:"low",hoverEffect:!0,children:[g.jsx("img",{src:((Ve=Re.userProfile)==null?void 0:Ve.avatar)||fi,className:"w-12 h-12 rounded-full object-cover",alt:""}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"font-bold text-sm",children:((It=Re.userProfile)==null?void 0:It.name)||"Match"}),g.jsxs("p",{className:"text-xs text-white/50 truncate",children:[Re.lastSenderId===t.id?"You: ":"",Re.lastMessage||"Start a conversation..."]})]}),g.jsx("span",{className:"text-[10px] text-white/30",children:new Date(Re.lastActive).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},Re.id)})})]}),i==="profile"&&g.jsx(Dke,{user:t,onSave:Kt,onCancel:()=>yt("home")})]}),g.jsxs(yr,{children:[C&&g.jsx("div",{className:"fixed inset-0 z-[100] bg-black",children:g.jsx($ke,{user:t,onUpdateUser:Kt,onBack:()=>R(!1),onLogout:Yr,onUpgrade:()=>bt(P),isDarkMode:z,onToggleTheme:Gi})}),O&&g.jsx(Yke,{notifications:y,onBack:()=>j(!1)}),L&&g.jsx(Wke,{user:t,onClose:()=>P(!1),onUpgrade:async()=>{await kt.upgradeToPremium(),Kt({isPremium:!0}),P(!1),Ze("Welcome to Gold!")}}),S&&g.jsx(Kye,{match:S,currentUser:t,onBack:()=>A(null),isPremium:t.isPremium,onUpgrade:()=>bt(P)}),q&&g.jsx(Xke,{message:q,onClose:()=>F(null)})]}),!S&&!C&&!L&&!O&&(i!=="home"||s==="dashboard")&&g.jsx(Jke,{activeTab:i,onTabChange:yt})]})};class tPe extends Y.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?g.jsx("div",{className:"min-h-screen bg-red-50 flex flex-col items-center justify-center p-6 text-center",children:g.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-md w-full border border-red-100",children:[g.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-6",children:g.jsx(ZN,{size:32})}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Rendering Error"}),g.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed text-sm",children:"We encountered a runtime crash. This often happens due to missing data or a compatibility issue."}),g.jsx("div",{className:"bg-gray-50 p-4 rounded-xl text-left mb-6 overflow-auto max-h-40",children:g.jsx("p",{className:"text-xs font-mono text-red-800 break-words",children:(e=this.state.error)==null?void 0:e.message})}),g.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full py-4 bg-red-600 text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-red-700 transition-colors",children:[g.jsx(Que,{size:20})," Reload Application"]})]})}):this.props.children}}window.onerror=(t,e,n,r,i)=>{console.error("Global crash:",t,i);const o=document.getElementById("root"),s=document.getElementById("loading-indicator");o&&(o.innerHTML===""||s)&&(o.innerHTML=`
      <div style="padding: 24px; font-family: -apple-system, sans-serif; color: #7f1d1d; background: #fef2f2; border: 2px solid #fee2e2; border-radius: 16px; margin: 20px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);">
        <h2 style="margin-top: 0; color: #991b1b;">Ping Runtime Error</h2>
        <p style="font-weight: 500;">The application failed to start.</p>
        <p style="font-size: 14px; opacity: 0.8;">${t}</p>
        <pre style="font-size: 11px; overflow: auto; background: rgba(0,0,0,0.05); padding: 12px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.05); line-height: 1.4;">${(i==null?void 0:i.stack)||"No trace"}</pre>
        <button onclick="window.location.reload()" style="background: #ef4444; color: white; border: none; padding: 12px 24px; border-radius: 12px; font-weight: 600; cursor: pointer; width: 100%;">Try Reloading</button>
      </div>
    `)};const X7=document.getElementById("root");if(!X7)throw new Error("Could not find root element to mount to");const nPe=VW.createRoot(X7);nPe.render(g.jsx(re.StrictMode,{children:g.jsx(tPe,{children:g.jsx(ePe,{})})}));
